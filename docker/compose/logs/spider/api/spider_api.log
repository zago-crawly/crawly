2023-07-05 22:35:08.137 INFO     :: Связь с AMQP сервером установлена.
2023-07-05 22:35:12.042 INFO     :: Связь с AMQP сервером установлена.
2023-07-05 22:41:21.242 INFO     :: Связь с AMQP сервером установлена.
2023-07-05 22:41:25.335 INFO     :: Связь с AMQP сервером установлена.
2023-07-05 22:41:42.992 INFO     :: Связь с AMQP сервером установлена.
2023-07-05 22:41:46.924 INFO     :: Связь с AMQP сервером установлена.
2023-07-05 22:42:00.113 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-05 22:43:00.070 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 14:01:36.732 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-07-06 14:01:36.748 ERROR    :: Ошибка связи с брокером: [Errno 111] Connect call failed ('172.18.0.3', 5672)
2023-07-06 14:01:41.798 INFO     :: Связь с AMQP сервером установлена.
2023-07-06 14:01:46.042 INFO     :: Связь с AMQP сервером установлена.
2023-07-06 14:05:00.119 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 14:06:00.215 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 14:07:00.126 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 14:17:00.623 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 14:18:00.127 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 14:19:00.128 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 14:20:00.116 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 14:21:00.103 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 14:22:00.094 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 16:01:20.550 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-07-06 16:01:20.562 ERROR    :: Ошибка связи с брокером: [Errno 111] Connect call failed ('172.18.0.3', 5672)
2023-07-06 16:01:25.612 INFO     :: Связь с AMQP сервером установлена.
2023-07-06 16:01:29.832 INFO     :: Связь с AMQP сервером установлена.
2023-07-06 16:07:00.176 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 16:08:00.146 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 16:09:00.137 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 16:13:00.098 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 16:14:00.138 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 16:15:00.132 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 16:16:00.151 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 16:17:00.119 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 16:18:00.108 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 16:19:00.108 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 16:20:00.115 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 16:21:00.112 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 16:22:00.110 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 16:23:00.115 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 16:24:00.117 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 16:25:00.118 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 16:26:00.108 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 16:27:00.117 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 16:28:00.113 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 16:29:04.719 INFO     :: Связь с AMQP сервером установлена.
2023-07-06 16:29:08.915 INFO     :: Связь с AMQP сервером установлена.
2023-07-06 16:30:18.423 INFO     :: Связь с AMQP сервером установлена.
2023-07-06 16:30:22.807 INFO     :: Связь с AMQP сервером установлена.
2023-07-06 16:32:00.087 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 16:34:00.113 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 16:35:00.082 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 16:36:00.133 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 16:37:00.098 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 16:38:00.124 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 16:39:00.092 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 16:39:45.543 INFO     :: Связь с AMQP сервером установлена.
2023-07-06 16:39:50.359 INFO     :: Связь с AMQP сервером установлена.
2023-07-06 16:40:00.539 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 16:41:00.100 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 16:42:00.156 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 17:14:00.145 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 18:29:00.128 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 20:08:00.186 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-06 20:09:00.107 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-07 15:49:24.505 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-07-07 15:49:24.515 ERROR    :: Ошибка связи с брокером: [Errno 111] Connect call failed ('172.18.0.3', 5672)
2023-07-07 15:49:29.600 INFO     :: Связь с AMQP сервером установлена.
2023-07-07 15:49:33.452 INFO     :: Связь с AMQP сервером установлена.
2023-07-07 18:40:15.234 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-07-07 18:40:15.245 ERROR    :: Ошибка связи с брокером: [Errno 111] Connect call failed ('172.18.0.3', 5672)
2023-07-07 18:40:20.280 INFO     :: Связь с AMQP сервером установлена.
2023-07-07 18:41:00.063 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-07 18:42:00.138 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-08 09:18:23.738 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-07-08 09:18:23.745 ERROR    :: Ошибка связи с брокером: [Errno 111] Connect call failed ('172.18.0.3', 5672)
2023-07-08 09:18:28.785 INFO     :: Связь с AMQP сервером установлена.
2023-07-08 09:53:00.170 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-08 09:54:00.133 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-08 09:55:00.138 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-08 09:56:00.121 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-08 09:57:00.121 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-08 09:58:00.120 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-08 09:59:00.163 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-08 10:00:00.120 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-08 10:01:00.088 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-08 10:02:00.103 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-08 10:03:00.125 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-08 10:04:00.131 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-08 10:05:00.101 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-08 10:06:00.103 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-08 10:07:00.128 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-08 10:08:00.122 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-08 10:09:00.134 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-08 10:10:00.075 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-08 10:11:00.097 ERROR    :: В сообщении {'action': 'create', 'data': {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}}} не указан уникальный идентификатор задания.
2023-07-08 10:12:00.085 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 10:12:00.142 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-166' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.3932dbacd1e94588aabf9de6a65a4...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 10:21:00.075 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 10:21:00.090 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-185' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.3932dbacd1e94588aabf9de6a65a4...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 10:22:00.103 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 10:22:00.119 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-189' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.3932dbacd1e94588aabf9de6a65a4...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 10:23:00.108 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 10:23:00.121 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-193' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.3932dbacd1e94588aabf9de6a65a4...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 10:24:00.079 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 10:24:00.097 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-197' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.3932dbacd1e94588aabf9de6a65a4...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 10:25:00.087 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 10:25:00.101 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-201' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.3932dbacd1e94588aabf9de6a65a4...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 10:26:00.100 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 10:26:00.113 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-205' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.3932dbacd1e94588aabf9de6a65a4...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 10:27:00.107 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 10:27:00.120 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-209' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.3932dbacd1e94588aabf9de6a65a4...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:09:09.641 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-07-08 18:09:09.650 ERROR    :: Ошибка связи с брокером: [Errno 111] Connect call failed ('172.18.0.3', 5672)
2023-07-08 18:09:14.684 INFO     :: Связь с AMQP сервером установлена.
2023-07-08 18:10:00.093 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:10:00.128 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-22' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.5605ea1e862644f2a6382bd89f335...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:11:00.126 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:11:00.148 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-26' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.5605ea1e862644f2a6382bd89f335...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:12:00.110 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:12:00.124 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-30' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.5605ea1e862644f2a6382bd89f335...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:13:00.109 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:13:00.123 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-34' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.5605ea1e862644f2a6382bd89f335...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:14:00.121 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:14:00.135 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-38' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.5605ea1e862644f2a6382bd89f335...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:16:00.100 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:16:00.114 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-44' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.5605ea1e862644f2a6382bd89f335...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:17:00.085 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:17:00.100 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-48' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.5605ea1e862644f2a6382bd89f335...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:18:00.092 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:18:00.106 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-52' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.5605ea1e862644f2a6382bd89f335...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:19:00.099 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:19:00.114 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-56' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.5605ea1e862644f2a6382bd89f335...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:20:00.095 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:20:00.108 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-60' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.5605ea1e862644f2a6382bd89f335...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:21:00.081 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:21:00.097 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-64' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.5605ea1e862644f2a6382bd89f335...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:22:00.077 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:22:00.097 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-68' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.5605ea1e862644f2a6382bd89f335...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:24:00.085 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:24:00.099 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-74' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.5605ea1e862644f2a6382bd89f335...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:30:00.079 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:30:00.094 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-88' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.5605ea1e862644f2a6382bd89f335...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:31:00.080 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:31:00.096 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-92' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.5605ea1e862644f2a6382bd89f335...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:32:00.088 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:32:00.101 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-96' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.5605ea1e862644f2a6382bd89f335...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:33:00.092 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:33:00.106 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-100' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.5605ea1e862644f2a6382bd89f335...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:34:00.081 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:34:00.097 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-104' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.5605ea1e862644f2a6382bd89f335...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:40:00.083 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:40:00.099 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-118' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.5605ea1e862644f2a6382bd89f335...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:41:00.073 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * 1 * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:41:00.089 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-122' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.5605ea1e862644f2a6382bd89f335...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * 1 * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:42:00.082 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * 1 * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:42:00.098 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-126' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.5605ea1e862644f2a6382bd89f335...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * 1 * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:43:00.077 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * 1 * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 18:43:00.092 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-130' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.5605ea1e862644f2a6382bd89f335...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * 1 * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-08 19:43:18.033 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-07-08 19:43:18.042 ERROR    :: Ошибка связи с брокером: [Errno 111] Connect call failed ('172.18.0.3', 5672)
2023-07-08 19:43:23.080 INFO     :: Связь с AMQP сервером установлена.
2023-07-09 09:39:06.956 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-07-09 09:39:06.967 ERROR    :: Ошибка связи с брокером: [Errno 111] Connect call failed ('172.18.0.3', 5672)
2023-07-09 09:39:12.004 INFO     :: Связь с AMQP сервером установлена.
2023-07-09 09:40:00.083 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-09 09:40:00.121 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-22' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.c968ed4ce25b4c97aeee75d7ed8e3...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-09 09:41:00.123 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-09 09:41:00.144 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-26' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.c968ed4ce25b4c97aeee75d7ed8e3...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-09 09:42:00.131 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-09 09:42:00.148 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-30' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.c968ed4ce25b4c97aeee75d7ed8e3...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-09 09:44:00.100 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-09 09:44:00.115 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-36' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.c968ed4ce25b4c97aeee75d7ed8e3...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-09 09:46:00.092 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-09 09:46:00.110 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-42' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.c968ed4ce25b4c97aeee75d7ed8e3...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-09 09:47:00.101 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '1 2 3 4 5', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-09 09:47:00.117 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-46' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.c968ed4ce25b4c97aeee75d7ed8e3...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '1 2 3 4 5', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-09 09:48:00.084 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '1 2 3 4 5', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-09 09:48:00.099 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-50' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1164,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.c968ed4ce25b4c97aeee75d7ed8e3...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '1 2 3 4 5', 'resource': {'resource_name': 'archi competition', 'resource_url': 'https://archi.ru/contests', 'templa...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-09 09:50:00.086 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '1 2 3 4 5', 'resource': {'resource_name': 'archi_ru_competition', 'resource_url': 'https://competitions.archi.ru/co...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-09 09:50:00.101 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-56' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1180,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.c968ed4ce25b4c97aeee75d7ed8e3...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '1 2 3 4 5', 'resource': {'resource_name': 'archi_ru_competition', 'resource_url': 'https://competitions.archi.ru/co...

AttributeError: 'NoneType' object has no attribute 'get'
2023-07-09 12:23:29.446 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-07-09 12:23:29.453 ERROR    :: Ошибка связи с брокером: [Errno 111] Connect call failed ('172.18.0.3', 5672)
2023-07-09 12:23:34.501 INFO     :: Связь с AMQP сервером установлена.
2023-07-09 13:30:25.559 INFO     :: Связь с AMQP сервером установлена.
2023-07-09 13:30:30.089 INFO     :: Связь с AMQP сервером установлена.
2023-07-09 13:35:08.669 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-07-09 13:35:08.678 ERROR    :: Ошибка связи с брокером: [Errno 111] Connect call failed ('172.18.0.6', 5672)
2023-07-09 13:35:13.737 INFO     :: Связь с AMQP сервером установлена.
2023-07-09 13:35:18.053 INFO     :: Связь с AMQP сервером установлена.
2023-07-09 15:17:34.367 ERROR    :: Unexpected connection close from remote "amqp://crwl:******@rabbitmq:5672/", Connection.Close(reply_code=320, reply_text="CONNECTION_FORCED - broker forced connection closure with reason 'shutdown'")
NoneType: None
2023-07-09 15:17:34.448 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-07-09 19:26:40.627 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-07-09 19:26:40.636 ERROR    :: Ошибка связи с брокером: [Errno 111] Connect call failed ('172.18.0.5', 5672)
2023-07-09 19:26:45.682 INFO     :: Связь с AMQP сервером установлена.
2023-07-11 13:13:15.553 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-07-11 13:13:15.569 ERROR    :: Ошибка связи с брокером: [Errno 111] Connect call failed ('172.18.0.2', 5672)
2023-07-11 13:13:20.658 INFO     :: Связь с AMQP сервером установлена.
2023-07-11 13:13:24.450 INFO     :: Связь с AMQP сервером установлена.
2023-07-11 15:34:59.107 INFO     :: Связь с AMQP сервером установлена.
2023-07-11 15:51:03.102 INFO     :: Связь с AMQP сервером установлена.
2023-07-11 15:51:07.450 INFO     :: Связь с AMQP сервером установлена.
2023-07-11 15:56:11.960 INFO     :: Связь с AMQP сервером установлена.
2023-07-11 15:56:16.360 INFO     :: Связь с AMQP сервером установлена.
2023-07-11 16:00:13.788 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-07-11 16:00:13.798 ERROR    :: Ошибка связи с брокером: [Errno 111] Connect call failed ('172.18.0.6', 5672)
2023-07-11 16:00:18.840 INFO     :: Связь с AMQP сервером установлена.
2023-07-11 16:00:23.169 INFO     :: Связь с AMQP сервером установлена.
2023-07-12 16:49:29.051 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-07-12 16:49:29.065 ERROR    :: Ошибка связи с брокером: [Errno 111] Connect call failed ('172.18.0.3', 5672)
2023-07-12 16:49:34.134 INFO     :: Связь с AMQP сервером установлена.
2023-07-12 17:07:48.722 INFO     :: Связь с AMQP сервером установлена.
2023-07-12 17:07:56.533 INFO     :: Связь с AMQP сервером установлена.
2023-07-12 17:29:15.812 ERROR    :: Unexpected connection close from remote "amqp://crwl:******@rabbitmq:5672/", Connection.Close(reply_code=320, reply_text="CONNECTION_FORCED - broker forced connection closure with reason 'shutdown'")
NoneType: None
2023-07-12 17:29:38.267 INFO     :: Связь с AMQP сервером установлена.
2023-07-12 17:29:45.366 INFO     :: Связь с AMQP сервером установлена.
2023-07-12 20:20:11.015 ERROR    :: Unexpected connection close from remote "amqp://crwl:******@rabbitmq:5672/", Connection.Close(reply_code=320, reply_text="CONNECTION_FORCED - broker forced connection closure with reason 'shutdown'")
NoneType: None
2023-07-12 20:20:11.078 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-07-21 15:40:35.036 INFO     :: Связь с AMQP сервером установлена.
2023-07-21 15:40:42.325 INFO     :: Связь с AMQP сервером установлена.
2023-08-01 15:49:54.464 INFO     :: Связь с AMQP сервером установлена.
2023-08-01 15:50:01.809 INFO     :: Связь с AMQP сервером установлена.
2023-08-01 16:07:41.539 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-01 16:07:41.656 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-01 16:07:41.664 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-01 16:07:46.702 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-01 16:07:46.708 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-01 16:07:51.724 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-01 16:07:51.726 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-01 16:07:56.754 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-01 16:07:56.759 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-01 16:08:01.790 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-01 16:08:01.796 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-01 16:08:06.833 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-01 16:08:06.847 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-01 16:08:11.882 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-01 16:08:11.888 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-01 16:08:16.920 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-01 16:08:16.926 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-01 16:08:21.963 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-01 16:08:21.971 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-01 16:08:26.996 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-01 16:08:27.002 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-01 16:08:32.034 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-01 16:08:32.043 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-01 16:08:37.062 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-01 16:08:37.066 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno 111] Connect call failed ('172.18.0.3', 5672). Reconnecting after 5 seconds.
2023-08-01 16:08:42.086 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-01 16:08:42.092 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno 111] Connect call failed ('172.18.0.3', 5672). Reconnecting after 5 seconds.
2023-08-01 16:08:47.110 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-01 16:08:47.117 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno 111] Connect call failed ('172.18.0.3', 5672). Reconnecting after 5 seconds.
2023-08-01 16:08:52.130 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-01 16:08:52.135 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno 111] Connect call failed ('172.18.0.3', 5672). Reconnecting after 5 seconds.
2023-08-01 16:08:57.154 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-01 16:08:57.159 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno 111] Connect call failed ('172.18.0.3', 5672). Reconnecting after 5 seconds.
2023-08-01 16:09:02.179 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-01 16:09:02.188 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno 111] Connect call failed ('172.18.0.3', 5672). Reconnecting after 5 seconds.
2023-08-01 16:09:07.212 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-01 16:09:07.218 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno 111] Connect call failed ('172.18.0.3', 5672). Reconnecting after 5 seconds.
2023-08-01 16:09:12.242 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-01 16:09:12.248 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno 111] Connect call failed ('172.18.0.3', 5672). Reconnecting after 5 seconds.
2023-08-01 16:09:17.271 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-01 16:09:17.277 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno 111] Connect call failed ('172.18.0.3', 5672). Reconnecting after 5 seconds.
2023-08-01 16:09:22.296 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-01 16:09:22.304 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno 111] Connect call failed ('172.18.0.3', 5672). Reconnecting after 5 seconds.
2023-08-01 16:09:27.325 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-01 16:09:27.333 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno 111] Connect call failed ('172.18.0.3', 5672). Reconnecting after 5 seconds.
2023-08-01 16:09:32.354 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-01 16:09:32.359 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno 111] Connect call failed ('172.18.0.3', 5672). Reconnecting after 5 seconds.
2023-08-01 16:09:37.370 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-01 16:09:37.373 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno 111] Connect call failed ('172.18.0.3', 5672). Reconnecting after 5 seconds.
2023-08-01 16:11:22.320 ERROR    :: Unexpected connection close from remote "amqp://crwl:******@rabbitmq:5672/", Connection.Close(reply_code=320, reply_text="CONNECTION_FORCED - broker forced connection closure with reason 'shutdown'")
NoneType: None
2023-08-01 16:11:22.474 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-01 16:11:22.510 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-01 16:11:22.514 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno 111] Connect call failed ('172.18.0.3', 5672). Reconnecting after 5 seconds.
2023-08-01 16:11:27.549 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-01 16:11:27.552 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno 111] Connect call failed ('172.18.0.3', 5672). Reconnecting after 5 seconds.
2023-08-01 16:11:50.062 INFO     :: Связь с AMQP сервером установлена.
2023-08-01 16:11:57.402 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 20:02:07.584 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 20:02:14.128 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 20:04:00.083 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...

AttributeError: 'NoneType' object has no attribute 'get'
2023-08-02 20:04:00.119 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-22' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1217,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.e748f6cc845e4891b085122d5ab04...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc040>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...

AttributeError: 'NoneType' object has no attribute 'get'
2023-08-02 20:05:00.101 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...

AttributeError: 'NoneType' object has no attribute 'get'
2023-08-02 20:05:00.116 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-26' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1217,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.e748f6cc845e4891b085122d5ab04...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc040>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...

AttributeError: 'NoneType' object has no attribute 'get'
2023-08-02 20:06:00.106 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...

AttributeError: 'NoneType' object has no attribute 'get'
2023-08-02 20:06:00.121 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-30' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1217,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.e748f6cc845e4891b085122d5ab04...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc040>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...

AttributeError: 'NoneType' object has no attribute 'get'
2023-08-02 20:07:00.100 ERROR    :: Exception in callback _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ibute 'get'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'NoneType' object has no attribute 'get'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...

AttributeError: 'NoneType' object has no attribute 'get'
2023-08-02 20:07:00.117 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-34' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'NoneType' object has no attribute 'get'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1217,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.e748f6cc845e4891b085122d5ab04...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc040>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 60, in _process_message
    task_uuid = mes.get('data').get("task_uuid")
                │   └ <method 'get' of 'dict' objects>
                └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...

AttributeError: 'NoneType' object has no attribute 'get'
2023-08-02 20:08:07.083 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 20:08:07.090 ERROR    :: В сообщении {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'task_id': '51890470-69a0-41b6-9506-1ddc72a16e46'} не указан уникальный идентификатор задания.
2023-08-02 20:08:13.388 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 20:09:00.099 ERROR    :: В сообщении {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'task_id': '51890470-69a0-41b6-9506-1ddc72a16e46'} не указан уникальный идентификатор задания.
2023-08-02 20:11:00.089 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'task_uuid': 'a1fc7232-d0f0-4635-ab13-00bcd55fbf52'}
2023-08-02 20:12:00.092 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'task_uuid': 'a1fc7232-d0f0-4635-ab13-00bcd55fbf52'}
2023-08-02 20:13:00.095 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'task_uuid': 'a1fc7232-d0f0-4635-ab13-00bcd55fbf52'}
2023-08-02 20:14:00.110 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'task_uuid': 'a1fc7232-d0f0-4635-ab13-00bcd55fbf52'}
2023-08-02 20:14:45.438 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 20:14:52.746 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 20:15:00.087 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'task_uuid': 'a1fc7232-d0f0-4635-ab13-00bcd55fbf52'}
2023-08-02 20:15:00.111 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:15:00.139 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:16:00.115 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'task_uuid': 'a1fc7232-d0f0-4635-ab13-00bcd55fbf52'}
2023-08-02 20:16:00.137 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:16:00.139 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:16:20.805 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 20:16:27.127 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 20:17:00.097 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'task_uuid': 'a1fc7232-d0f0-4635-ab13-00bcd55fbf52'}
2023-08-02 20:17:00.124 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:17:00.154 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:18:00.099 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'task_uuid': 'a1fc7232-d0f0-4635-ab13-00bcd55fbf52'}
2023-08-02 20:18:00.124 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:18:00.126 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:19:00.110 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'task_uuid': 'a1fc7232-d0f0-4635-ab13-00bcd55fbf52'}
2023-08-02 20:19:00.134 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:19:00.136 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:20:00.110 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'task_uuid': 'a1fc7232-d0f0-4635-ab13-00bcd55fbf52'}
2023-08-02 20:20:00.133 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:20:00.135 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:21:00.102 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'task_uuid': 'a1fc7232-d0f0-4635-ab13-00bcd55fbf52'}
2023-08-02 20:21:00.124 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:21:00.126 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:22:00.099 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'task_uuid': 'a1fc7232-d0f0-4635-ab13-00bcd55fbf52'}
2023-08-02 20:22:00.121 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:22:00.123 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:23:00.091 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'task_uuid': 'a1fc7232-d0f0-4635-ab13-00bcd55fbf52'}
2023-08-02 20:23:00.116 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:23:00.118 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:24:00.087 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'task_uuid': 'a1fc7232-d0f0-4635-ab13-00bcd55fbf52'}
2023-08-02 20:24:00.110 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:24:00.114 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:25:00.099 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'task_uuid': 'a1fc7232-d0f0-4635-ab13-00bcd55fbf52'}
2023-08-02 20:25:00.121 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:25:00.123 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:25:24.748 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 20:25:31.843 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 20:26:00.110 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'task_uuid': 'a1fc7232-d0f0-4635-ab13-00bcd55fbf52'}
2023-08-02 20:26:00.135 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:26:00.164 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:27:00.152 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'task_uuid': 'a1fc7232-d0f0-4635-ab13-00bcd55fbf52'}
2023-08-02 20:27:00.188 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:27:00.191 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:28:00.136 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'task_uuid': 'a1fc7232-d0f0-4635-ab13-00bcd55fbf52'}
2023-08-02 20:28:00.167 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:28:00.170 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:29:00.131 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'task_uuid': 'a1fc7232-d0f0-4635-ab13-00bcd55fbf52'}
2023-08-02 20:29:00.163 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:29:00.165 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:30:00.184 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'task_uuid': 'a1fc7232-d0f0-4635-ab13-00bcd55fbf52'}
2023-08-02 20:30:00.225 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:30:00.231 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:32:08.144 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 20:32:15.143 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 20:33:00.077 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'task_uuid': '1f26c2ec-6f47-41e7-89b3-e2023df5aaa6'}
2023-08-02 20:33:00.105 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:33:00.137 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:34:00.110 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'task_uuid': '1f26c2ec-6f47-41e7-89b3-e2023df5aaa6'}
2023-08-02 20:34:00.135 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:34:00.137 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:35:00.132 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'task_uuid': '1f26c2ec-6f47-41e7-89b3-e2023df5aaa6'}
2023-08-02 20:35:00.155 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:35:00.157 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:35:41.639 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 20:35:48.614 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 20:36:00.080 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'task_uuid': '1f26c2ec-6f47-41e7-89b3-e2023df5aaa6'}
2023-08-02 20:36:00.106 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:36:00.134 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:37:00.075 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'settings': {'max_items': 10}, 'task_uuid': '9874687d-e350-4301-8707-67ff7dad9080'}
2023-08-02 20:37:00.101 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:37:00.103 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:37:00.120 INFO     :: Overridden settings:
{'LOG_LEVEL': 'ERROR'}
2023-08-02 20:37:00.126 WARNING  :: /usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/utils/request.py:232: ScrapyDeprecationWarning: '2.6' is a deprecated value for the 'REQUEST_FINGERPRINTER_IMPLEMENTATION' setting.

It is also the default value. In other words, it is normal to get this warning if you have not defined a value for the 'REQUEST_FINGERPRINTER_IMPLEMENTATION' setting. This is so for backward compatibility reasons, but it will change in a future version of Scrapy.

See the documentation of the 'REQUEST_FINGERPRINTER_IMPLEMENTATION' setting for information on how to handle this deprecation.
  return cls(crawler)

2023-08-02 20:37:00.186 INFO     :: Telnet Password: f754ba110e557b68
2023-08-02 20:37:00.530 INFO     :: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2023-08-02 20:38:00.090 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'settings': {'max_items': 10}, 'task_uuid': '9874687d-e350-4301-8707-67ff7dad9080'}
2023-08-02 20:38:00.099 CRITICAL :: Unhandled error in Deferred:
2023-08-02 20:38:00.102 CRITICAL :: Unhandled error in Deferred:
2023-08-02 20:38:00.115 CRITICAL :: 
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
  File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    process.crawl(Spider, task=new_task)

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 240, in crawl
    return self._crawl(crawler, *args, **kwargs)
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 244, in _crawl
    d = crawler.crawl(*args, **kwargs)
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/defer.py", line 1947, in unwindGenerator
    return _cancellableInlineCallbacks(gen)
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/defer.py", line 1857, in _cancellableInlineCallbacks
    _inlineCallbacks(None, gen, status, _copy_context())
> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/defer.py", line 1697, in _inlineCallbacks
    result = context.run(gen.send, result)
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 128, in crawl
    self.spider = self._create_spider(*args, **kwargs)
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 140, in _create_spider
    return self.spidercls.from_crawler(self, *args, **kwargs)

  File "/usr/src/spider_svc/./src/spider/app/spiders/spider.py", line 47, in from_crawler
    spider = super(Spider, cls).from_crawler(crawler, task, *args, **kwargs)

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/spiders/crawl.py", line 145, in from_crawler
    spider = super().from_crawler(crawler, *args, **kwargs)
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/spiders/__init__.py", line 53, in from_crawler
    spider = cls(*args, **kwargs)

  File "/usr/src/spider_svc/./src/spider/app/spiders/spider.py", line 37, in __init__
    self._task_id = task.id

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/pydantic/main.py", line 710, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')

AttributeError: 'TaskForSpider' object has no attribute 'id'
2023-08-02 20:38:00.140 CRITICAL :: 
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
  File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    process.crawl(Spider, task=new_task)

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 240, in crawl
    return self._crawl(crawler, *args, **kwargs)
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 244, in _crawl
    d = crawler.crawl(*args, **kwargs)
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/defer.py", line 1947, in unwindGenerator
    return _cancellableInlineCallbacks(gen)
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/defer.py", line 1857, in _cancellableInlineCallbacks
    _inlineCallbacks(None, gen, status, _copy_context())
> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/defer.py", line 1697, in _inlineCallbacks
    result = context.run(gen.send, result)
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 128, in crawl
    self.spider = self._create_spider(*args, **kwargs)
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 140, in _create_spider
    return self.spidercls.from_crawler(self, *args, **kwargs)

  File "/usr/src/spider_svc/./src/spider/app/spiders/spider.py", line 47, in from_crawler
    spider = super(Spider, cls).from_crawler(crawler, task, *args, **kwargs)

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/spiders/crawl.py", line 145, in from_crawler
    spider = super().from_crawler(crawler, *args, **kwargs)
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/spiders/__init__.py", line 53, in from_crawler
    spider = cls(*args, **kwargs)

  File "/usr/src/spider_svc/./src/spider/app/spiders/spider.py", line 37, in __init__
    self._task_id = task.id

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/pydantic/main.py", line 710, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')

AttributeError: 'TaskForSpider' object has no attribute 'id'
2023-08-02 20:38:00.177 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:38:00.179 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:38:00.195 INFO     :: Overridden settings:
{'LOG_LEVEL': 'ERROR'}
2023-08-02 20:38:00.199 INFO     :: Telnet Password: 4686c0aae595328f
2023-08-02 20:38:00.202 INFO     :: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2023-08-02 20:38:59.117 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 20:39:05.402 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 20:39:05.409 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'settings': {'max_items': 10}, 'task_uuid': '9874687d-e350-4301-8707-67ff7dad9080'}
2023-08-02 20:39:05.432 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:39:05.465 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:39:05.484 INFO     :: Overridden settings:
{'LOG_LEVEL': 'ERROR'}
2023-08-02 20:39:05.487 WARNING  :: /usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/utils/request.py:232: ScrapyDeprecationWarning: '2.6' is a deprecated value for the 'REQUEST_FINGERPRINTER_IMPLEMENTATION' setting.

It is also the default value. In other words, it is normal to get this warning if you have not defined a value for the 'REQUEST_FINGERPRINTER_IMPLEMENTATION' setting. This is so for backward compatibility reasons, but it will change in a future version of Scrapy.

See the documentation of the 'REQUEST_FINGERPRINTER_IMPLEMENTATION' setting for information on how to handle this deprecation.
  return cls(crawler)

2023-08-02 20:39:05.542 INFO     :: Telnet Password: d42fa74b434eff67
2023-08-02 20:39:05.883 INFO     :: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2023-08-02 20:39:06.044 INFO     :: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2023-08-02 20:39:06.056 INFO     :: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2023-08-02 20:39:06.064 INFO     :: Enabled item pipelines:
['src.spider.app.pipelines.SpiderMainPipeline']
2023-08-02 20:39:06.066 INFO     :: Spider opened
2023-08-02 20:39:06.337 WARNING  :: /usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/defer.py:1857: RuntimeWarning: coroutine 'SpiderMainPipeline.open_spider' was never awaited
  _inlineCallbacks(None, gen, status, _copy_context())

2023-08-02 20:39:06.339 INFO     :: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2023-08-02 20:39:06.345 INFO     :: Telnet console listening on 127.0.0.1:6023
2023-08-02 20:39:09.186 INFO     :: Closing spider (finished)
2023-08-02 20:39:09.188 WARNING  :: /usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/defer.py:892: RuntimeWarning: coroutine 'SpiderMainPipeline.close_spider' was never awaited
  current.result = callback(  # type: ignore[misc]

2023-08-02 20:39:09.191 INFO     :: Dumping Scrapy stats:
{'downloader/request_bytes': 8785,
 'downloader/request_count': 31,
 'downloader/request_method_count/GET': 31,
 'downloader/response_bytes': 195072,
 'downloader/response_count': 31,
 'downloader/response_status_count/200': 31,
 'elapsed_time_seconds': 2.850198,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2023, 8, 2, 20, 39, 9, 189687),
 'httpcompression/response_bytes': 651005,
 'httpcompression/response_count': 31,
 'memusage/max': 155361280,
 'memusage/startup': 155361280,
 'request_depth_max': 1,
 'response_received_count': 31,
 'scheduler/dequeued': 31,
 'scheduler/dequeued/memory': 31,
 'scheduler/enqueued': 31,
 'scheduler/enqueued/memory': 31,
 'start_time': datetime.datetime(2023, 8, 2, 20, 39, 6, 339489)}
2023-08-02 20:39:09.193 INFO     :: Spider closed (finished)
2023-08-02 20:40:00.078 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'settings': {'max_items': 10}, 'task_uuid': '9874687d-e350-4301-8707-67ff7dad9080'}
2023-08-02 20:40:00.107 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:40:00.110 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:40:00.126 INFO     :: Overridden settings:
{'LOG_LEVEL': 'ERROR'}
2023-08-02 20:40:00.129 WARNING  :: /usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/utils/request.py:232: ScrapyDeprecationWarning: '2.6' is a deprecated value for the 'REQUEST_FINGERPRINTER_IMPLEMENTATION' setting.

It is also the default value. In other words, it is normal to get this warning if you have not defined a value for the 'REQUEST_FINGERPRINTER_IMPLEMENTATION' setting. This is so for backward compatibility reasons, but it will change in a future version of Scrapy.

See the documentation of the 'REQUEST_FINGERPRINTER_IMPLEMENTATION' setting for information on how to handle this deprecation.
  return cls(crawler)

2023-08-02 20:40:00.132 INFO     :: Telnet Password: 482fab013e0f08e2
2023-08-02 20:40:00.135 INFO     :: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2023-08-02 20:40:00.141 INFO     :: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2023-08-02 20:40:00.145 INFO     :: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2023-08-02 20:40:00.147 INFO     :: Enabled item pipelines:
['src.spider.app.pipelines.SpiderMainPipeline']
2023-08-02 20:40:00.148 INFO     :: Spider opened
2023-08-02 20:40:00.150 WARNING  :: /usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/defer.py:1857: RuntimeWarning: coroutine 'SpiderMainPipeline.open_spider' was never awaited
  _inlineCallbacks(None, gen, status, _copy_context())

2023-08-02 20:40:00.152 INFO     :: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2023-08-02 20:40:00.156 INFO     :: Telnet console listening on 127.0.0.1:6023
2023-08-02 20:40:00.161 ERROR    :: Exception in callback _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ ReactorNotRestartable()

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x40060f1d50>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:40:00.196 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-22' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=ReactorNotRestartable()>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.6c1d465d1c614b91905499cdc442e...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc040>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x40060f1d50>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:41:00.085 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'settings': {'max_items': 10}, 'task_uuid': '9874687d-e350-4301-8707-67ff7dad9080'}
2023-08-02 20:41:00.118 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:41:00.123 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:41:00.141 INFO     :: Overridden settings:
{'LOG_LEVEL': 'ERROR'}
2023-08-02 20:41:00.150 INFO     :: Telnet Password: f366e237057e27e5
2023-08-02 20:41:00.155 INFO     :: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2023-08-02 20:41:00.161 INFO     :: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2023-08-02 20:41:00.166 INFO     :: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2023-08-02 20:41:00.168 INFO     :: Enabled item pipelines:
['src.spider.app.pipelines.SpiderMainPipeline']
2023-08-02 20:41:00.171 INFO     :: Spider opened
2023-08-02 20:41:00.173 INFO     :: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2023-08-02 20:41:00.182 INFO     :: Telnet console listening on 127.0.0.1:6024
2023-08-02 20:41:00.188 ERROR    :: Exception in callback _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ ReactorNotRestartable()

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x401fe00550>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:41:00.208 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-26' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=ReactorNotRestartable()>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.6c1d465d1c614b91905499cdc442e...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc040>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x401fe00550>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:42:00.087 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'settings': {'max_items': 10}, 'task_uuid': '9874687d-e350-4301-8707-67ff7dad9080'}
2023-08-02 20:42:00.115 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:42:00.118 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:42:00.133 INFO     :: Overridden settings:
{'LOG_LEVEL': 'ERROR'}
2023-08-02 20:42:00.138 INFO     :: Telnet Password: 2b4acc56efc6ea39
2023-08-02 20:42:00.141 INFO     :: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2023-08-02 20:42:00.150 INFO     :: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2023-08-02 20:42:00.156 INFO     :: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2023-08-02 20:42:00.159 INFO     :: Enabled item pipelines:
['src.spider.app.pipelines.SpiderMainPipeline']
2023-08-02 20:42:00.160 INFO     :: Spider opened
2023-08-02 20:42:00.163 INFO     :: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2023-08-02 20:42:00.172 INFO     :: Telnet console listening on 127.0.0.1:6025
2023-08-02 20:42:00.178 ERROR    :: Exception in callback _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ ReactorNotRestartable()

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x4028f4df60>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:42:00.203 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-30' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=ReactorNotRestartable()>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.6c1d465d1c614b91905499cdc442e...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc040>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x4028f4df60>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:43:00.096 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'settings': {'max_items': 10}, 'task_uuid': '9874687d-e350-4301-8707-67ff7dad9080'}
2023-08-02 20:43:00.121 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:43:00.123 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:43:00.139 INFO     :: Overridden settings:
{'LOG_LEVEL': 'ERROR'}
2023-08-02 20:43:00.145 INFO     :: Telnet Password: 1bed88579c4c3a2d
2023-08-02 20:43:00.148 INFO     :: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2023-08-02 20:43:00.154 INFO     :: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2023-08-02 20:43:00.158 INFO     :: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2023-08-02 20:43:00.160 INFO     :: Enabled item pipelines:
['src.spider.app.pipelines.SpiderMainPipeline']
2023-08-02 20:43:00.162 INFO     :: Spider opened
2023-08-02 20:43:00.164 INFO     :: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2023-08-02 20:43:00.170 INFO     :: Telnet console listening on 127.0.0.1:6026
2023-08-02 20:43:00.176 ERROR    :: Exception in callback _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ ReactorNotRestartable()

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x4028f65b70>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:43:00.198 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-34' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=ReactorNotRestartable()>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.6c1d465d1c614b91905499cdc442e...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc040>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x4028f65b70>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:44:00.113 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'settings': {'max_items': 10}, 'task_uuid': '9874687d-e350-4301-8707-67ff7dad9080'}
2023-08-02 20:44:00.136 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:44:00.139 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:44:00.155 INFO     :: Overridden settings:
{'LOG_LEVEL': 'ERROR'}
2023-08-02 20:44:00.158 INFO     :: Telnet Password: 5608d1e83c13f7ac
2023-08-02 20:44:00.161 INFO     :: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2023-08-02 20:44:00.166 INFO     :: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2023-08-02 20:44:00.169 INFO     :: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2023-08-02 20:44:00.172 INFO     :: Enabled item pipelines:
['src.spider.app.pipelines.SpiderMainPipeline']
2023-08-02 20:44:00.173 INFO     :: Spider opened
2023-08-02 20:44:00.175 INFO     :: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2023-08-02 20:44:00.180 INFO     :: Telnet console listening on 127.0.0.1:6027
2023-08-02 20:44:00.190 ERROR    :: Exception in callback _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ ReactorNotRestartable()

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x40061f0700>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:44:00.211 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-38' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=ReactorNotRestartable()>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.6c1d465d1c614b91905499cdc442e...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc040>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x40061f0700>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:45:00.110 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'settings': {'max_items': 10}, 'task_uuid': '9874687d-e350-4301-8707-67ff7dad9080'}
2023-08-02 20:45:00.136 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:45:00.138 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:45:00.155 INFO     :: Overridden settings:
{'LOG_LEVEL': 'ERROR'}
2023-08-02 20:45:00.159 INFO     :: Telnet Password: f9806e407c0cbdfd
2023-08-02 20:45:00.162 INFO     :: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2023-08-02 20:45:00.168 INFO     :: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2023-08-02 20:45:00.172 INFO     :: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2023-08-02 20:45:00.173 INFO     :: Enabled item pipelines:
['src.spider.app.pipelines.SpiderMainPipeline']
2023-08-02 20:45:00.175 INFO     :: Spider opened
2023-08-02 20:45:00.177 INFO     :: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2023-08-02 20:45:00.187 INFO     :: Telnet console listening on 127.0.0.1:6028
2023-08-02 20:45:00.192 ERROR    :: Exception in callback _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ ReactorNotRestartable()

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x4028f8efb0>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:45:00.217 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-42' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=ReactorNotRestartable()>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.6c1d465d1c614b91905499cdc442e...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc040>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x4028f8efb0>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:46:00.110 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'settings': {'max_items': 10}, 'task_uuid': '9874687d-e350-4301-8707-67ff7dad9080'}
2023-08-02 20:46:00.135 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:46:00.137 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:46:00.152 INFO     :: Overridden settings:
{'LOG_LEVEL': 'ERROR'}
2023-08-02 20:46:00.157 INFO     :: Telnet Password: 2ca6d85371c906bd
2023-08-02 20:46:00.160 INFO     :: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2023-08-02 20:46:00.166 INFO     :: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2023-08-02 20:46:00.172 INFO     :: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2023-08-02 20:46:00.174 INFO     :: Enabled item pipelines:
['src.spider.app.pipelines.SpiderMainPipeline']
2023-08-02 20:46:00.176 INFO     :: Spider opened
2023-08-02 20:46:00.178 INFO     :: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2023-08-02 20:46:00.185 INFO     :: Telnet console listening on 127.0.0.1:6029
2023-08-02 20:46:00.192 ERROR    :: Exception in callback _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ ReactorNotRestartable()

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x4028faf700>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:46:00.215 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-46' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=ReactorNotRestartable()>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.6c1d465d1c614b91905499cdc442e...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc040>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x4028faf700>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:47:00.089 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'settings': {'max_items': 10}, 'task_uuid': '9874687d-e350-4301-8707-67ff7dad9080'}
2023-08-02 20:47:00.112 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:47:00.114 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:47:00.129 INFO     :: Overridden settings:
{'LOG_LEVEL': 'ERROR'}
2023-08-02 20:47:00.135 INFO     :: Telnet Password: 55fab9211e915096
2023-08-02 20:47:00.138 INFO     :: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2023-08-02 20:47:00.145 INFO     :: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2023-08-02 20:47:00.148 INFO     :: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2023-08-02 20:47:00.151 INFO     :: Enabled item pipelines:
['src.spider.app.pipelines.SpiderMainPipeline']
2023-08-02 20:47:00.153 INFO     :: Spider opened
2023-08-02 20:47:00.156 INFO     :: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2023-08-02 20:47:00.165 INFO     :: Telnet console listening on 127.0.0.1:6030
2023-08-02 20:47:00.172 ERROR    :: Exception in callback _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ ReactorNotRestartable()

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x4028fd6200>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:47:00.195 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-50' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=ReactorNotRestartable()>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.6c1d465d1c614b91905499cdc442e...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc040>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x4028fd6200>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:48:00.078 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'settings': {'max_items': 10}, 'task_uuid': '9874687d-e350-4301-8707-67ff7dad9080'}
2023-08-02 20:48:00.106 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:48:00.109 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:48:00.128 INFO     :: Overridden settings:
{'LOG_LEVEL': 'ERROR'}
2023-08-02 20:48:00.134 INFO     :: Telnet Password: c46e0c5373050607
2023-08-02 20:48:00.140 INFO     :: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2023-08-02 20:48:00.150 INFO     :: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2023-08-02 20:48:00.155 INFO     :: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2023-08-02 20:48:00.157 INFO     :: Enabled item pipelines:
['src.spider.app.pipelines.SpiderMainPipeline']
2023-08-02 20:48:00.159 INFO     :: Spider opened
2023-08-02 20:48:00.162 INFO     :: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2023-08-02 20:48:00.176 INFO     :: Telnet console listening on 127.0.0.1:6031
2023-08-02 20:48:00.183 ERROR    :: Exception in callback _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ ReactorNotRestartable()

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x4029004a90>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:48:00.209 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-54' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=ReactorNotRestartable()>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.6c1d465d1c614b91905499cdc442e...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc040>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x4029004a90>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:49:00.073 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'settings': {'max_items': 10}, 'task_uuid': '9874687d-e350-4301-8707-67ff7dad9080'}
2023-08-02 20:49:00.098 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:49:00.100 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:49:00.119 INFO     :: Overridden settings:
{'LOG_LEVEL': 'ERROR'}
2023-08-02 20:49:00.126 INFO     :: Telnet Password: b1c70ff9f09b1179
2023-08-02 20:49:00.130 INFO     :: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2023-08-02 20:49:00.138 INFO     :: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2023-08-02 20:49:00.142 INFO     :: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2023-08-02 20:49:00.144 INFO     :: Enabled item pipelines:
['src.spider.app.pipelines.SpiderMainPipeline']
2023-08-02 20:49:00.146 INFO     :: Spider opened
2023-08-02 20:49:00.149 INFO     :: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2023-08-02 20:49:00.163 INFO     :: Telnet console listening on 127.0.0.1:6032
2023-08-02 20:49:00.169 ERROR    :: Exception in callback _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ ReactorNotRestartable()

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x4028fd6020>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:49:00.191 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-58' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=ReactorNotRestartable()>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.6c1d465d1c614b91905499cdc442e...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc040>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x4028fd6020>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:50:00.097 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'settings': {'max_items': 10}, 'task_uuid': '9874687d-e350-4301-8707-67ff7dad9080'}
2023-08-02 20:50:00.122 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:50:00.124 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:50:00.141 INFO     :: Overridden settings:
{'LOG_LEVEL': 'ERROR'}
2023-08-02 20:50:00.145 INFO     :: Telnet Password: ab3b700b04abb299
2023-08-02 20:50:00.148 INFO     :: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2023-08-02 20:50:00.154 INFO     :: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2023-08-02 20:50:00.158 INFO     :: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2023-08-02 20:50:00.160 INFO     :: Enabled item pipelines:
['src.spider.app.pipelines.SpiderMainPipeline']
2023-08-02 20:50:00.162 INFO     :: Spider opened
2023-08-02 20:50:00.165 INFO     :: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2023-08-02 20:50:00.179 INFO     :: Telnet console listening on 127.0.0.1:6033
2023-08-02 20:50:00.185 ERROR    :: Exception in callback _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ ReactorNotRestartable()

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x402905de70>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:50:00.209 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-62' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=ReactorNotRestartable()>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.6c1d465d1c614b91905499cdc442e...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc040>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x402905de70>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:51:00.101 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'settings': {'max_items': 10}, 'task_uuid': '9874687d-e350-4301-8707-67ff7dad9080'}
2023-08-02 20:51:00.126 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:51:00.129 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:51:00.147 INFO     :: Overridden settings:
{'LOG_LEVEL': 'ERROR'}
2023-08-02 20:51:00.151 INFO     :: Telnet Password: 5dd314d27bd269b2
2023-08-02 20:51:00.154 INFO     :: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2023-08-02 20:51:00.160 INFO     :: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2023-08-02 20:51:00.164 INFO     :: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2023-08-02 20:51:00.170 INFO     :: Enabled item pipelines:
['src.spider.app.pipelines.SpiderMainPipeline']
2023-08-02 20:51:00.174 INFO     :: Spider opened
2023-08-02 20:51:00.177 INFO     :: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2023-08-02 20:51:00.185 INFO     :: Telnet console listening on 127.0.0.1:6034
2023-08-02 20:51:00.192 ERROR    :: Exception in callback _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ ReactorNotRestartable()

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x402907f4f0>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:51:00.212 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-66' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=ReactorNotRestartable()>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.6c1d465d1c614b91905499cdc442e...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc040>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x402907f4f0>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:52:00.113 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'settings': {'max_items': 10}, 'task_uuid': '9874687d-e350-4301-8707-67ff7dad9080'}
2023-08-02 20:52:00.138 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:52:00.142 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:52:00.157 INFO     :: Overridden settings:
{'LOG_LEVEL': 'ERROR'}
2023-08-02 20:52:00.162 INFO     :: Telnet Password: b334a9ec7841b8b1
2023-08-02 20:52:00.165 INFO     :: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2023-08-02 20:52:00.172 INFO     :: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2023-08-02 20:52:00.175 INFO     :: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2023-08-02 20:52:00.177 INFO     :: Enabled item pipelines:
['src.spider.app.pipelines.SpiderMainPipeline']
2023-08-02 20:52:00.179 INFO     :: Spider opened
2023-08-02 20:52:00.181 INFO     :: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2023-08-02 20:52:00.196 INFO     :: Telnet console listening on 127.0.0.1:6035
2023-08-02 20:52:00.203 ERROR    :: Exception in callback _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ ReactorNotRestartable()

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x40290a3100>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:52:00.223 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-70' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=ReactorNotRestartable()>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.6c1d465d1c614b91905499cdc442e...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc040>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x40290a3100>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:53:00.122 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'settings': {'max_items': 10}, 'task_uuid': '9874687d-e350-4301-8707-67ff7dad9080'}
2023-08-02 20:53:00.148 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:53:00.150 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:53:00.166 INFO     :: Overridden settings:
{'LOG_LEVEL': 'ERROR'}
2023-08-02 20:53:00.172 INFO     :: Telnet Password: db9cd3933c2c5684
2023-08-02 20:53:00.176 INFO     :: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2023-08-02 20:53:00.182 INFO     :: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2023-08-02 20:53:00.188 INFO     :: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2023-08-02 20:53:00.192 INFO     :: Enabled item pipelines:
['src.spider.app.pipelines.SpiderMainPipeline']
2023-08-02 20:53:00.196 INFO     :: Spider opened
2023-08-02 20:53:00.199 INFO     :: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2023-08-02 20:53:00.210 INFO     :: Telnet console listening on 127.0.0.1:6036
2023-08-02 20:53:00.215 ERROR    :: Exception in callback _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ ReactorNotRestartable()

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x40290e8b20>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:53:00.236 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-74' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=ReactorNotRestartable()>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.6c1d465d1c614b91905499cdc442e...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc040>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x40290e8b20>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:54:00.116 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'settings': {'max_items': 10}, 'task_uuid': '9874687d-e350-4301-8707-67ff7dad9080'}
2023-08-02 20:54:00.142 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:54:00.144 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:54:00.159 INFO     :: Overridden settings:
{'LOG_LEVEL': 'ERROR'}
2023-08-02 20:54:00.163 INFO     :: Telnet Password: f763c11b88525579
2023-08-02 20:54:00.167 INFO     :: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2023-08-02 20:54:00.174 INFO     :: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2023-08-02 20:54:00.178 INFO     :: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2023-08-02 20:54:00.180 INFO     :: Enabled item pipelines:
['src.spider.app.pipelines.SpiderMainPipeline']
2023-08-02 20:54:00.181 INFO     :: Spider opened
2023-08-02 20:54:00.184 INFO     :: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2023-08-02 20:54:00.197 INFO     :: Telnet console listening on 127.0.0.1:6037
2023-08-02 20:54:00.205 ERROR    :: Exception in callback _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ ReactorNotRestartable()

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x40290d1e70>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:54:00.224 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-78' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=ReactorNotRestartable()>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.6c1d465d1c614b91905499cdc442e...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc040>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x40290d1e70>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:55:00.117 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'settings': {'max_items': 10}, 'task_uuid': '9874687d-e350-4301-8707-67ff7dad9080'}
2023-08-02 20:55:00.141 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:55:00.144 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:55:00.161 INFO     :: Overridden settings:
{'LOG_LEVEL': 'ERROR'}
2023-08-02 20:55:00.165 INFO     :: Telnet Password: 0289a449d12f80fa
2023-08-02 20:55:00.168 INFO     :: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2023-08-02 20:55:00.177 INFO     :: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2023-08-02 20:55:00.181 INFO     :: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2023-08-02 20:55:00.183 INFO     :: Enabled item pipelines:
['src.spider.app.pipelines.SpiderMainPipeline']
2023-08-02 20:55:00.184 INFO     :: Spider opened
2023-08-02 20:55:00.187 INFO     :: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2023-08-02 20:55:00.203 INFO     :: Telnet console listening on 127.0.0.1:6038
2023-08-02 20:55:00.211 ERROR    :: Exception in callback _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ ReactorNotRestartable()

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x4029136e00>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:55:00.231 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-82' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=ReactorNotRestartable()>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.6c1d465d1c614b91905499cdc442e...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc040>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x4029136e00>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:56:00.112 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'settings': {'max_items': 10}, 'task_uuid': '9874687d-e350-4301-8707-67ff7dad9080'}
2023-08-02 20:56:00.137 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:56:00.140 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:56:00.157 INFO     :: Overridden settings:
{'LOG_LEVEL': 'ERROR'}
2023-08-02 20:56:00.161 INFO     :: Telnet Password: d791a6003084edc6
2023-08-02 20:56:00.164 INFO     :: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2023-08-02 20:56:00.172 INFO     :: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2023-08-02 20:56:00.175 INFO     :: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2023-08-02 20:56:00.177 INFO     :: Enabled item pipelines:
['src.spider.app.pipelines.SpiderMainPipeline']
2023-08-02 20:56:00.179 INFO     :: Spider opened
2023-08-02 20:56:00.181 INFO     :: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2023-08-02 20:56:00.196 INFO     :: Telnet console listening on 127.0.0.1:6039
2023-08-02 20:56:00.201 ERROR    :: Exception in callback _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ ReactorNotRestartable()

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x402901b340>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:56:00.219 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-86' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=ReactorNotRestartable()>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.6c1d465d1c614b91905499cdc442e...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc040>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x402901b340>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:57:00.095 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'settings': {'max_items': 10}, 'task_uuid': '9874687d-e350-4301-8707-67ff7dad9080'}
2023-08-02 20:57:00.121 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:57:00.123 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:57:00.138 INFO     :: Overridden settings:
{'LOG_LEVEL': 'ERROR'}
2023-08-02 20:57:00.142 INFO     :: Telnet Password: b77d4e2ebed522ab
2023-08-02 20:57:00.145 INFO     :: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2023-08-02 20:57:00.151 INFO     :: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2023-08-02 20:57:00.154 INFO     :: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2023-08-02 20:57:00.156 INFO     :: Enabled item pipelines:
['src.spider.app.pipelines.SpiderMainPipeline']
2023-08-02 20:57:00.157 INFO     :: Spider opened
2023-08-02 20:57:00.160 INFO     :: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2023-08-02 20:57:00.175 INFO     :: Telnet console listening on 127.0.0.1:6040
2023-08-02 20:57:00.181 ERROR    :: Exception in callback _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ ReactorNotRestartable()

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x40290d24a0>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:57:00.202 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-90' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=ReactorNotRestartable()>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.6c1d465d1c614b91905499cdc442e...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc040>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x40290d24a0>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:58:00.119 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'settings': {'max_items': 10}, 'task_uuid': '9874687d-e350-4301-8707-67ff7dad9080'}
2023-08-02 20:58:00.144 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:58:00.146 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:58:00.163 INFO     :: Overridden settings:
{'LOG_LEVEL': 'ERROR'}
2023-08-02 20:58:00.167 INFO     :: Telnet Password: 7f9491ea91e3d19c
2023-08-02 20:58:00.172 INFO     :: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2023-08-02 20:58:00.179 INFO     :: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2023-08-02 20:58:00.183 INFO     :: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2023-08-02 20:58:00.189 INFO     :: Enabled item pipelines:
['src.spider.app.pipelines.SpiderMainPipeline']
2023-08-02 20:58:00.191 INFO     :: Spider opened
2023-08-02 20:58:00.193 INFO     :: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2023-08-02 20:58:00.206 INFO     :: Telnet console listening on 127.0.0.1:6041
2023-08-02 20:58:00.212 ERROR    :: Exception in callback _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ ReactorNotRestartable()

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x4029179300>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:58:00.231 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-94' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=ReactorNotRestartable()>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.6c1d465d1c614b91905499cdc442e...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc040>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x4029179300>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:59:00.122 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'settings': {'max_items': 10}, 'task_uuid': '9874687d-e350-4301-8707-67ff7dad9080'}
2023-08-02 20:59:00.148 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 20:59:00.150 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 20:59:00.166 INFO     :: Overridden settings:
{'LOG_LEVEL': 'ERROR'}
2023-08-02 20:59:00.171 INFO     :: Telnet Password: aeb75c76ad36c86d
2023-08-02 20:59:00.174 INFO     :: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2023-08-02 20:59:00.180 INFO     :: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2023-08-02 20:59:00.184 INFO     :: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2023-08-02 20:59:00.185 INFO     :: Enabled item pipelines:
['src.spider.app.pipelines.SpiderMainPipeline']
2023-08-02 20:59:00.188 INFO     :: Spider opened
2023-08-02 20:59:00.191 INFO     :: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2023-08-02 20:59:00.211 INFO     :: Telnet console listening on 127.0.0.1:6042
2023-08-02 20:59:00.217 ERROR    :: Exception in callback _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ ReactorNotRestartable()

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x40291ed7b0>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 20:59:00.237 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-98' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=ReactorNotRestartable()>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.6c1d465d1c614b91905499cdc442e...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc040>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x40291ed7b0>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 21:00:00.088 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'settings': {'max_items': 10}, 'task_uuid': '9874687d-e350-4301-8707-67ff7dad9080'}
2023-08-02 21:00:00.112 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 21:00:00.114 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 21:00:00.130 INFO     :: Overridden settings:
{'LOG_LEVEL': 'ERROR'}
2023-08-02 21:00:00.134 INFO     :: Telnet Password: 6733b3a67ad7a168
2023-08-02 21:00:00.137 INFO     :: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2023-08-02 21:00:00.143 INFO     :: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2023-08-02 21:00:00.146 INFO     :: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2023-08-02 21:00:00.148 INFO     :: Enabled item pipelines:
['src.spider.app.pipelines.SpiderMainPipeline']
2023-08-02 21:00:00.149 INFO     :: Spider opened
2023-08-02 21:00:00.151 INFO     :: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2023-08-02 21:00:00.170 INFO     :: Telnet console listening on 127.0.0.1:6043
2023-08-02 21:00:00.175 ERROR    :: Exception in callback _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ ReactorNotRestartable()

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x4029203c10>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 21:00:00.210 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-102' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=ReactorNotRestartable()>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.6c1d465d1c614b91905499cdc442e...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc040>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x4029203c10>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 21:01:00.083 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'settings': {'max_items': 10}, 'task_uuid': '9874687d-e350-4301-8707-67ff7dad9080'}
2023-08-02 21:01:00.214 INFO     :: Scrapy 2.9.0 started (bot: scrapybot)
2023-08-02 21:01:00.216 INFO     :: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.1, Twisted 22.10.0, Python 3.10.7 (main, Sep  7 2022, 21:55:45) [GCC 10.2.1 20210110], pyOpenSSL 23.2.0 (OpenSSL 3.1.1 30 May 2023), cryptography 41.0.2, Platform Linux-5.15.49-linuxkit-x86_64-with-glibc2.31
2023-08-02 21:01:00.235 INFO     :: Overridden settings:
{'LOG_LEVEL': 'ERROR'}
2023-08-02 21:01:00.241 INFO     :: Telnet Password: 8ddf5d88bcb8b722
2023-08-02 21:01:00.244 INFO     :: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2023-08-02 21:01:00.249 INFO     :: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2023-08-02 21:01:00.254 INFO     :: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2023-08-02 21:01:00.257 INFO     :: Enabled item pipelines:
['src.spider.app.pipelines.SpiderMainPipeline']
2023-08-02 21:01:00.258 INFO     :: Spider opened
2023-08-02 21:01:00.261 INFO     :: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2023-08-02 21:01:00.276 INFO     :: Telnet console listening on 127.0.0.1:6044
2023-08-02 21:01:00.281 ERROR    :: Exception in callback _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...Restartable()>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ ReactorNotRestartable()

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x402922b970>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 21:01:00.307 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-106' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=ReactorNotRestartable()>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.6c1d465d1c614b91905499cdc442e...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc040>>
                 └ <function create_task at 0x4003140ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x40060fb490>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 87, in _start
    process.start()
    │       └ <function CrawlerProcess.start at 0x40054e9240>
    └ <scrapy.crawler.CrawlerProcess object at 0x402922b970>

  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/crawler.py", line 390, in start
    reactor.run(installSignalHandlers=False)  # blocking call
    │       └ <function _SignalReactorMixin.run at 0x4003dddbd0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
    │    │                                  └ False
    │    └ <function _SignalReactorMixin.startRunning at 0x4003dddab0>
    └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
    │           │            │    │            └ <twisted.internet.epollreactor.EPollReactor object at 0x400621d120>
    │           │            │    └ <class 'twisted.internet.base.ReactorBase'>
    │           │            └ <function cast at 0x4002a6d240>
    │           └ <function ReactorBase.startRunning at 0x4003ddc430>
    └ <class 'twisted.internet.base.ReactorBase'>
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 843, in startRunning
    raise error.ReactorNotRestartable()
          └ <_ModuleProxy module=<module 'twisted.internet.error' from '/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/in...

twisted.internet.error.ReactorNotRestartable
2023-08-02 21:01:08.465 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 21:01:46.790 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 21:02:42.068 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 21:02:42.074 INFO     :: {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'template': {'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}}, 'settings': {'max_items': 10}, 'task_uuid': '9874687d-e350-4301-8707-67ff7dad9080'}
2023-08-02 21:02:42.079 ERROR    :: Exception in callback _task_done(<Task finishe...te 'runner'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...te 'runner'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...te 'runner'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...te 'runner'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...te 'runner'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...te 'runner'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ AttributeError("'SpiderAPI' object has no attribute 'runner'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4006170160>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc070>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    self.runner.crawl(Spider, task=new_task)
    │                 │            └ TaskForSpider(cron='* * * * *', resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/c...
    │                 └ <class 'src.spider.app.spiders.spider.Spider'>
    └ <spider_api_svc.SpiderAPI object at 0x40026cc070>

AttributeError: 'SpiderAPI' object has no attribute 'runner'
2023-08-02 21:02:42.118 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-16' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=AttributeError("'SpiderAPI' object has no attribute 'runner'")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.06d3bbe0f9ba4493957c4b5392af2...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc070>>
                 └ <function create_task at 0x4003140c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4006170160>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc070>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    self.runner.crawl(Spider, task=new_task)
    │                 │            └ TaskForSpider(cron='* * * * *', resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/c...
    │                 └ <class 'src.spider.app.spiders.spider.Spider'>
    └ <spider_api_svc.SpiderAPI object at 0x40026cc070>

AttributeError: 'SpiderAPI' object has no attribute 'runner'
2023-08-02 21:05:07.048 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 21:05:52.562 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 21:05:58.768 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 21:07:36.655 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 21:07:42.880 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 21:08:18.354 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 21:15:10.643 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 21:23:23.820 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 21:24:40.926 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 21:25:31.506 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 21:25:37.873 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 21:35:52.968 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 21:36:44.220 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 21:37:56.817 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 21:38:29.952 INFO     :: Связь с AMQP сервером установлена.
2023-08-02 21:38:36.833 INFO     :: Связь с AMQP сервером установлена.
2023-08-04 08:36:06.484 INFO     :: Связь с AMQP сервером установлена.
2023-08-04 08:36:12.758 INFO     :: Связь с AMQP сервером установлена.
2023-08-04 09:15:57.187 INFO     :: Связь с AMQP сервером установлена.
2023-08-04 09:16:03.366 INFO     :: Связь с AMQP сервером установлена.
2023-08-04 09:20:28.316 INFO     :: Связь с AMQP сервером установлена.
2023-08-04 09:20:34.634 INFO     :: Связь с AMQP сервером установлена.
2023-08-04 09:25:05.345 INFO     :: Связь с AMQP сервером установлена.
2023-08-04 09:25:11.537 INFO     :: Связь с AMQP сервером установлена.
2023-08-04 09:26:15.917 INFO     :: Связь с AMQP сервером установлена.
2023-08-04 09:26:22.088 INFO     :: Связь с AMQP сервером установлена.
2023-08-04 09:28:10.808 INFO     :: Связь с AMQP сервером установлена.
2023-08-04 09:28:17.099 INFO     :: Связь с AMQP сервером установлена.
2023-08-04 09:28:21.914 INFO     :: Overridden settings:
{}
2023-08-04 09:28:21.923 WARNING  :: /usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/utils/request.py:232: ScrapyDeprecationWarning: '2.6' is a deprecated value for the 'REQUEST_FINGERPRINTER_IMPLEMENTATION' setting.

It is also the default value. In other words, it is normal to get this warning if you have not defined a value for the 'REQUEST_FINGERPRINTER_IMPLEMENTATION' setting. This is so for backward compatibility reasons, but it will change in a future version of Scrapy.

See the documentation of the 'REQUEST_FINGERPRINTER_IMPLEMENTATION' setting for information on how to handle this deprecation.
  return cls(crawler)

2023-08-04 09:28:21.981 INFO     :: Telnet Password: 3c8ceaa61c6c4b05
2023-08-04 09:28:22.330 INFO     :: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2023-08-04 09:28:22.479 INFO     :: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2023-08-04 09:28:22.492 INFO     :: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2023-08-04 09:28:22.497 INFO     :: Enabled item pipelines:
['src.spider.app.pipelines.SpiderMainPipeline']
2023-08-04 09:28:22.499 INFO     :: Spider opened
2023-08-04 09:28:22.782 WARNING  :: /usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/defer.py:1857: RuntimeWarning: coroutine 'SpiderMainPipeline.open_spider' was never awaited
  _inlineCallbacks(None, gen, status, _copy_context())

2023-08-04 09:28:22.785 INFO     :: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2023-08-04 09:28:22.795 INFO     :: Telnet console listening on 127.0.0.1:6023
2023-08-04 09:30:46.638 INFO     :: Связь с AMQP сервером установлена.
2023-08-04 09:31:27.165 INFO     :: Связь с AMQP сервером установлена.
2023-08-04 09:31:33.421 INFO     :: Связь с AMQP сервером установлена.
2023-08-04 09:32:25.605 INFO     :: Overridden settings:
{}
2023-08-04 09:32:25.612 WARNING  :: /usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/utils/request.py:232: ScrapyDeprecationWarning: '2.6' is a deprecated value for the 'REQUEST_FINGERPRINTER_IMPLEMENTATION' setting.

It is also the default value. In other words, it is normal to get this warning if you have not defined a value for the 'REQUEST_FINGERPRINTER_IMPLEMENTATION' setting. This is so for backward compatibility reasons, but it will change in a future version of Scrapy.

See the documentation of the 'REQUEST_FINGERPRINTER_IMPLEMENTATION' setting for information on how to handle this deprecation.
  return cls(crawler)

2023-08-04 09:32:25.669 INFO     :: Telnet Password: d118d15c4282a53d
2023-08-04 09:32:26.023 INFO     :: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2023-08-04 09:32:26.165 INFO     :: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2023-08-04 09:32:26.179 INFO     :: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2023-08-04 09:32:26.184 INFO     :: Enabled item pipelines:
['src.spider.app.pipelines.SpiderMainPipeline']
2023-08-04 09:32:26.187 INFO     :: Spider opened
2023-08-04 09:32:26.459 WARNING  :: /usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/defer.py:1857: RuntimeWarning: coroutine 'SpiderMainPipeline.open_spider' was never awaited
  _inlineCallbacks(None, gen, status, _copy_context())

2023-08-04 09:32:26.464 INFO     :: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2023-08-04 09:32:26.474 INFO     :: Telnet console listening on 127.0.0.1:6023
2023-08-04 09:34:20.368 INFO     :: Связь с AMQP сервером установлена.
2023-08-04 09:34:26.555 INFO     :: Связь с AMQP сервером установлена.
2023-08-04 09:34:29.233 INFO     :: Overridden settings:
{}
2023-08-04 09:34:29.239 WARNING  :: /usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/utils/request.py:232: ScrapyDeprecationWarning: '2.6' is a deprecated value for the 'REQUEST_FINGERPRINTER_IMPLEMENTATION' setting.

It is also the default value. In other words, it is normal to get this warning if you have not defined a value for the 'REQUEST_FINGERPRINTER_IMPLEMENTATION' setting. This is so for backward compatibility reasons, but it will change in a future version of Scrapy.

See the documentation of the 'REQUEST_FINGERPRINTER_IMPLEMENTATION' setting for information on how to handle this deprecation.
  return cls(crawler)

2023-08-04 09:34:29.297 INFO     :: Telnet Password: c5852a256ddade6d
2023-08-04 09:34:29.648 INFO     :: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2023-08-04 09:34:29.789 INFO     :: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2023-08-04 09:34:29.801 INFO     :: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2023-08-04 09:34:29.804 INFO     :: Enabled item pipelines:
[]
2023-08-04 09:34:29.805 INFO     :: Spider opened
2023-08-04 09:34:30.079 INFO     :: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2023-08-04 09:34:30.089 INFO     :: Telnet console listening on 127.0.0.1:6023
2023-08-04 09:36:17.667 INFO     :: Связь с AMQP сервером установлена.
2023-08-04 09:36:23.938 INFO     :: Связь с AMQP сервером установлена.
2023-08-04 09:36:27.778 INFO     :: Overridden settings:
{}
2023-08-04 09:36:27.785 WARNING  :: /usr/src/spider_svc/.venv/lib/python3.10/site-packages/scrapy/utils/request.py:232: ScrapyDeprecationWarning: '2.6' is a deprecated value for the 'REQUEST_FINGERPRINTER_IMPLEMENTATION' setting.

It is also the default value. In other words, it is normal to get this warning if you have not defined a value for the 'REQUEST_FINGERPRINTER_IMPLEMENTATION' setting. This is so for backward compatibility reasons, but it will change in a future version of Scrapy.

See the documentation of the 'REQUEST_FINGERPRINTER_IMPLEMENTATION' setting for information on how to handle this deprecation.
  return cls(crawler)

2023-08-04 09:36:27.840 INFO     :: Telnet Password: f14e76584e01ad22
2023-08-04 09:36:28.181 INFO     :: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2023-08-04 09:36:28.321 INFO     :: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2023-08-04 09:36:28.333 INFO     :: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2023-08-04 09:36:28.336 INFO     :: Enabled item pipelines:
[]
2023-08-04 09:36:28.338 INFO     :: Spider opened
2023-08-04 09:36:28.615 INFO     :: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2023-08-04 09:36:28.626 INFO     :: Telnet console listening on 127.0.0.1:6023
2023-08-04 09:38:22.981 INFO     :: Связь с AMQP сервером установлена.
2023-08-04 09:38:29.261 INFO     :: Связь с AMQP сервером установлена.
2023-08-04 09:38:31.646 CRITICAL :: Unhandled Error
Traceback (most recent call last):
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 190, in run_endpoint_function
    return await dependant.call(**values)
  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 106, in run_spider
    reactor.run()
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1318, in run
    self.mainLoop()
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1328, in mainLoop
    reactorBaseSelf.runUntilCurrent()
--- <exception caught here> ---
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 994, in runUntilCurrent
    call.func(*call.args, **call.kw)
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 841, in startRunning
    raise error.ReactorAlreadyRunning()
twisted.internet.error.ReactorAlreadyRunning: 

2023-08-04 09:38:59.894 INFO     :: Связь с AMQP сервером установлена.
2023-08-04 09:39:06.079 INFO     :: Связь с AMQP сервером установлена.
2023-08-04 09:39:08.682 CRITICAL :: Unhandled Error
Traceback (most recent call last):
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 190, in run_endpoint_function
    return await dependant.call(**values)
  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 106, in run_spider
    reactor.run()
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1318, in run
    self.mainLoop()
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1328, in mainLoop
    reactorBaseSelf.runUntilCurrent()
--- <exception caught here> ---
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 994, in runUntilCurrent
    call.func(*call.args, **call.kw)
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1317, in run
    self.startRunning(installSignalHandlers=installSignalHandlers)
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1299, in startRunning
    ReactorBase.startRunning(cast(ReactorBase, self))
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 841, in startRunning
    raise error.ReactorAlreadyRunning()
twisted.internet.error.ReactorAlreadyRunning: 

2023-08-04 09:40:43.243 INFO     :: Связь с AMQP сервером установлена.
2023-08-04 09:40:49.733 INFO     :: Связь с AMQP сервером установлена.
2023-08-04 09:41:09.540 INFO     :: Связь с AMQP сервером установлена.
2023-08-04 09:41:09.585 INFO     :: False
2023-08-04 09:41:09.590 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='789a0dd1-be7a-40de-af06-382962ac4b87'
2023-08-04 09:41:16.035 INFO     :: Связь с AMQP сервером установлена.
2023-08-04 09:41:19.224 INFO     :: False
2023-08-04 09:41:19.232 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='789a0dd1-be7a-40de-af06-382962ac4b87'
2023-08-04 09:43:29.825 INFO     :: Связь с AMQP сервером установлена.
2023-08-04 09:43:29.858 CRITICAL :: Unhandled Error
Traceback (most recent call last):
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 501, in fireEvent
    DeferredList(beforeResults).addCallback(self._continueFiring)
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/defer.py", line 532, in addCallback
    return self.addCallbacks(callback, callbackArgs=args, callbackKeywords=kwargs)
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/defer.py", line 512, in addCallbacks
    self._runCallbacks()
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/defer.py", line 892, in _runCallbacks
    current.result = callback(  # type: ignore[misc]
--- <exception caught here> ---
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 513, in _continueFiring
    callable(*args, **kwargs)
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1314, in _reallyStartRunning
    self._handleSignals()
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/posixbase.py", line 142, in _handleSignals
    _SignalReactorMixin._handleSignals(self)
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/twisted/internet/base.py", line 1281, in _handleSignals
    signal.signal(signal.SIGINT, reactorBaseSelf.sigInt)
  File "/usr/local/lib/python3.10/signal.py", line 56, in signal
    handler = _signal.signal(_enum_to_int(signalnum), _enum_to_int(handler))
builtins.ValueError: signal only works in main thread of the main interpreter

2023-08-05 13:52:01.564 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 13:52:01.578 ERROR    :: Ошибка связи с брокером: [Errno 111] Connect call failed ('172.22.0.3', 5672)
2023-08-05 13:52:06.634 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 13:52:13.399 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 13:55:29.213 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 13:55:35.936 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 13:56:00.107 ERROR    :: Exception in callback _task_done(<Task finishe...ot callable")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ot callable")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ot callable")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ot callable")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ot callable")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ot callable")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("'Logger' object is not callable")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8af0>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 84, in _start
    self._logger(new_task)
    │    │       └ TaskForSpider(cron='* * * * *', resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/c...
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

TypeError: 'Logger' object is not callable
2023-08-05 13:56:00.143 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-19' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("'Logger' object is not callable")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.b223a2e491a54d61ad4cbd66587dd...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8af0>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 84, in _start
    self._logger(new_task)
    │    │       └ TaskForSpider(cron='* * * * *', resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/c...
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

TypeError: 'Logger' object is not callable
2023-08-05 13:57:00.092 ERROR    :: Exception in callback _task_done(<Task finishe...ot callable")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ot callable")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ot callable")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ot callable")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ot callable")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ot callable")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("'Logger' object is not callable")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8af0>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 84, in _start
    self._logger(new_task)
    │    │       └ TaskForSpider(cron='* * * * *', resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/c...
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

TypeError: 'Logger' object is not callable
2023-08-05 13:57:00.107 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-23' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("'Logger' object is not callable")>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.b223a2e491a54d61ad4cbd66587dd...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026cc040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8af0>
                └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 84, in _start
    self._logger(new_task)
    │    │       └ TaskForSpider(cron='* * * * *', resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/c...
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026cc040>

TypeError: 'Logger' object is not callable
2023-08-05 13:57:31.963 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 13:57:39.898 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 13:57:39.925 ERROR    :: Exception in callback unit_port_read(274889711144, 274878498320)
handle: <Handle unit_port_read(274889711144, 274878498320)>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle unit_port_read(274889711144, 274878498320)>
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle unit_port_read(274889711144, 274878498320)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle unit_port_read(274889711144, 274878498320)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle unit_port_read(274889711144, 274878498320)>

RuntimeError: error processing port 0 message
2023-08-05 13:57:39.956 ERROR    :: Exception in callback unit_port_read(274889711144, 274878498320)
handle: <Handle unit_port_read(274889711144, 274878498320)>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle unit_port_read(274889711144, 274878498320)>
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle unit_port_read(274889711144, 274878498320)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle unit_port_read(274889711144, 274878498320)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle unit_port_read(274889711144, 274878498320)>

RuntimeError: error processing port 0 message
2023-08-05 13:57:55.908 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 13:58:02.244 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 13:58:02.255 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 13:58:02.270 INFO     :: <Future at 0x4005ec14b0 state=running>
2023-08-05 13:59:00.081 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 13:59:00.084 INFO     :: <Future at 0x4005ec2590 state=pending>
2023-08-05 14:00:00.108 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:00:00.111 INFO     :: <Future at 0x4005ec25f0 state=pending>
2023-08-05 14:01:00.114 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:01:00.117 INFO     :: <Future at 0x4005ec0340 state=pending>
2023-08-05 14:02:00.070 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:02:00.074 INFO     :: <Future at 0x4005ec3220 state=pending>
2023-08-05 14:02:09.828 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 14:02:16.096 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 14:03:00.089 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:03:00.103 INFO     :: <Future at 0x4005f47880 state=running>
2023-08-05 14:03:00.338 ERROR    :: exception calling callback for <Future at 0x4005f47880 state=finished returned int>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/threading.py", line 973, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x40027b2560>
    └ <Thread(ThreadPoolExecutor-0_0, started 275422099200)>
  File "/usr/local/lib/python3.10/threading.py", line 1016, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x40027b2290>
    └ <Thread(ThreadPoolExecutor-0_0, started 275422099200)>
  File "/usr/local/lib/python3.10/threading.py", line 953, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ThreadPoolExecutor-0_0, started 275422099200)>
    │    │        │    └ (<weakref at 0x4005f823e0; to 'ThreadPoolExecutor' at 0x4005f47b50>, <_queue.SimpleQueue object at 0x4005f07ce0>, None, ())
    │    │        └ <Thread(ThreadPoolExecutor-0_0, started 275422099200)>
    │    └ <function _worker at 0x40031f4c10>
    └ <Thread(ThreadPoolExecutor-0_0, started 275422099200)>
  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 83, in _worker
    work_item.run()
    │         └ <function _WorkItem.run at 0x40031f4d30>
    └ <concurrent.futures.thread._WorkItem object at 0x4005ebf1c0>
  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 64, in run
    self.future.set_result(result)
    │    │      │          └ 0
    │    │      └ <function Future.set_result at 0x40027c6560>
    │    └ <Future at 0x4005f47880 state=finished returned int>
    └ <concurrent.futures.thread._WorkItem object at 0x4005ebf1c0>
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 552, in set_result
    self._invoke_callbacks()
    │    └ <function Future._invoke_callbacks at 0x40027c5f30>
    └ <Future at 0x4005f47880 state=finished returned int>
> File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 342, in _invoke_callbacks
    callback(self)
    │        └ <Future at 0x4005f47880 state=finished returned int>
    └ <bound method SpiderAPI.on_spider_terminate_callback of <spider_api_svc.SpiderAPI object at 0x40026d0040>>

TypeError: SpiderAPI.on_spider_terminate_callback() takes 1 positional argument but 2 were given
2023-08-05 14:04:00.092 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:04:00.097 INFO     :: <Future at 0x4005ebf490 state=pending>
2023-08-05 14:04:00.351 ERROR    :: exception calling callback for <Future at 0x4005ebf490 state=finished returned int>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/threading.py", line 973, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x40027b2560>
    └ <Thread(ThreadPoolExecutor-0_0, started 275422099200)>
  File "/usr/local/lib/python3.10/threading.py", line 1016, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x40027b2290>
    └ <Thread(ThreadPoolExecutor-0_0, started 275422099200)>
  File "/usr/local/lib/python3.10/threading.py", line 953, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ThreadPoolExecutor-0_0, started 275422099200)>
    │    │        │    └ (<weakref at 0x4005f823e0; to 'ThreadPoolExecutor' at 0x4005f47b50>, <_queue.SimpleQueue object at 0x4005f07ce0>, None, ())
    │    │        └ <Thread(ThreadPoolExecutor-0_0, started 275422099200)>
    │    └ <function _worker at 0x40031f4c10>
    └ <Thread(ThreadPoolExecutor-0_0, started 275422099200)>
  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 83, in _worker
    work_item.run()
    │         └ <function _WorkItem.run at 0x40031f4d30>
    └ <concurrent.futures.thread._WorkItem object at 0x4005ebf400>
  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 64, in run
    self.future.set_result(result)
    │    │      │          └ 0
    │    │      └ <function Future.set_result at 0x40027c6560>
    │    └ <Future at 0x4005ebf490 state=finished returned int>
    └ <concurrent.futures.thread._WorkItem object at 0x4005ebf400>
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 552, in set_result
    self._invoke_callbacks()
    │    └ <function Future._invoke_callbacks at 0x40027c5f30>
    └ <Future at 0x4005ebf490 state=finished returned int>
> File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 342, in _invoke_callbacks
    callback(self)
    │        └ <Future at 0x4005ebf490 state=finished returned int>
    └ <bound method SpiderAPI.on_spider_terminate_callback of <spider_api_svc.SpiderAPI object at 0x40026d0040>>

TypeError: SpiderAPI.on_spider_terminate_callback() takes 1 positional argument but 2 were given
2023-08-05 14:05:00.119 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:05:00.123 INFO     :: <Future at 0x4005ebd690 state=pending>
2023-08-05 14:05:00.359 ERROR    :: exception calling callback for <Future at 0x4005ebd690 state=finished returned int>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/threading.py", line 973, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x40027b2560>
    └ <Thread(ThreadPoolExecutor-0_0, started 275422099200)>
  File "/usr/local/lib/python3.10/threading.py", line 1016, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x40027b2290>
    └ <Thread(ThreadPoolExecutor-0_0, started 275422099200)>
  File "/usr/local/lib/python3.10/threading.py", line 953, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ThreadPoolExecutor-0_0, started 275422099200)>
    │    │        │    └ (<weakref at 0x4005f823e0; to 'ThreadPoolExecutor' at 0x4005f47b50>, <_queue.SimpleQueue object at 0x4005f07ce0>, None, ())
    │    │        └ <Thread(ThreadPoolExecutor-0_0, started 275422099200)>
    │    └ <function _worker at 0x40031f4c10>
    └ <Thread(ThreadPoolExecutor-0_0, started 275422099200)>
  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 83, in _worker
    work_item.run()
    │         └ <function _WorkItem.run at 0x40031f4d30>
    └ <concurrent.futures.thread._WorkItem object at 0x4005ebe920>
  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 64, in run
    self.future.set_result(result)
    │    │      │          └ 0
    │    │      └ <function Future.set_result at 0x40027c6560>
    │    └ <Future at 0x4005ebd690 state=finished returned int>
    └ <concurrent.futures.thread._WorkItem object at 0x4005ebe920>
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 552, in set_result
    self._invoke_callbacks()
    │    └ <function Future._invoke_callbacks at 0x40027c5f30>
    └ <Future at 0x4005ebd690 state=finished returned int>
> File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 342, in _invoke_callbacks
    callback(self)
    │        └ <Future at 0x4005ebd690 state=finished returned int>
    └ <bound method SpiderAPI.on_spider_terminate_callback of <spider_api_svc.SpiderAPI object at 0x40026d0040>>

TypeError: SpiderAPI.on_spider_terminate_callback() takes 1 positional argument but 2 were given
2023-08-05 14:06:00.112 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:06:00.117 INFO     :: <Future at 0x4005f46ef0 state=pending>
2023-08-05 14:06:00.349 ERROR    :: exception calling callback for <Future at 0x4005f46ef0 state=finished returned int>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/threading.py", line 973, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x40027b2560>
    └ <Thread(ThreadPoolExecutor-0_0, started 275422099200)>
  File "/usr/local/lib/python3.10/threading.py", line 1016, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x40027b2290>
    └ <Thread(ThreadPoolExecutor-0_0, started 275422099200)>
  File "/usr/local/lib/python3.10/threading.py", line 953, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ThreadPoolExecutor-0_0, started 275422099200)>
    │    │        │    └ (<weakref at 0x4005f823e0; to 'ThreadPoolExecutor' at 0x4005f47b50>, <_queue.SimpleQueue object at 0x4005f07ce0>, None, ())
    │    │        └ <Thread(ThreadPoolExecutor-0_0, started 275422099200)>
    │    └ <function _worker at 0x40031f4c10>
    └ <Thread(ThreadPoolExecutor-0_0, started 275422099200)>
  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 83, in _worker
    work_item.run()
    │         └ <function _WorkItem.run at 0x40031f4d30>
    └ <concurrent.futures.thread._WorkItem object at 0x4005ebea10>
  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 64, in run
    self.future.set_result(result)
    │    │      │          └ 0
    │    │      └ <function Future.set_result at 0x40027c6560>
    │    └ <Future at 0x4005f46ef0 state=finished returned int>
    └ <concurrent.futures.thread._WorkItem object at 0x4005ebea10>
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 552, in set_result
    self._invoke_callbacks()
    │    └ <function Future._invoke_callbacks at 0x40027c5f30>
    └ <Future at 0x4005f46ef0 state=finished returned int>
> File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 342, in _invoke_callbacks
    callback(self)
    │        └ <Future at 0x4005f46ef0 state=finished returned int>
    └ <bound method SpiderAPI.on_spider_terminate_callback of <spider_api_svc.SpiderAPI object at 0x40026d0040>>

TypeError: SpiderAPI.on_spider_terminate_callback() takes 1 positional argument but 2 were given
2023-08-05 14:06:57.632 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 14:07:03.994 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 14:07:04.004 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:07:04.244 INFO     :: 0
2023-08-05 14:07:04.247 ERROR    :: exception calling callback for <Future at 0x4005f2e350 state=finished returned int>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5750>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7250>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02cb0>
    └ <Handle <TaskStepMethWrapper object at 0x4005ec6d70>()>
  File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x4005ec6d70>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x4005ec6d70>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x4005ec6d70>()>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005eaa9e0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 91, in _start
    f.add_done_callback(self.on_spider_terminate_callback)
    │ │                 │    └ <function SpiderAPI.on_spider_terminate_callback at 0x4005ea8a60>
    │ │                 └ <spider_api_svc.SpiderAPI object at 0x40026d0040>
    │ └ <function Future.add_done_callback at 0x40027c6290>
    └ <Future at 0x4005f2e350 state=finished returned int>

> File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 426, in add_done_callback
    fn(self)
    │  └ <Future at 0x4005f2e350 state=finished returned int>
    └ <bound method SpiderAPI.on_spider_terminate_callback of <spider_api_svc.SpiderAPI object at 0x40026d0040>>

TypeError: SpiderAPI.on_spider_terminate_callback() takes 1 positional argument but 2 were given
2023-08-05 14:07:23.399 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 14:07:29.607 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 14:08:00.087 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:08:00.333 INFO     :: 0
2023-08-05 14:08:16.658 ERROR    :: Unexpected connection close from remote "amqp://crwl:******@rabbitmq:5672/", Connection.Close(reply_code=320, reply_text="CONNECTION_FORCED - broker forced connection closure with reason 'shutdown'")
NoneType: None
2023-08-05 14:08:16.720 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 14:09:47.165 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 14:15:00.078 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:15:00.335 INFO     :: 0
2023-08-05 14:16:00.066 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:16:00.078 ERROR    :: Exception in callback _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ RuntimeError('cannot schedule new futures after shutdown')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:16:00.128 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-23' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=RuntimeError('cannot schedule new futures after shutdown')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.4fef2d6866ea41b288abad73aa9bf...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:16:09.794 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 14:16:16.294 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 14:17:00.077 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:17:00.092 INFO     :: ['/usr/src/spider_svc/.venv//bin/python', 'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={"cron":"* * * * *","resource":{"resource_name":"archi competition 2","resource_url":"https://archi.ru/contests","template":{"comp_card":{"lang":"ru","summary":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/div[@class=\\"text1\\"]/text()"},"constraints":{"required":"true"},"postprocessors":{"prefix":"","suffix":""}},"request":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/@href"},"constraints":{"required":"true"}},"title":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/text()"},"constraints":{"required":"true"}},"next_page":{"pagination_type":"","next_page_link":"","parameters":{"curr_page_number":""}},"block_type":"list"},"comp_item":{"meta":{"selectors":{"xpath":"(//td[@class=\'rec_value_2 border_no\'])[3]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"translate":"en","strip":"true"}},"register_date":{"selectors":{"xpath":"(//td[@class=\'rec_value_1\'])[1]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"strip":"true","initial_date_format":"%d.%m.%Y","new_date_format":"%Y|%m|%d"}}}}},"settings":{"max_items":10},"task_uuid":"d6618412-3d16-4d41-be5c-5b8995320845"}']
2023-08-05 14:17:00.351 INFO     :: 0
2023-08-05 14:18:00.096 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:18:00.105 ERROR    :: Exception in callback _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ RuntimeError('cannot schedule new futures after shutdown')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:18:00.147 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-24' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=RuntimeError('cannot schedule new futures after shutdown')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.ba3907812ffb413ba1e8309c42ea5...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:19:00.086 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:19:00.092 ERROR    :: Exception in callback _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ RuntimeError('cannot schedule new futures after shutdown')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:19:00.110 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-28' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=RuntimeError('cannot schedule new futures after shutdown')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.ba3907812ffb413ba1e8309c42ea5...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:20:00.078 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:20:00.084 ERROR    :: Exception in callback _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ RuntimeError('cannot schedule new futures after shutdown')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:20:00.100 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-32' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=RuntimeError('cannot schedule new futures after shutdown')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.ba3907812ffb413ba1e8309c42ea5...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:21:00.072 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:21:00.077 ERROR    :: Exception in callback _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ RuntimeError('cannot schedule new futures after shutdown')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:21:00.094 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-36' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=RuntimeError('cannot schedule new futures after shutdown')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.ba3907812ffb413ba1e8309c42ea5...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:22:00.090 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:22:00.103 ERROR    :: Exception in callback _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ RuntimeError('cannot schedule new futures after shutdown')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:22:00.122 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-40' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=RuntimeError('cannot schedule new futures after shutdown')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.ba3907812ffb413ba1e8309c42ea5...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:23:00.090 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:23:00.096 ERROR    :: Exception in callback _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ RuntimeError('cannot schedule new futures after shutdown')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:23:00.114 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-44' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=RuntimeError('cannot schedule new futures after shutdown')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.ba3907812ffb413ba1e8309c42ea5...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:24:00.081 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:24:00.087 ERROR    :: Exception in callback _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ RuntimeError('cannot schedule new futures after shutdown')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:24:00.104 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-48' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=RuntimeError('cannot schedule new futures after shutdown')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.ba3907812ffb413ba1e8309c42ea5...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:25:00.071 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:25:00.077 ERROR    :: Exception in callback _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ RuntimeError('cannot schedule new futures after shutdown')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:25:00.094 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-52' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=RuntimeError('cannot schedule new futures after shutdown')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.ba3907812ffb413ba1e8309c42ea5...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:26:00.075 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:26:00.081 ERROR    :: Exception in callback _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ RuntimeError('cannot schedule new futures after shutdown')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:26:00.097 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-56' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=RuntimeError('cannot schedule new futures after shutdown')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.ba3907812ffb413ba1e8309c42ea5...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:27:00.073 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:27:00.079 ERROR    :: Exception in callback _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ RuntimeError('cannot schedule new futures after shutdown')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:27:00.097 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-60' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=RuntimeError('cannot schedule new futures after shutdown')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.ba3907812ffb413ba1e8309c42ea5...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:28:00.098 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:28:00.106 ERROR    :: Exception in callback _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ RuntimeError('cannot schedule new futures after shutdown')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:28:00.122 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-64' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=RuntimeError('cannot schedule new futures after shutdown')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.ba3907812ffb413ba1e8309c42ea5...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:29:00.095 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:29:00.102 ERROR    :: Exception in callback _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ RuntimeError('cannot schedule new futures after shutdown')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:29:00.120 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-68' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=RuntimeError('cannot schedule new futures after shutdown')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.ba3907812ffb413ba1e8309c42ea5...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:30:00.088 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:30:00.094 ERROR    :: Exception in callback _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ RuntimeError('cannot schedule new futures after shutdown')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:30:00.109 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-72' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=RuntimeError('cannot schedule new futures after shutdown')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.ba3907812ffb413ba1e8309c42ea5...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:31:00.104 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:31:00.110 ERROR    :: Exception in callback _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ RuntimeError('cannot schedule new futures after shutdown')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:31:00.126 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-76' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=RuntimeError('cannot schedule new futures after shutdown')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.ba3907812ffb413ba1e8309c42ea5...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:32:00.113 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:32:00.118 ERROR    :: Exception in callback _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ RuntimeError('cannot schedule new futures after shutdown')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:32:00.135 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-80' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=RuntimeError('cannot schedule new futures after shutdown')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.ba3907812ffb413ba1e8309c42ea5...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144ca0>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8b80>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f'scrapy runspider %SPIDER_SCRIPT%/spider.py -a task={new_task.model_dump_json()}'], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb250>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f0f70>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f2d270>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:32:45.789 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 14:32:52.004 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 14:33:00.103 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:33:00.343 INFO     :: 0
2023-08-05 14:34:00.067 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:34:00.073 ERROR    :: Exception in callback _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ RuntimeError('cannot schedule new futures after shutdown')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8af0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f"%SPIDER_SCRIPT%/test_process.py"], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb1c0>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f4ee0>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f47be0>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:34:00.116 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-23' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=RuntimeError('cannot schedule new futures after shutdown')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.d7b2e765ba28496588629ef20dee8...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8af0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f"%SPIDER_SCRIPT%/test_process.py"], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb1c0>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f4ee0>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f47be0>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:35:00.078 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:35:00.089 ERROR    :: Exception in callback _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ RuntimeError('cannot schedule new futures after shutdown')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8af0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f"%SPIDER_SCRIPT%/test_process.py"], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb1c0>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f4ee0>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f47be0>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:35:00.117 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-27' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=RuntimeError('cannot schedule new futures after shutdown')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.d7b2e765ba28496588629ef20dee8...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8af0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f"%SPIDER_SCRIPT%/test_process.py"], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb1c0>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f4ee0>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f47be0>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:36:00.092 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:36:00.097 ERROR    :: Exception in callback _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ RuntimeError('cannot schedule new futures after shutdown')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8af0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f"%SPIDER_SCRIPT%/test_process.py"], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb1c0>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f4ee0>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f47be0>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:36:00.117 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-31' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=RuntimeError('cannot schedule new futures after shutdown')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.d7b2e765ba28496588629ef20dee8...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8af0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f"%SPIDER_SCRIPT%/test_process.py"], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb1c0>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f4ee0>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f47be0>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:37:00.096 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:37:00.101 ERROR    :: Exception in callback _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ RuntimeError('cannot schedule new futures after shutdown')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8af0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f"%SPIDER_SCRIPT%/test_process.py"], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb1c0>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f4ee0>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f47be0>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:37:00.120 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-35' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=RuntimeError('cannot schedule new futures after shutdown')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.d7b2e765ba28496588629ef20dee8...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8af0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f"%SPIDER_SCRIPT%/test_process.py"], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb1c0>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f4ee0>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f47be0>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:38:00.112 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:38:00.119 ERROR    :: Exception in callback _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ RuntimeError('cannot schedule new futures after shutdown')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8af0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f"%SPIDER_SCRIPT%/test_process.py"], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb1c0>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f4ee0>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f47be0>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:38:00.137 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-39' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=RuntimeError('cannot schedule new futures after shutdown')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.d7b2e765ba28496588629ef20dee8...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8af0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f"%SPIDER_SCRIPT%/test_process.py"], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb1c0>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f4ee0>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f47be0>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:39:00.125 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:39:00.139 ERROR    :: Exception in callback _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...er shutdown')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ RuntimeError('cannot schedule new futures after shutdown')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8af0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f"%SPIDER_SCRIPT%/test_process.py"], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb1c0>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f4ee0>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f47be0>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:39:00.158 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-43' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=RuntimeError('cannot schedule new futures after shutdown')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.d7b2e765ba28496588629ef20dee8...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea8af0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 86, in _start
    f = executor.submit(subprocess.call, [sys.executable, f"%SPIDER_SCRIPT%/test_process.py"], shell=True)
        │        │      │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
        │        │      │          │      └ <module 'sys' (built-in)>
        │        │      │          └ <function call at 0x40027fb1c0>
        │        │      └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>
        │        └ <function ThreadPoolExecutor.submit at 0x40031f4ee0>
        └ <concurrent.futures.thread.ThreadPoolExecutor object at 0x4005f47be0>

  File "/usr/local/lib/python3.10/concurrent/futures/thread.py", line 167, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')

RuntimeError: cannot schedule new futures after shutdown
2023-08-05 14:39:14.442 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 14:39:21.024 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 14:40:00.106 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:40:00.370 INFO     :: 0
2023-08-05 14:41:00.078 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:41:00.321 INFO     :: 0
2023-08-05 14:42:00.089 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:42:00.336 INFO     :: 0
2023-08-05 14:42:42.604 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 14:42:48.822 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 14:43:00.097 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:43:00.356 INFO     :: 0
2023-08-05 14:43:00.362 ERROR    :: exception calling callback for <Future at 0x4005ebcb80 state=finished returned int>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle <TaskStepMethWrapper object at 0x4005ebfa00>()>
  File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x4005ebfa00>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x4005ebfa00>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x4005ebfa00>()>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2ef0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 92, in _start
    f.add_done_callback(on_terminate)
    │ │                 └ <function on_terminate at 0x4005f0d1b0>
    │ └ <function Future.add_done_callback at 0x40027c63b0>
    └ <Future at 0x4005ebcb80 state=finished returned int>

> File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 426, in add_done_callback
    fn(self)
    │  └ <Future at 0x4005ebcb80 state=finished returned int>
    └ <function on_terminate at 0x4005f0d1b0>

TypeError: on_terminate() takes 0 positional arguments but 1 was given
2023-08-05 14:44:00.089 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:44:00.334 INFO     :: 0
2023-08-05 14:44:00.337 ERROR    :: exception calling callback for <Future at 0x4005ebcc70 state=finished returned int>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5870>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7370>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02dd0>
    └ <Handle <TaskStepMethWrapper object at 0x4005ebfbb0>()>
  File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x4005ebfbb0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x4005ebfbb0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x4005ebfbb0>()>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2ef0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 92, in _start
    f.add_done_callback(on_terminate)
    │ │                 └ <function on_terminate at 0x4005f0d1b0>
    │ └ <function Future.add_done_callback at 0x40027c63b0>
    └ <Future at 0x4005ebcc70 state=finished returned int>

> File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 426, in add_done_callback
    fn(self)
    │  └ <Future at 0x4005ebcc70 state=finished returned int>
    └ <function on_terminate at 0x4005f0d1b0>

TypeError: on_terminate() takes 0 positional arguments but 1 was given
2023-08-05 14:44:24.414 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 14:44:30.944 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 14:45:00.079 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:45:00.338 INFO     :: 0
2023-08-05 14:45:28.265 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 14:45:34.687 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 14:46:00.088 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:46:00.349 INFO     :: 0
2023-08-05 14:46:00.351 ERROR    :: Task Finished
2023-08-05 14:46:32.271 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 14:46:38.534 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 14:47:00.102 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:47:00.135 ERROR    :: Exception in callback _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005de8fa0 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 14:47:00.173 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-19' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.13a26fca964c40ee92db2714f8d88...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005de8fa0 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 14:48:00.108 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:48:00.118 ERROR    :: Exception in callback _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d83730 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 14:48:00.135 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-23' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.13a26fca964c40ee92db2714f8d88...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d83730 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 14:49:00.104 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:49:00.119 ERROR    :: Exception in callback _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d80d30 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 14:49:00.137 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-27' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.13a26fca964c40ee92db2714f8d88...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d80d30 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 14:50:00.095 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:50:00.122 ERROR    :: Exception in callback _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d83c10 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 14:50:00.145 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-31' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.13a26fca964c40ee92db2714f8d88...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d83c10 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 14:51:00.099 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:51:00.118 ERROR    :: Exception in callback _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d83850 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 14:51:00.142 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-35' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.13a26fca964c40ee92db2714f8d88...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d83850 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 14:52:00.112 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:52:00.124 ERROR    :: Exception in callback _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d80d90 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 14:52:00.140 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-39' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.13a26fca964c40ee92db2714f8d88...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d80d90 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 14:53:00.086 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:53:00.100 ERROR    :: Exception in callback _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d81bd0 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 14:53:00.118 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-43' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.13a26fca964c40ee92db2714f8d88...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d81bd0 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 14:54:00.206 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:54:00.245 ERROR    :: Exception in callback _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d81900 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 14:54:00.278 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-47' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.13a26fca964c40ee92db2714f8d88...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d81900 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 14:55:00.107 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:55:00.126 ERROR    :: Exception in callback _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d80700 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 14:55:00.147 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-51' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.13a26fca964c40ee92db2714f8d88...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d80700 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 14:56:00.117 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:56:00.140 ERROR    :: Exception in callback _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d818d0 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 14:56:00.166 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-55' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.13a26fca964c40ee92db2714f8d88...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d818d0 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 14:57:00.124 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:57:00.140 ERROR    :: Exception in callback _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d83370 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 14:57:00.159 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-59' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.13a26fca964c40ee92db2714f8d88...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d83370 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 14:58:00.131 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:58:00.150 ERROR    :: Exception in callback _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d822f0 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 14:58:00.169 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-63' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.13a26fca964c40ee92db2714f8d88...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d822f0 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 14:59:00.128 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 14:59:00.148 ERROR    :: Exception in callback _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d81090 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 14:59:00.172 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-67' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.13a26fca964c40ee92db2714f8d88...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d81090 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:00:00.146 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 15:00:00.163 ERROR    :: Exception in callback _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d810c0 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:00:00.180 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-71' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.13a26fca964c40ee92db2714f8d88...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d810c0 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:01:00.127 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 15:01:00.139 ERROR    :: Exception in callback _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d81ae0 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:01:00.154 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-75' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.13a26fca964c40ee92db2714f8d88...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d81ae0 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:02:00.145 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 15:02:00.170 ERROR    :: Exception in callback _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d81000 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:02:00.192 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-79' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.13a26fca964c40ee92db2714f8d88...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d81000 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:03:00.126 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 15:03:00.137 ERROR    :: Exception in callback _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d82380 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:03:00.153 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-83' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.13a26fca964c40ee92db2714f8d88...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d82380 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:04:00.128 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 15:04:00.146 ERROR    :: Exception in callback _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d80400 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:04:00.169 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-87' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.13a26fca964c40ee92db2714f8d88...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d80400 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:05:00.116 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 15:05:00.129 ERROR    :: Exception in callback _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d82800 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:05:00.147 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-91' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.13a26fca964c40ee92db2714f8d88...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d82800 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:06:00.128 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 15:06:00.142 ERROR    :: Exception in callback _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d81ff0 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:06:00.162 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-95' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.13a26fca964c40ee92db2714f8d88...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d81ff0 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:07:00.115 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 15:07:00.126 ERROR    :: Exception in callback _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d82e90 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:07:00.145 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-99' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.13a26fca964c40ee92db2714f8d88...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d82e90 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:08:00.119 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 15:08:00.133 ERROR    :: Exception in callback _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d80e50 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:08:00.150 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-103' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.13a26fca964c40ee92db2714f8d88...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d80e50 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:09:00.123 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 15:09:00.140 ERROR    :: Exception in callback _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d80fa0 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:09:00.155 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-107' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.13a26fca964c40ee92db2714f8d88...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d80fa0 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:10:00.114 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 15:10:00.126 ERROR    :: Exception in callback _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d83790 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:10:00.142 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-111' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.13a26fca964c40ee92db2714f8d88...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d83790 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:11:00.101 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 15:11:00.114 ERROR    :: Exception in callback _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d838b0 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:11:00.133 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-115' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.13a26fca964c40ee92db2714f8d88...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d838b0 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:12:00.097 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 15:12:00.110 ERROR    :: Exception in callback _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d81450 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:12:00.125 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-119' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.13a26fca964c40ee92db2714f8d88...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d81450 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:13:00.120 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 15:13:00.133 ERROR    :: Exception in callback _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d827d0 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:13:00.150 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-123' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.13a26fca964c40ee92db2714f8d88...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d827d0 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:14:00.115 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 15:14:00.127 ERROR    :: Exception in callback _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d81330 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:14:00.142 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-127' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.13a26fca964c40ee92db2714f8d88...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d81330 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:15:00.085 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 15:15:00.095 ERROR    :: Exception in callback _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d83820 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:15:00.113 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-131' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.13a26fca964c40ee92db2714f8d88...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d83820 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:16:00.118 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 15:16:00.141 ERROR    :: Exception in callback _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ment 'wait'")>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d822c0 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:16:00.162 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-135' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError("Popen.__init__() got an unexpected keyword argument 'wait'")>
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/concurrent/futures/process.py", line 246, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
"""


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.13a26fca964c40ee92db2714f8d88...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 67, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62d40>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    self._logger.info(f.result())
    │    │       │    │ └ <function Future.result at 0x40027c63b0>
    │    │       │    └ <Future at 0x4005d822c0 state=finished raised TypeError>
    │    │       └ <function Logger.info at 0x40043ccb80>
    │    └ <loguru.logger handlers=[(id=1, level=20, sink=<stdout>), (id=2, level=20, sink='log/spider_api.log')]>
    └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
           └ None
  File "/usr/local/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
          └ None

TypeError: Popen.__init__() got an unexpected keyword argument 'wait'
2023-08-05 15:16:18.991 ERROR    :: Unexpected connection close from remote "amqp://crwl:******@rabbitmq:5672/", Connection.Close(reply_code=320, reply_text="CONNECTION_FORCED - broker forced connection closure with reason 'shutdown'")
NoneType: None
2023-08-05 15:16:19.021 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:06:11.775 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 16:06:18.397 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 16:07:00.120 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:07:00.440 INFO     :: 0
2023-08-05 16:07:00.443 ERROR    :: Task Finished
2023-08-05 16:12:03.639 ERROR    :: Unexpected connection close from remote "amqp://crwl:******@rabbitmq:5672/", Connection.Close(reply_code=320, reply_text="CONNECTION_FORCED - broker forced connection closure with reason 'shutdown'")
NoneType: None
2023-08-05 16:13:46.921 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 16:13:54.846 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 16:14:00.078 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:14:00.392 INFO     :: 2
2023-08-05 16:14:00.395 ERROR    :: Task Finished
2023-08-05 16:15:00.099 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:15:00.334 INFO     :: 2
2023-08-05 16:15:00.335 ERROR    :: Task Finished
2023-08-05 16:16:00.074 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:16:00.387 INFO     :: 2
2023-08-05 16:16:00.390 ERROR    :: Task Finished
2023-08-05 16:16:08.224 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 16:16:14.556 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 16:17:00.070 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:17:00.321 INFO     :: 2
2023-08-05 16:17:00.324 ERROR    :: Task Finished
2023-08-05 16:18:00.100 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:18:00.363 INFO     :: 2
2023-08-05 16:18:00.365 ERROR    :: Task Finished
2023-08-05 16:18:25.409 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 16:18:31.681 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 16:19:00.094 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:19:00.427 INFO     :: 1
2023-08-05 16:19:00.429 ERROR    :: Task Finished
2023-08-05 16:20:00.070 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:20:00.420 INFO     :: 1
2023-08-05 16:20:00.426 ERROR    :: Task Finished
2023-08-05 16:21:00.057 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:21:00.368 INFO     :: 1
2023-08-05 16:21:00.371 ERROR    :: Task Finished
2023-08-05 16:22:00.060 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:22:00.400 INFO     :: 1
2023-08-05 16:22:00.403 ERROR    :: Task Finished
2023-08-05 16:23:00.054 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:23:00.373 INFO     :: 1
2023-08-05 16:23:00.376 ERROR    :: Task Finished
2023-08-05 16:24:00.048 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:24:00.341 INFO     :: 1
2023-08-05 16:24:00.343 ERROR    :: Task Finished
2023-08-05 16:25:00.085 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:25:00.369 INFO     :: 1
2023-08-05 16:25:00.371 ERROR    :: Task Finished
2023-08-05 16:25:11.150 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 16:25:17.619 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 16:25:26.830 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 16:25:33.150 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 16:26:00.098 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:26:02.941 INFO     :: 0
2023-08-05 16:26:02.943 ERROR    :: Task Finished
2023-08-05 16:27:00.081 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:27:02.942 INFO     :: 0
2023-08-05 16:27:02.944 ERROR    :: Task Finished
2023-08-05 16:28:00.089 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:28:02.917 INFO     :: 0
2023-08-05 16:28:02.919 ERROR    :: Task Finished
2023-08-05 16:29:00.076 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:29:03.478 INFO     :: 0
2023-08-05 16:29:03.481 ERROR    :: Task Finished
2023-08-05 16:29:49.840 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 16:29:56.547 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 16:30:00.090 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:30:00.393 INFO     :: 0
2023-08-05 16:30:00.396 ERROR    :: Task Finished
2023-08-05 16:31:00.123 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:31:00.391 INFO     :: 0
2023-08-05 16:31:00.393 ERROR    :: Task Finished
2023-08-05 16:31:41.798 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 16:31:47.967 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 16:32:00.097 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:32:00.390 INFO     :: 0
2023-08-05 16:32:00.393 ERROR    :: Task Finished
2023-08-05 16:33:00.093 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:33:00.364 INFO     :: 0
2023-08-05 16:33:00.367 ERROR    :: Task Finished
2023-08-05 16:34:00.079 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:34:00.371 INFO     :: 0
2023-08-05 16:34:00.373 ERROR    :: Task Finished
2023-08-05 16:35:00.083 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:35:00.359 INFO     :: 0
2023-08-05 16:35:00.361 ERROR    :: Task Finished
2023-08-05 16:36:00.071 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:36:00.365 INFO     :: 0
2023-08-05 16:36:00.367 ERROR    :: Task Finished
2023-08-05 16:37:00.079 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:37:00.439 INFO     :: 0
2023-08-05 16:37:00.442 ERROR    :: Task Finished
2023-08-05 16:37:47.874 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 16:37:54.545 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 16:38:00.082 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:38:00.771 INFO     :: 0
2023-08-05 16:38:00.774 ERROR    :: Task Finished
2023-08-05 16:38:55.016 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 16:39:01.240 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 16:39:01.252 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:40:00.080 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:40:21.813 ERROR    :: Unexpected connection close from remote "amqp://crwl:******@rabbitmq:5672/", Connection.Close(reply_code=320, reply_text="CONNECTION_FORCED - broker forced connection closure with reason 'shutdown'")
NoneType: None
2023-08-05 16:40:21.865 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:40:21.888 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:40:21.895 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno 111] Connect call failed ('172.22.0.3', 5672). Reconnecting after 5 seconds.
2023-08-05 16:40:26.920 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:40:26.923 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno 111] Connect call failed ('172.22.0.3', 5672). Reconnecting after 5 seconds.
2023-08-05 16:40:31.998 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:40:32.003 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:40:37.045 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:40:37.054 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:40:42.093 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:40:42.100 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:40:47.131 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:40:47.134 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:40:52.171 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:40:52.176 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:40:57.210 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:40:57.216 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:41:02.250 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:41:02.258 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:41:07.293 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:41:07.301 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:41:12.338 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:41:12.344 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:41:17.375 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:41:17.381 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:41:22.415 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:41:22.421 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:41:27.459 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:41:27.465 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:41:32.501 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:41:32.506 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:41:37.542 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:41:37.548 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:41:42.581 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:41:42.586 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:41:47.618 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:41:47.624 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:41:52.663 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:41:52.670 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:41:57.697 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:41:57.703 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:42:02.735 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:42:02.742 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:42:07.779 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:42:07.785 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:42:12.824 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:42:12.830 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:42:17.874 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:42:17.881 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:42:22.922 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:42:22.928 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:42:27.960 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:42:27.966 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:42:32.997 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:42:33.003 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:42:38.046 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:42:38.053 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:42:43.095 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:42:43.101 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:42:48.143 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:42:48.150 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:42:53.185 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:42:53.191 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:42:58.223 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:42:58.228 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:43:03.261 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:43:03.266 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:43:08.305 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:43:08.311 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:43:13.350 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:43:13.355 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:43:18.391 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:43:18.396 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:43:23.411 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:43:23.414 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:43:28.431 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:43:28.434 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:43:33.469 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:43:33.474 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:43:38.512 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:43:38.517 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:43:43.557 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:43:43.562 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:43:48.597 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:43:48.602 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:43:53.629 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:43:53.634 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:43:58.662 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:43:58.667 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:44:03.699 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:44:03.705 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:44:08.745 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:44:08.751 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:44:13.783 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:44:13.788 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:44:18.823 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:44:18.828 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:44:23.866 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:44:23.873 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:44:28.905 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:44:28.911 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:44:33.949 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:44:33.954 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:44:38.989 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:44:38.994 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:44:44.031 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:44:44.038 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:44:49.082 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:44:49.088 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:44:54.128 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:44:54.136 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:44:59.180 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:44:59.189 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:45:04.233 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 16:45:04.238 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 16:45:14.595 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 16:45:21.129 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 16:46:00.089 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:48:29.219 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 16:48:35.753 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 16:49:00.087 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:50:00.087 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:51:00.105 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:52:00.131 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 16:53:00.136 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 17:41:00.148 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 19:33:00.130 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 19:34:00.128 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 19:35:00.124 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 19:36:00.125 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 19:37:00.122 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 19:38:00.131 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 19:38:21.025 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 19:38:27.432 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 19:39:00.116 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 19:39:36.215 ERROR    :: Unexpected connection close from remote "amqp://crwl:******@rabbitmq:5672/", Connection.Close(reply_code=320, reply_text="CONNECTION_FORCED - broker forced connection closure with reason 'shutdown'")
NoneType: None
2023-08-05 19:39:36.238 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:39:36.258 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:39:36.265 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno 111] Connect call failed ('172.22.0.5', 5672). Reconnecting after 5 seconds.
2023-08-05 19:39:41.282 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:39:41.285 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno 111] Connect call failed ('172.22.0.5', 5672). Reconnecting after 5 seconds.
2023-08-05 19:39:46.323 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:39:46.328 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:39:51.361 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:39:51.369 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:39:56.402 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:39:56.408 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:40:01.444 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:40:01.450 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:40:06.480 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:40:06.486 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:40:11.521 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:40:11.527 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:40:16.562 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:40:16.567 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:40:21.604 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:40:21.611 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:40:26.644 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:40:26.650 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:40:31.685 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:40:31.692 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:40:36.728 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:40:36.734 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:40:41.767 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:40:41.775 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:40:46.806 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:40:46.811 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:40:51.846 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:40:51.851 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:40:56.883 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:40:56.888 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:41:01.923 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:41:01.928 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:41:06.965 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:41:06.970 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:41:12.005 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:41:12.010 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:41:17.043 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:41:17.050 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:41:22.085 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:41:22.090 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:41:27.126 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:41:27.132 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:41:32.169 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:41:32.174 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:41:37.211 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:41:37.216 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:41:42.250 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:41:42.255 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:41:47.292 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:41:47.297 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:41:52.335 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:41:52.340 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:41:57.361 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:41:57.364 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:42:02.394 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:42:02.399 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:42:07.437 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:42:07.442 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:42:12.461 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:42:12.463 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:42:17.498 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:42:17.506 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:42:22.542 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:42:22.547 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:42:27.580 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:42:27.586 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:42:32.619 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:42:32.624 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:42:37.661 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:42:37.666 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:42:42.703 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:42:42.708 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:42:47.743 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:42:47.748 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:42:52.782 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:42:52.786 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:42:57.823 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:42:57.827 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:43:02.861 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:43:02.867 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:43:07.903 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:43:07.909 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:43:12.941 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:43:12.947 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:43:17.981 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:43:17.987 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:43:23.023 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:43:23.030 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:43:28.065 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:43:28.072 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:43:33.107 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:43:33.113 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:43:38.153 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:43:38.159 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:43:43.196 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:43:43.201 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:43:48.238 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:43:48.243 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:43:53.279 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:43:53.285 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:43:58.324 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:43:58.329 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:44:03.363 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:44:03.369 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:44:08.410 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:44:08.416 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:44:13.452 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:44:13.457 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:44:18.492 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:44:18.498 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:44:23.535 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:44:23.539 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:44:28.574 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:44:28.579 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:44:33.615 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:44:33.620 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:44:38.656 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:44:38.662 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:44:43.694 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:44:43.699 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:44:48.730 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:44:48.736 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:44:53.770 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:44:53.775 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:44:58.810 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:44:58.814 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:45:03.847 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:45:03.853 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:45:08.884 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:45:08.889 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:45:13.923 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:45:13.928 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:45:18.965 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:45:18.971 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:45:24.010 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:45:24.016 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:45:29.051 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:45:29.056 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:45:34.090 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:45:34.095 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:45:39.134 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:45:39.139 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:45:44.174 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:45:44.180 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:45:49.217 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:45:49.222 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:45:54.260 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:45:54.266 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:45:59.297 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:45:59.303 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:46:04.342 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:46:04.350 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:46:09.388 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:46:09.393 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:46:14.430 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:46:14.435 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:46:19.472 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:46:19.477 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:46:24.515 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:46:24.520 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:46:29.548 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:46:29.553 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:46:34.587 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:46:34.593 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:46:39.621 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:46:39.624 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:46:44.660 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:46:44.665 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:46:49.702 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:46:49.707 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:46:54.734 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:46:54.739 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:46:59.774 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:46:59.778 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:47:04.812 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:47:04.819 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:47:09.849 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:47:09.854 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:47:14.896 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:47:14.901 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:47:19.940 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:47:19.945 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:47:24.983 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:47:24.988 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:47:30.025 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:47:30.030 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:47:35.074 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:47:35.078 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:47:40.118 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:47:40.122 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:47:45.163 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:47:45.172 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:47:50.210 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:47:50.215 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:47:55.262 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:47:55.268 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:48:00.310 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:48:00.318 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:48:05.352 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:48:05.357 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:48:10.391 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:48:10.396 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:48:15.432 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:48:15.437 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:48:20.471 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:48:20.476 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:48:25.512 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:48:25.518 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:48:30.545 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:48:30.549 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:48:35.587 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:48:35.592 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:48:40.631 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:48:40.636 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:48:45.673 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:48:45.680 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:48:50.715 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:48:50.721 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:48:55.753 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:48:55.759 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:49:00.798 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:49:00.803 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:49:05.840 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:49:05.845 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:49:10.889 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:49:10.895 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:49:15.928 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:49:15.934 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:49:20.967 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:49:20.972 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:49:26.010 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:49:26.015 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:49:31.047 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:49:31.053 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:49:36.088 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:49:36.092 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:49:41.121 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:49:41.129 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:49:46.163 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:49:46.169 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:49:51.202 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:49:51.207 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:49:56.242 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:49:56.250 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:50:01.291 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:50:01.298 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:50:06.330 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:50:06.336 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:50:11.375 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:50:11.381 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:50:16.413 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:50:16.418 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:50:21.448 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:50:21.453 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:50:26.491 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:50:26.496 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:50:31.528 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:50:31.535 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:50:36.575 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:50:36.580 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:50:41.613 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:50:41.618 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:50:46.656 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:50:46.661 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:50:51.691 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:50:51.697 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:50:56.734 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:50:56.739 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:51:01.773 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:51:01.779 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:51:06.812 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:51:06.817 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:51:11.854 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:51:11.861 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:51:16.897 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:51:16.903 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:51:21.937 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:51:21.942 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:51:26.975 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:51:26.980 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:51:32.009 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:51:32.014 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:51:37.052 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:51:37.057 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:51:42.076 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:51:42.078 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:51:47.111 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:51:47.116 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:51:52.147 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:51:52.152 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:51:57.189 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:51:57.195 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:52:02.223 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:52:02.229 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:52:07.260 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:52:07.266 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:52:12.298 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:52:12.304 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:52:17.334 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:52:17.339 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:52:22.377 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:52:22.382 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:52:27.413 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:52:27.418 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:52:32.455 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:52:32.462 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:52:37.495 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:52:37.501 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:52:42.530 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:52:42.535 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:52:47.567 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:52:47.572 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:52:52.606 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:52:52.611 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:52:57.645 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:52:57.650 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:53:02.682 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:53:02.687 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:53:07.705 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:53:07.708 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:53:12.744 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:53:12.749 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:53:17.786 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:53:17.792 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:53:22.826 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:53:22.832 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:53:27.868 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:53:27.872 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:53:32.912 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:53:32.917 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:53:37.959 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:53:37.963 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:53:42.994 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:53:43.000 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:53:48.038 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:53:48.044 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:53:53.080 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:53:53.086 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:53:58.120 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:53:58.124 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:54:03.161 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:54:03.166 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:54:08.203 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:54:08.208 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:54:13.251 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:54:13.257 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:54:18.277 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:54:18.279 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:54:23.314 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:54:23.320 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:54:28.357 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:54:28.363 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:54:33.397 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:54:33.402 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:54:38.443 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:54:38.451 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:54:43.488 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:54:43.493 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:54:48.533 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:54:48.540 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:54:53.580 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:54:53.587 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:54:58.626 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:54:58.632 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:55:03.674 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:55:03.679 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:55:08.699 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:55:08.704 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:55:13.742 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:55:13.748 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:55:18.785 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:55:18.790 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:55:23.830 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:55:23.835 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:55:28.874 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:55:28.878 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:55:33.915 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:55:33.921 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:55:38.959 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:55:38.964 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:55:44.001 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:55:44.006 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:55:49.042 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:55:49.047 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:55:54.085 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:55:54.091 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:55:59.121 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:55:59.126 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:56:04.162 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:56:04.167 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:56:09.201 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:56:09.207 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:56:14.250 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:56:14.257 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:56:19.301 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:56:19.307 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:56:24.346 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:56:24.352 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:56:29.398 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:56:29.406 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:56:34.425 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:56:34.427 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:56:39.465 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:56:39.472 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:56:44.513 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:56:44.518 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:56:49.568 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:56:49.573 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:56:54.617 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:56:54.627 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:56:59.677 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:56:59.685 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:57:04.722 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:57:04.725 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:57:09.766 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:57:09.775 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:57:14.811 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:57:14.814 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:57:19.856 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:57:19.861 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:57:24.899 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:57:24.901 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:57:29.941 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:57:29.946 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:57:34.993 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:57:34.999 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:57:40.045 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:57:40.051 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:57:45.097 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:57:45.104 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:57:50.145 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:57:50.151 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:57:55.189 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:57:55.196 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:58:00.234 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:58:00.241 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:58:05.284 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:58:05.290 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:58:10.330 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:58:10.338 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:58:15.382 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:58:15.387 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:58:20.430 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:58:20.436 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:58:25.474 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:58:25.479 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:58:30.515 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:58:30.520 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:58:35.560 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:58:35.565 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:58:40.601 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:58:40.606 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:58:45.642 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:58:45.647 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:58:50.683 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:58:50.688 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:58:55.720 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:58:55.725 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:59:00.761 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:59:00.766 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:59:05.801 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:59:05.806 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:59:10.843 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:59:10.849 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:59:15.883 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:59:15.888 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:59:20.930 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:59:20.935 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:59:25.967 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:59:25.972 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:59:31.005 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:59:31.011 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:59:36.042 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:59:36.047 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:59:41.079 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:59:41.084 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:59:46.121 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:59:46.126 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:59:51.161 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:59:51.166 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 19:59:56.205 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 19:59:56.210 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:00:01.245 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:00:01.251 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:00:06.280 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:00:06.285 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:00:11.314 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:00:11.319 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:00:16.352 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:00:16.357 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:00:21.393 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:00:21.396 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:00:26.438 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:00:26.443 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:00:31.486 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:00:31.492 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:00:36.530 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:00:36.536 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:00:41.572 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:00:41.576 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:00:46.623 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:00:46.631 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:00:51.674 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:00:51.680 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:00:56.731 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:00:56.737 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:01:01.779 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:01:01.785 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:01:06.828 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:01:06.835 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:01:11.883 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:01:11.890 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:01:16.925 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:01:16.929 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:01:21.967 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:01:21.972 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:01:27.004 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:01:27.011 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:01:32.055 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:01:32.062 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:01:37.107 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:01:37.113 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:01:42.160 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:01:42.166 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:01:47.206 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:01:47.212 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:01:52.252 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:01:52.259 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:01:57.302 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:01:57.308 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:02:02.347 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:02:02.350 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:02:07.387 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:02:07.393 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:02:12.439 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:02:12.445 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:02:17.480 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:02:17.486 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:02:22.519 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:02:22.523 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:02:27.559 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:02:27.566 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:02:32.611 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:02:32.617 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:02:37.659 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:02:37.665 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:02:42.717 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:02:42.724 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:02:47.760 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:02:47.766 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:02:52.804 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:02:52.808 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:03:02.158 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:03:02.164 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:03:07.194 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:03:07.198 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:03:12.238 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:03:12.244 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:03:17.283 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:03:17.288 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:03:22.332 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:03:22.341 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:03:27.380 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:03:27.385 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:03:32.422 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:03:32.428 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:03:37.468 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:03:37.473 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:03:42.515 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:03:42.520 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:03:47.561 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:03:47.565 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:03:52.606 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:03:52.611 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:03:57.649 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:03:57.655 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:04:02.692 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:04:02.696 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:04:07.736 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:04:07.741 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:04:12.783 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:04:12.788 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:04:17.827 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:04:17.833 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:04:22.872 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:04:22.876 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:04:27.915 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:04:27.922 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:04:32.963 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:04:32.969 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:04:38.001 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:04:38.006 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:04:43.042 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:04:43.047 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:04:48.088 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:04:48.095 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:04:53.138 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:04:53.143 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:04:58.181 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:04:58.186 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:05:03.222 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:05:03.227 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:05:08.262 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:05:08.268 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:05:13.304 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:05:13.312 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:05:18.352 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:05:18.356 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:05:23.392 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:05:23.397 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:05:28.429 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:05:28.435 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:05:33.466 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:05:33.471 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:05:38.510 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:05:38.515 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:05:43.555 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:05:43.560 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:05:48.600 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:05:48.605 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:05:53.640 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:05:53.645 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:05:58.671 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:05:58.675 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:06:03.712 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:06:03.716 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:06:08.747 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:06:08.753 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:06:13.791 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:06:13.796 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:06:18.838 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:06:18.842 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:06:23.877 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:06:23.882 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:06:28.920 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:06:28.924 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:06:33.947 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:06:33.949 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:06:38.996 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:06:39.001 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:06:44.039 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:06:44.047 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:06:49.092 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:06:49.097 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:06:54.142 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:06:54.145 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:06:59.195 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:06:59.204 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:07:04.245 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:07:04.252 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:07:09.300 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:07:09.306 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:07:14.349 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:07:14.355 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:07:19.392 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:07:19.397 ERROR    :: Ошибка связи с брокером: [Errno -2] Name or service not known
2023-08-05 20:07:24.412 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:07:24.414 ERROR    :: Ошибка связи с брокером: [Errno 111] Connect call failed ('172.22.0.2', 5672)
2023-08-05 20:07:29.450 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 20:07:36.095 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 20:08:00.105 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 20:08:08.781 ERROR    :: Unexpected connection close from remote "amqp://crwl:******@rabbitmq:5672/", Connection.Close(reply_code=320, reply_text="CONNECTION_FORCED - broker forced connection closure with reason 'shutdown'")
NoneType: None
2023-08-05 20:08:08.816 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:08:08.829 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:08:08.835 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno 111] Connect call failed ('172.22.0.2', 5672). Reconnecting after 5 seconds.
2023-08-05 20:08:13.856 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:08:13.860 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno 111] Connect call failed ('172.22.0.2', 5672). Reconnecting after 5 seconds.
2023-08-05 20:08:18.902 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:08:18.907 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:08:23.945 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:08:23.951 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:08:28.986 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:08:28.992 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:08:34.027 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:08:34.032 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:08:39.069 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:08:39.078 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:08:44.110 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:08:44.115 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:08:49.134 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:08:49.137 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:08:54.164 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:08:54.169 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:08:59.205 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:08:59.211 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:09:04.249 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:09:04.255 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:09:09.286 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:09:09.293 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:09:14.334 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:09:14.339 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:09:19.379 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:09:19.384 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:09:24.424 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:09:24.430 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:09:29.467 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:09:29.473 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:09:34.511 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:09:34.519 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:09:39.557 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:09:39.562 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:09:44.605 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:09:44.610 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:09:49.642 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:09:49.648 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:09:54.682 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:09:54.688 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:09:59.718 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:09:59.722 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:10:04.765 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:10:04.772 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:10:09.815 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:10:09.822 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:10:14.862 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:10:14.869 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:10:19.907 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:10:19.913 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:10:24.948 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:10:24.956 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:10:29.992 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:10:29.996 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:10:35.030 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:10:35.036 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:10:40.076 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:10:40.078 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:10:45.114 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:10:45.119 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:10:50.152 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:10:50.158 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:10:55.192 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:10:55.198 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:11:00.236 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:11:00.242 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:11:05.279 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:11:05.285 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:11:10.320 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:11:10.327 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:11:15.363 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:11:15.368 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:11:20.397 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:11:20.403 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:11:25.442 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:11:25.448 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:11:30.490 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:11:30.496 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:11:35.541 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:11:35.547 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:11:40.592 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:11:40.599 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:11:45.643 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:11:45.649 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:11:50.682 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:11:50.689 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:11:55.732 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:11:55.739 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:12:00.777 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:12:00.783 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:12:05.820 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:12:05.828 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:12:10.877 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:12:10.882 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:12:15.916 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:12:15.922 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:12:20.959 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:12:20.965 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:12:26.002 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:12:26.008 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:12:31.038 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:12:31.045 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:12:36.083 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:12:36.089 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:12:41.129 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:12:41.134 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:12:46.174 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:12:46.181 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:12:51.218 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:12:51.225 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:12:56.258 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:12:56.263 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:13:01.306 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:13:01.311 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:13:06.356 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:13:06.362 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:13:11.405 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:13:11.414 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:13:16.460 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:13:16.466 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:13:21.513 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:13:21.519 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:13:26.561 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:13:26.568 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:13:31.614 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:13:31.622 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:13:36.660 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:13:36.667 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:13:41.705 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:13:41.714 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:13:46.760 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:13:46.766 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:13:51.811 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:13:51.817 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:13:56.853 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:13:56.861 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:14:01.904 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:14:01.910 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:14:06.959 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:14:06.965 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:14:12.005 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:14:12.011 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:14:17.056 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:14:17.062 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:14:22.101 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:14:22.107 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:14:27.157 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:14:27.163 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:14:32.201 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:14:32.207 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:14:37.254 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:14:37.260 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:14:42.306 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:14:42.313 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:14:47.358 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:14:47.364 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:14:52.408 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:14:52.416 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:14:57.461 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:14:57.467 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:15:02.509 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:15:02.516 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:15:07.558 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:15:07.565 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:15:12.599 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:15:12.604 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:15:17.647 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:15:17.653 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:15:22.686 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:15:22.696 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:15:27.742 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:15:27.749 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:15:32.791 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:15:32.799 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:15:37.840 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:15:37.848 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:15:42.895 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:15:42.902 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:15:47.945 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:15:47.951 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:15:52.997 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:15:53.003 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:15:58.047 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:15:58.053 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:16:03.095 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:16:03.101 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:16:08.133 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:16:08.140 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:16:13.187 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:16:13.194 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:16:18.224 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:16:18.229 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:16:23.274 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:16:23.280 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:16:28.329 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:16:28.334 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:16:33.373 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:16:33.380 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:16:38.425 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:16:38.433 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:16:43.473 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:16:43.479 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:16:48.524 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:16:48.532 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:16:53.572 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:16:53.578 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:16:58.617 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:16:58.623 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:17:03.663 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:17:03.668 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:17:08.692 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:17:08.698 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:17:13.721 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:17:13.723 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:17:18.739 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:17:18.743 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:17:23.782 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:17:23.789 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:17:28.820 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:17:28.825 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:17:33.852 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:17:33.857 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:17:38.901 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:17:38.906 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:17:43.945 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:17:43.951 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:17:48.984 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:17:48.990 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:17:54.021 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:17:54.027 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:17:59.061 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:17:59.065 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:18:04.105 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:18:04.110 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:18:09.147 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:18:09.154 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:18:14.191 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:18:14.197 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:18:19.234 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:18:19.239 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:18:24.266 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:18:24.272 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:18:29.306 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:18:29.312 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:18:34.344 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:18:34.349 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:18:39.387 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:18:39.394 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:18:44.434 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:18:44.439 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:18:49.469 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:18:49.474 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:18:54.514 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:18:54.520 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:18:59.547 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:18:59.549 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:19:04.585 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:19:04.591 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:19:09.620 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:19:09.626 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:19:14.663 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:19:14.670 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:19:19.710 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:19:19.715 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:19:24.754 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:19:24.763 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:19:29.803 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:19:29.811 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:19:34.849 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:19:34.855 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:19:39.897 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:19:39.903 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:19:44.948 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:19:44.956 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:19:49.998 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:19:50.004 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:19:55.043 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:19:55.049 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:20:00.088 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:20:00.095 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:20:05.141 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:20:05.147 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:20:10.192 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:20:10.198 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:20:15.218 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:20:15.221 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:20:20.265 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:20:20.272 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:20:25.317 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-05 20:20:25.323 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-05 20:20:36.775 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 20:20:43.251 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 20:21:00.095 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 20:21:00.119 ERROR    :: Exception in callback _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ FileNotFoundError(2, 'No such file or directory')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2cb0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call(f"{sys.executable} -m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py -a task={new_task.model_dump_json()}", shell=False)
    │          └ <function call at 0x40027fb1c0>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': False}
         │      └ ('/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cr...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cro...
    │    └ <function Popen._execute_child at 0x4002814310>
    └ <Popen: returncode: 255 args: '/usr/src/spider_svc/.venv//bin/python -m scra...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1845, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
          │                    │          │        └ '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cro...
          │                    │          └ 'No such file or directory'
          │                    └ 2
          └ <class 'OSError'>

FileNotFoundError: [Errno 2] No such file or directory: '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cron":"* * * * *","resource":{"resource_name":"archi competition 2","resource_url":"https://archi.ru/contests","template":{"comp_card":{"lang":"ru","summary":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/div[@class=\\"text1\\"]/text()"},"constraints":{"required":"true"},"postprocessors":{"prefix":"","suffix":""}},"request":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/@href"},"constraints":{"required":"true"}},"title":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/text()"},"constraints":{"required":"true"}},"next_page":{"pagination_type":"","next_page_link":"","parameters":{"curr_page_number":""}},"block_type":"list"},"comp_item":{"meta":{"selectors":{"xpath":"(//td[@class=\'rec_value_2 border_no\'])[3]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"translate":"en","strip":"true"}},"register_date":{"selectors":{"xpath":"(//td[@class=\'rec_value_1\'])[1]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"strip":"true","initial_date_format":"%d.%m.%Y","new_date_format":"%Y|%m|%d"}}}}},"settings":{"max_items":10},"task_uuid":"d6618412-3d16-4d41-be5c-5b8995320845"}'
2023-08-05 20:21:00.158 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-19' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=FileNotFoundError(2, 'No such file or directory')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.211f0b0f8dec458a8f4d544811d79...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2cb0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call(f"{sys.executable} -m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py -a task={new_task.model_dump_json()}", shell=False)
    │          └ <function call at 0x40027fb1c0>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': False}
         │      └ ('/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cr...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cro...
    │    └ <function Popen._execute_child at 0x4002814310>
    └ <Popen: returncode: 255 args: '/usr/src/spider_svc/.venv//bin/python -m scra...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1845, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
          │                    │          │        └ '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cro...
          │                    │          └ 'No such file or directory'
          │                    └ 2
          └ <class 'OSError'>

FileNotFoundError: [Errno 2] No such file or directory: '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cron":"* * * * *","resource":{"resource_name":"archi competition 2","resource_url":"https://archi.ru/contests","template":{"comp_card":{"lang":"ru","summary":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/div[@class=\\"text1\\"]/text()"},"constraints":{"required":"true"},"postprocessors":{"prefix":"","suffix":""}},"request":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/@href"},"constraints":{"required":"true"}},"title":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/text()"},"constraints":{"required":"true"}},"next_page":{"pagination_type":"","next_page_link":"","parameters":{"curr_page_number":""}},"block_type":"list"},"comp_item":{"meta":{"selectors":{"xpath":"(//td[@class=\'rec_value_2 border_no\'])[3]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"translate":"en","strip":"true"}},"register_date":{"selectors":{"xpath":"(//td[@class=\'rec_value_1\'])[1]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"strip":"true","initial_date_format":"%d.%m.%Y","new_date_format":"%Y|%m|%d"}}}}},"settings":{"max_items":10},"task_uuid":"d6618412-3d16-4d41-be5c-5b8995320845"}'
2023-08-05 20:22:00.096 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 20:22:00.111 ERROR    :: Exception in callback _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ FileNotFoundError(2, 'No such file or directory')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2cb0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call(f"{sys.executable} -m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py -a task={new_task.model_dump_json()}", shell=False)
    │          └ <function call at 0x40027fb1c0>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': False}
         │      └ ('/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cr...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cro...
    │    └ <function Popen._execute_child at 0x4002814310>
    └ <Popen: returncode: 255 args: '/usr/src/spider_svc/.venv//bin/python -m scra...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1845, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
          │                    │          │        └ '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cro...
          │                    │          └ 'No such file or directory'
          │                    └ 2
          └ <class 'OSError'>

FileNotFoundError: [Errno 2] No such file or directory: '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cron":"* * * * *","resource":{"resource_name":"archi competition 2","resource_url":"https://archi.ru/contests","template":{"comp_card":{"lang":"ru","summary":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/div[@class=\\"text1\\"]/text()"},"constraints":{"required":"true"},"postprocessors":{"prefix":"","suffix":""}},"request":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/@href"},"constraints":{"required":"true"}},"title":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/text()"},"constraints":{"required":"true"}},"next_page":{"pagination_type":"","next_page_link":"","parameters":{"curr_page_number":""}},"block_type":"list"},"comp_item":{"meta":{"selectors":{"xpath":"(//td[@class=\'rec_value_2 border_no\'])[3]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"translate":"en","strip":"true"}},"register_date":{"selectors":{"xpath":"(//td[@class=\'rec_value_1\'])[1]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"strip":"true","initial_date_format":"%d.%m.%Y","new_date_format":"%Y|%m|%d"}}}}},"settings":{"max_items":10},"task_uuid":"d6618412-3d16-4d41-be5c-5b8995320845"}'
2023-08-05 20:22:00.129 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-23' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=FileNotFoundError(2, 'No such file or directory')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.211f0b0f8dec458a8f4d544811d79...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2cb0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call(f"{sys.executable} -m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py -a task={new_task.model_dump_json()}", shell=False)
    │          └ <function call at 0x40027fb1c0>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': False}
         │      └ ('/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cr...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cro...
    │    └ <function Popen._execute_child at 0x4002814310>
    └ <Popen: returncode: 255 args: '/usr/src/spider_svc/.venv//bin/python -m scra...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1845, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
          │                    │          │        └ '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cro...
          │                    │          └ 'No such file or directory'
          │                    └ 2
          └ <class 'OSError'>

FileNotFoundError: [Errno 2] No such file or directory: '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cron":"* * * * *","resource":{"resource_name":"archi competition 2","resource_url":"https://archi.ru/contests","template":{"comp_card":{"lang":"ru","summary":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/div[@class=\\"text1\\"]/text()"},"constraints":{"required":"true"},"postprocessors":{"prefix":"","suffix":""}},"request":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/@href"},"constraints":{"required":"true"}},"title":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/text()"},"constraints":{"required":"true"}},"next_page":{"pagination_type":"","next_page_link":"","parameters":{"curr_page_number":""}},"block_type":"list"},"comp_item":{"meta":{"selectors":{"xpath":"(//td[@class=\'rec_value_2 border_no\'])[3]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"translate":"en","strip":"true"}},"register_date":{"selectors":{"xpath":"(//td[@class=\'rec_value_1\'])[1]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"strip":"true","initial_date_format":"%d.%m.%Y","new_date_format":"%Y|%m|%d"}}}}},"settings":{"max_items":10},"task_uuid":"d6618412-3d16-4d41-be5c-5b8995320845"}'
2023-08-05 20:23:00.080 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 20:23:00.096 ERROR    :: Exception in callback _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ FileNotFoundError(2, 'No such file or directory')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2cb0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call(f"{sys.executable} -m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py -a task={new_task.model_dump_json()}", shell=False)
    │          └ <function call at 0x40027fb1c0>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': False}
         │      └ ('/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cr...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cro...
    │    └ <function Popen._execute_child at 0x4002814310>
    └ <Popen: returncode: 255 args: '/usr/src/spider_svc/.venv//bin/python -m scra...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1845, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
          │                    │          │        └ '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cro...
          │                    │          └ 'No such file or directory'
          │                    └ 2
          └ <class 'OSError'>

FileNotFoundError: [Errno 2] No such file or directory: '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cron":"* * * * *","resource":{"resource_name":"archi competition 2","resource_url":"https://archi.ru/contests","template":{"comp_card":{"lang":"ru","summary":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/div[@class=\\"text1\\"]/text()"},"constraints":{"required":"true"},"postprocessors":{"prefix":"","suffix":""}},"request":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/@href"},"constraints":{"required":"true"}},"title":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/text()"},"constraints":{"required":"true"}},"next_page":{"pagination_type":"","next_page_link":"","parameters":{"curr_page_number":""}},"block_type":"list"},"comp_item":{"meta":{"selectors":{"xpath":"(//td[@class=\'rec_value_2 border_no\'])[3]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"translate":"en","strip":"true"}},"register_date":{"selectors":{"xpath":"(//td[@class=\'rec_value_1\'])[1]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"strip":"true","initial_date_format":"%d.%m.%Y","new_date_format":"%Y|%m|%d"}}}}},"settings":{"max_items":10},"task_uuid":"d6618412-3d16-4d41-be5c-5b8995320845"}'
2023-08-05 20:23:00.114 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-27' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=FileNotFoundError(2, 'No such file or directory')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.211f0b0f8dec458a8f4d544811d79...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2cb0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call(f"{sys.executable} -m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py -a task={new_task.model_dump_json()}", shell=False)
    │          └ <function call at 0x40027fb1c0>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': False}
         │      └ ('/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cr...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cro...
    │    └ <function Popen._execute_child at 0x4002814310>
    └ <Popen: returncode: 255 args: '/usr/src/spider_svc/.venv//bin/python -m scra...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1845, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
          │                    │          │        └ '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cro...
          │                    │          └ 'No such file or directory'
          │                    └ 2
          └ <class 'OSError'>

FileNotFoundError: [Errno 2] No such file or directory: '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cron":"* * * * *","resource":{"resource_name":"archi competition 2","resource_url":"https://archi.ru/contests","template":{"comp_card":{"lang":"ru","summary":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/div[@class=\\"text1\\"]/text()"},"constraints":{"required":"true"},"postprocessors":{"prefix":"","suffix":""}},"request":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/@href"},"constraints":{"required":"true"}},"title":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/text()"},"constraints":{"required":"true"}},"next_page":{"pagination_type":"","next_page_link":"","parameters":{"curr_page_number":""}},"block_type":"list"},"comp_item":{"meta":{"selectors":{"xpath":"(//td[@class=\'rec_value_2 border_no\'])[3]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"translate":"en","strip":"true"}},"register_date":{"selectors":{"xpath":"(//td[@class=\'rec_value_1\'])[1]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"strip":"true","initial_date_format":"%d.%m.%Y","new_date_format":"%Y|%m|%d"}}}}},"settings":{"max_items":10},"task_uuid":"d6618412-3d16-4d41-be5c-5b8995320845"}'
2023-08-05 20:24:00.080 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 20:24:00.096 ERROR    :: Exception in callback _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ FileNotFoundError(2, 'No such file or directory')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2cb0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call(f"{sys.executable} -m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py -a task={new_task.model_dump_json()}", shell=False)
    │          └ <function call at 0x40027fb1c0>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': False}
         │      └ ('/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cr...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cro...
    │    └ <function Popen._execute_child at 0x4002814310>
    └ <Popen: returncode: 255 args: '/usr/src/spider_svc/.venv//bin/python -m scra...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1845, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
          │                    │          │        └ '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cro...
          │                    │          └ 'No such file or directory'
          │                    └ 2
          └ <class 'OSError'>

FileNotFoundError: [Errno 2] No such file or directory: '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cron":"* * * * *","resource":{"resource_name":"archi competition 2","resource_url":"https://archi.ru/contests","template":{"comp_card":{"lang":"ru","summary":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/div[@class=\\"text1\\"]/text()"},"constraints":{"required":"true"},"postprocessors":{"prefix":"","suffix":""}},"request":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/@href"},"constraints":{"required":"true"}},"title":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/text()"},"constraints":{"required":"true"}},"next_page":{"pagination_type":"","next_page_link":"","parameters":{"curr_page_number":""}},"block_type":"list"},"comp_item":{"meta":{"selectors":{"xpath":"(//td[@class=\'rec_value_2 border_no\'])[3]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"translate":"en","strip":"true"}},"register_date":{"selectors":{"xpath":"(//td[@class=\'rec_value_1\'])[1]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"strip":"true","initial_date_format":"%d.%m.%Y","new_date_format":"%Y|%m|%d"}}}}},"settings":{"max_items":10},"task_uuid":"d6618412-3d16-4d41-be5c-5b8995320845"}'
2023-08-05 20:24:00.113 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-31' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=FileNotFoundError(2, 'No such file or directory')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.211f0b0f8dec458a8f4d544811d79...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2cb0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call(f"{sys.executable} -m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py -a task={new_task.model_dump_json()}", shell=False)
    │          └ <function call at 0x40027fb1c0>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': False}
         │      └ ('/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cr...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cro...
    │    └ <function Popen._execute_child at 0x4002814310>
    └ <Popen: returncode: 255 args: '/usr/src/spider_svc/.venv//bin/python -m scra...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1845, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
          │                    │          │        └ '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cro...
          │                    │          └ 'No such file or directory'
          │                    └ 2
          └ <class 'OSError'>

FileNotFoundError: [Errno 2] No such file or directory: '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cron":"* * * * *","resource":{"resource_name":"archi competition 2","resource_url":"https://archi.ru/contests","template":{"comp_card":{"lang":"ru","summary":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/div[@class=\\"text1\\"]/text()"},"constraints":{"required":"true"},"postprocessors":{"prefix":"","suffix":""}},"request":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/@href"},"constraints":{"required":"true"}},"title":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/text()"},"constraints":{"required":"true"}},"next_page":{"pagination_type":"","next_page_link":"","parameters":{"curr_page_number":""}},"block_type":"list"},"comp_item":{"meta":{"selectors":{"xpath":"(//td[@class=\'rec_value_2 border_no\'])[3]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"translate":"en","strip":"true"}},"register_date":{"selectors":{"xpath":"(//td[@class=\'rec_value_1\'])[1]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"strip":"true","initial_date_format":"%d.%m.%Y","new_date_format":"%Y|%m|%d"}}}}},"settings":{"max_items":10},"task_uuid":"d6618412-3d16-4d41-be5c-5b8995320845"}'
2023-08-05 20:25:00.107 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 20:25:00.122 ERROR    :: Exception in callback _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ FileNotFoundError(2, 'No such file or directory')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2cb0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call(f"{sys.executable} -m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py -a task={new_task.model_dump_json()}", shell=False)
    │          └ <function call at 0x40027fb1c0>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': False}
         │      └ ('/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cr...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cro...
    │    └ <function Popen._execute_child at 0x4002814310>
    └ <Popen: returncode: 255 args: '/usr/src/spider_svc/.venv//bin/python -m scra...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1845, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
          │                    │          │        └ '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cro...
          │                    │          └ 'No such file or directory'
          │                    └ 2
          └ <class 'OSError'>

FileNotFoundError: [Errno 2] No such file or directory: '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cron":"* * * * *","resource":{"resource_name":"archi competition 2","resource_url":"https://archi.ru/contests","template":{"comp_card":{"lang":"ru","summary":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/div[@class=\\"text1\\"]/text()"},"constraints":{"required":"true"},"postprocessors":{"prefix":"","suffix":""}},"request":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/@href"},"constraints":{"required":"true"}},"title":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/text()"},"constraints":{"required":"true"}},"next_page":{"pagination_type":"","next_page_link":"","parameters":{"curr_page_number":""}},"block_type":"list"},"comp_item":{"meta":{"selectors":{"xpath":"(//td[@class=\'rec_value_2 border_no\'])[3]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"translate":"en","strip":"true"}},"register_date":{"selectors":{"xpath":"(//td[@class=\'rec_value_1\'])[1]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"strip":"true","initial_date_format":"%d.%m.%Y","new_date_format":"%Y|%m|%d"}}}}},"settings":{"max_items":10},"task_uuid":"d6618412-3d16-4d41-be5c-5b8995320845"}'
2023-08-05 20:25:00.140 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-35' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=FileNotFoundError(2, 'No such file or directory')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.211f0b0f8dec458a8f4d544811d79...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2cb0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call(f"{sys.executable} -m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py -a task={new_task.model_dump_json()}", shell=False)
    │          └ <function call at 0x40027fb1c0>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': False}
         │      └ ('/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cr...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cro...
    │    └ <function Popen._execute_child at 0x4002814310>
    └ <Popen: returncode: 255 args: '/usr/src/spider_svc/.venv//bin/python -m scra...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1845, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
          │                    │          │        └ '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cro...
          │                    │          └ 'No such file or directory'
          │                    └ 2
          └ <class 'OSError'>

FileNotFoundError: [Errno 2] No such file or directory: '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cron":"* * * * *","resource":{"resource_name":"archi competition 2","resource_url":"https://archi.ru/contests","template":{"comp_card":{"lang":"ru","summary":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/div[@class=\\"text1\\"]/text()"},"constraints":{"required":"true"},"postprocessors":{"prefix":"","suffix":""}},"request":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/@href"},"constraints":{"required":"true"}},"title":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/text()"},"constraints":{"required":"true"}},"next_page":{"pagination_type":"","next_page_link":"","parameters":{"curr_page_number":""}},"block_type":"list"},"comp_item":{"meta":{"selectors":{"xpath":"(//td[@class=\'rec_value_2 border_no\'])[3]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"translate":"en","strip":"true"}},"register_date":{"selectors":{"xpath":"(//td[@class=\'rec_value_1\'])[1]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"strip":"true","initial_date_format":"%d.%m.%Y","new_date_format":"%Y|%m|%d"}}}}},"settings":{"max_items":10},"task_uuid":"d6618412-3d16-4d41-be5c-5b8995320845"}'
2023-08-05 20:26:00.097 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 20:26:00.113 ERROR    :: Exception in callback _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ FileNotFoundError(2, 'No such file or directory')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2cb0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call(f"{sys.executable} -m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py -a task={new_task.model_dump_json()}", shell=False)
    │          └ <function call at 0x40027fb1c0>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': False}
         │      └ ('/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cr...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cro...
    │    └ <function Popen._execute_child at 0x4002814310>
    └ <Popen: returncode: 255 args: '/usr/src/spider_svc/.venv//bin/python -m scra...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1845, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
          │                    │          │        └ '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cro...
          │                    │          └ 'No such file or directory'
          │                    └ 2
          └ <class 'OSError'>

FileNotFoundError: [Errno 2] No such file or directory: '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cron":"* * * * *","resource":{"resource_name":"archi competition 2","resource_url":"https://archi.ru/contests","template":{"comp_card":{"lang":"ru","summary":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/div[@class=\\"text1\\"]/text()"},"constraints":{"required":"true"},"postprocessors":{"prefix":"","suffix":""}},"request":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/@href"},"constraints":{"required":"true"}},"title":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/text()"},"constraints":{"required":"true"}},"next_page":{"pagination_type":"","next_page_link":"","parameters":{"curr_page_number":""}},"block_type":"list"},"comp_item":{"meta":{"selectors":{"xpath":"(//td[@class=\'rec_value_2 border_no\'])[3]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"translate":"en","strip":"true"}},"register_date":{"selectors":{"xpath":"(//td[@class=\'rec_value_1\'])[1]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"strip":"true","initial_date_format":"%d.%m.%Y","new_date_format":"%Y|%m|%d"}}}}},"settings":{"max_items":10},"task_uuid":"d6618412-3d16-4d41-be5c-5b8995320845"}'
2023-08-05 20:26:00.130 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-39' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=FileNotFoundError(2, 'No such file or directory')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.211f0b0f8dec458a8f4d544811d79...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2cb0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call(f"{sys.executable} -m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py -a task={new_task.model_dump_json()}", shell=False)
    │          └ <function call at 0x40027fb1c0>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': False}
         │      └ ('/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cr...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cro...
    │    └ <function Popen._execute_child at 0x4002814310>
    └ <Popen: returncode: 255 args: '/usr/src/spider_svc/.venv//bin/python -m scra...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1845, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
          │                    │          │        └ '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cro...
          │                    │          └ 'No such file or directory'
          │                    └ 2
          └ <class 'OSError'>

FileNotFoundError: [Errno 2] No such file or directory: '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cron":"* * * * *","resource":{"resource_name":"archi competition 2","resource_url":"https://archi.ru/contests","template":{"comp_card":{"lang":"ru","summary":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/div[@class=\\"text1\\"]/text()"},"constraints":{"required":"true"},"postprocessors":{"prefix":"","suffix":""}},"request":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/@href"},"constraints":{"required":"true"}},"title":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/text()"},"constraints":{"required":"true"}},"next_page":{"pagination_type":"","next_page_link":"","parameters":{"curr_page_number":""}},"block_type":"list"},"comp_item":{"meta":{"selectors":{"xpath":"(//td[@class=\'rec_value_2 border_no\'])[3]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"translate":"en","strip":"true"}},"register_date":{"selectors":{"xpath":"(//td[@class=\'rec_value_1\'])[1]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"strip":"true","initial_date_format":"%d.%m.%Y","new_date_format":"%Y|%m|%d"}}}}},"settings":{"max_items":10},"task_uuid":"d6618412-3d16-4d41-be5c-5b8995320845"}'
2023-08-05 20:27:00.128 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 20:27:00.143 ERROR    :: Exception in callback _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ FileNotFoundError(2, 'No such file or directory')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2cb0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call(f"{sys.executable} -m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py -a task={new_task.model_dump_json()}", shell=False)
    │          └ <function call at 0x40027fb1c0>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': False}
         │      └ ('/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cr...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cro...
    │    └ <function Popen._execute_child at 0x4002814310>
    └ <Popen: returncode: 255 args: '/usr/src/spider_svc/.venv//bin/python -m scra...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1845, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
          │                    │          │        └ '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cro...
          │                    │          └ 'No such file or directory'
          │                    └ 2
          └ <class 'OSError'>

FileNotFoundError: [Errno 2] No such file or directory: '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cron":"* * * * *","resource":{"resource_name":"archi competition 2","resource_url":"https://archi.ru/contests","template":{"comp_card":{"lang":"ru","summary":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/div[@class=\\"text1\\"]/text()"},"constraints":{"required":"true"},"postprocessors":{"prefix":"","suffix":""}},"request":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/@href"},"constraints":{"required":"true"}},"title":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/text()"},"constraints":{"required":"true"}},"next_page":{"pagination_type":"","next_page_link":"","parameters":{"curr_page_number":""}},"block_type":"list"},"comp_item":{"meta":{"selectors":{"xpath":"(//td[@class=\'rec_value_2 border_no\'])[3]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"translate":"en","strip":"true"}},"register_date":{"selectors":{"xpath":"(//td[@class=\'rec_value_1\'])[1]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"strip":"true","initial_date_format":"%d.%m.%Y","new_date_format":"%Y|%m|%d"}}}}},"settings":{"max_items":10},"task_uuid":"d6618412-3d16-4d41-be5c-5b8995320845"}'
2023-08-05 20:27:00.162 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-43' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=FileNotFoundError(2, 'No such file or directory')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.211f0b0f8dec458a8f4d544811d79...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2cb0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call(f"{sys.executable} -m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py -a task={new_task.model_dump_json()}", shell=False)
    │          └ <function call at 0x40027fb1c0>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': False}
         │      └ ('/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cr...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cro...
    │    └ <function Popen._execute_child at 0x4002814310>
    └ <Popen: returncode: 255 args: '/usr/src/spider_svc/.venv//bin/python -m scra...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1845, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
          │                    │          │        └ '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cro...
          │                    │          └ 'No such file or directory'
          │                    └ 2
          └ <class 'OSError'>

FileNotFoundError: [Errno 2] No such file or directory: '/usr/src/spider_svc/.venv//bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task={"cron":"* * * * *","resource":{"resource_name":"archi competition 2","resource_url":"https://archi.ru/contests","template":{"comp_card":{"lang":"ru","summary":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/div[@class=\\"text1\\"]/text()"},"constraints":{"required":"true"},"postprocessors":{"prefix":"","suffix":""}},"request":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/@href"},"constraints":{"required":"true"}},"title":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/text()"},"constraints":{"required":"true"}},"next_page":{"pagination_type":"","next_page_link":"","parameters":{"curr_page_number":""}},"block_type":"list"},"comp_item":{"meta":{"selectors":{"xpath":"(//td[@class=\'rec_value_2 border_no\'])[3]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"translate":"en","strip":"true"}},"register_date":{"selectors":{"xpath":"(//td[@class=\'rec_value_1\'])[1]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"strip":"true","initial_date_format":"%d.%m.%Y","new_date_format":"%Y|%m|%d"}}}}},"settings":{"max_items":10},"task_uuid":"d6618412-3d16-4d41-be5c-5b8995320845"}'
2023-08-05 20:27:13.710 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 20:27:20.048 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 20:28:00.121 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 20:28:00.140 ERROR    :: Exception in callback _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5750>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7250>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02cb0>
    └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ FileNotFoundError(2, 'No such file or directory')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call("""/usr/src/spider_svc/.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': False}
         │      └ ('/usr/src/spider_svc/.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py \n           ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ '/usr/src/spider_svc/.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py \n            ...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: 255 args: '/usr/src/spider_svc/.venv/bin/python -m scrap...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1845, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
          │                    │          │        └ '/usr/src/spider_svc/.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py \n            ...
          │                    │          └ 'No such file or directory'
          │                    └ 2
          └ <class 'OSError'>

FileNotFoundError: [Errno 2] No such file or directory: '/usr/src/spider_svc/.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py \n                        -a task="{"cron":"* * * * *","resource":{"resource_name":"archi competition 2","resource_url":"https://archi.ru/contests",\n                        "template":{"comp_card":{"lang":"ru","summary":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/div[@class=\\"text1\\"]/text()"},\n                        "constraints":{"required":"true"},"postprocessors":{"prefix":"","suffix":""}},"request":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/@href"},\n                        "constraints":{"required":"true"}},"title":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/text()"},"constraints":{"required":"true"}},\n                        "next_page":{"pagination_type":"","next_page_link":"","parameters":{"curr_page_number":""}},"block_type":"list"},\n                        "comp_item":{"meta":{"selectors":{"xpath":"(//td[@class=\\"rec_value_2 border_no\\"])[3]/text()"},"constraints":{"required":"true","type":"list"},\n                        "postprocessors":{"translate":"en","strip":"true"}},"register_date":{"selectors":{"xpath":"(//td[@class=\\"rec_value_1\\"])[1]/text()"},\n                        "constraints":{"required":"true","type":"list"},"postprocessors":{"strip":"true","initial_date_format":"%d.%m.%Y","new_date_format":"%Y|%m|%d"}}}}},\n                        "settings":{"max_items":10},"task_uuid":"d6618412-3d16-4d41-be5c-5b8995320845"}"'
2023-08-05 20:28:00.182 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-20' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=FileNotFoundError(2, 'No such file or directory')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.0d969d2ab5844aa0a60b916e584df...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144b80>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call("""/usr/src/spider_svc/.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': False}
         │      └ ('/usr/src/spider_svc/.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py \n           ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ '/usr/src/spider_svc/.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py \n            ...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: 255 args: '/usr/src/spider_svc/.venv/bin/python -m scrap...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1845, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
          │                    │          │        └ '/usr/src/spider_svc/.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py \n            ...
          │                    │          └ 'No such file or directory'
          │                    └ 2
          └ <class 'OSError'>

FileNotFoundError: [Errno 2] No such file or directory: '/usr/src/spider_svc/.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py \n                        -a task="{"cron":"* * * * *","resource":{"resource_name":"archi competition 2","resource_url":"https://archi.ru/contests",\n                        "template":{"comp_card":{"lang":"ru","summary":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/div[@class=\\"text1\\"]/text()"},\n                        "constraints":{"required":"true"},"postprocessors":{"prefix":"","suffix":""}},"request":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/@href"},\n                        "constraints":{"required":"true"}},"title":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/text()"},"constraints":{"required":"true"}},\n                        "next_page":{"pagination_type":"","next_page_link":"","parameters":{"curr_page_number":""}},"block_type":"list"},\n                        "comp_item":{"meta":{"selectors":{"xpath":"(//td[@class=\\"rec_value_2 border_no\\"])[3]/text()"},"constraints":{"required":"true","type":"list"},\n                        "postprocessors":{"translate":"en","strip":"true"}},"register_date":{"selectors":{"xpath":"(//td[@class=\\"rec_value_1\\"])[1]/text()"},\n                        "constraints":{"required":"true","type":"list"},"postprocessors":{"strip":"true","initial_date_format":"%d.%m.%Y","new_date_format":"%Y|%m|%d"}}}}},\n                        "settings":{"max_items":10},"task_uuid":"d6618412-3d16-4d41-be5c-5b8995320845"}"'
2023-08-05 20:29:00.096 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 20:29:00.112 ERROR    :: Exception in callback _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5750>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7250>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02cb0>
    └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ FileNotFoundError(2, 'No such file or directory')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call("""/usr/src/spider_svc/.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': False}
         │      └ ('/usr/src/spider_svc/.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py \n           ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ '/usr/src/spider_svc/.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py \n            ...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: 255 args: '/usr/src/spider_svc/.venv/bin/python -m scrap...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1845, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
          │                    │          │        └ '/usr/src/spider_svc/.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py \n            ...
          │                    │          └ 'No such file or directory'
          │                    └ 2
          └ <class 'OSError'>

FileNotFoundError: [Errno 2] No such file or directory: '/usr/src/spider_svc/.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py \n                        -a task="{"cron":"* * * * *","resource":{"resource_name":"archi competition 2","resource_url":"https://archi.ru/contests",\n                        "template":{"comp_card":{"lang":"ru","summary":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/div[@class=\\"text1\\"]/text()"},\n                        "constraints":{"required":"true"},"postprocessors":{"prefix":"","suffix":""}},"request":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/@href"},\n                        "constraints":{"required":"true"}},"title":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/text()"},"constraints":{"required":"true"}},\n                        "next_page":{"pagination_type":"","next_page_link":"","parameters":{"curr_page_number":""}},"block_type":"list"},\n                        "comp_item":{"meta":{"selectors":{"xpath":"(//td[@class=\\"rec_value_2 border_no\\"])[3]/text()"},"constraints":{"required":"true","type":"list"},\n                        "postprocessors":{"translate":"en","strip":"true"}},"register_date":{"selectors":{"xpath":"(//td[@class=\\"rec_value_1\\"])[1]/text()"},\n                        "constraints":{"required":"true","type":"list"},"postprocessors":{"strip":"true","initial_date_format":"%d.%m.%Y","new_date_format":"%Y|%m|%d"}}}}},\n                        "settings":{"max_items":10},"task_uuid":"d6618412-3d16-4d41-be5c-5b8995320845"}"'
2023-08-05 20:29:00.129 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-24' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=FileNotFoundError(2, 'No such file or directory')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.0d969d2ab5844aa0a60b916e584df...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144b80>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call("""/usr/src/spider_svc/.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': False}
         │      └ ('/usr/src/spider_svc/.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py \n           ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ '/usr/src/spider_svc/.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py \n            ...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: 255 args: '/usr/src/spider_svc/.venv/bin/python -m scrap...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1845, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
          │                    │          │        └ '/usr/src/spider_svc/.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py \n            ...
          │                    │          └ 'No such file or directory'
          │                    └ 2
          └ <class 'OSError'>

FileNotFoundError: [Errno 2] No such file or directory: '/usr/src/spider_svc/.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py \n                        -a task="{"cron":"* * * * *","resource":{"resource_name":"archi competition 2","resource_url":"https://archi.ru/contests",\n                        "template":{"comp_card":{"lang":"ru","summary":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/div[@class=\\"text1\\"]/text()"},\n                        "constraints":{"required":"true"},"postprocessors":{"prefix":"","suffix":""}},"request":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/@href"},\n                        "constraints":{"required":"true"}},"title":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/text()"},"constraints":{"required":"true"}},\n                        "next_page":{"pagination_type":"","next_page_link":"","parameters":{"curr_page_number":""}},"block_type":"list"},\n                        "comp_item":{"meta":{"selectors":{"xpath":"(//td[@class=\\"rec_value_2 border_no\\"])[3]/text()"},"constraints":{"required":"true","type":"list"},\n                        "postprocessors":{"translate":"en","strip":"true"}},"register_date":{"selectors":{"xpath":"(//td[@class=\\"rec_value_1\\"])[1]/text()"},\n                        "constraints":{"required":"true","type":"list"},"postprocessors":{"strip":"true","initial_date_format":"%d.%m.%Y","new_date_format":"%Y|%m|%d"}}}}},\n                        "settings":{"max_items":10},"task_uuid":"d6618412-3d16-4d41-be5c-5b8995320845"}"'
2023-08-05 20:29:13.599 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 20:29:20.114 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 20:30:00.110 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 20:30:00.128 ERROR    :: Exception in callback _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5750>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7250>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02cb0>
    └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ FileNotFoundError(2, 'No such file or directory')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call(""".venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task="{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}\"""", shell=False)
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': False}
         │      └ ('.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task="{"cron":"* * * * *","res...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task="{"cron":"* * * * *","reso...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: 255 args: '.venv/bin/python -m scrapy runspider /usr/src...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1845, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
          │                    │          │        └ '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task="{"cron":"* * * * *","reso...
          │                    │          └ 'No such file or directory'
          │                    └ 2
          └ <class 'OSError'>

FileNotFoundError: [Errno 2] No such file or directory: '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task="{"cron":"* * * * *","resource":{"resource_name":"archi competition 2","resource_url":"https://archi.ru/contests","template":{"comp_card":{"lang":"ru","summary":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/div[@class=\\"text1\\"]/text()"},"constraints":{"required":"true"},"postprocessors":{"prefix":"","suffix":""}},"request":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/@href"},"constraints":{"required":"true"}},"title":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/text()"},"constraints":{"required":"true"}},"next_page":{"pagination_type":"","next_page_link":"","parameters":{"curr_page_number":""}},"block_type":"list"},"comp_item":{"meta":{"selectors":{"xpath":"(//td[@class=\\"rec_value_2 border_no\\"])[3]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"translate":"en","strip":"true"}},"register_date":{"selectors":{"xpath":"(//td[@class=\\"rec_value_1\\"])[1]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"strip":"true","initial_date_format":"%d.%m.%Y","new_date_format":"%Y|%m|%d"}}}}},"settings":{"max_items":10},"task_uuid":"d6618412-3d16-4d41-be5c-5b8995320845"}"'
2023-08-05 20:30:00.169 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-20' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=FileNotFoundError(2, 'No such file or directory')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.710b77a5b2ef4febb9ea2895330dc...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144b80>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call(""".venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task="{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}\"""", shell=False)
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': False}
         │      └ ('.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task="{"cron":"* * * * *","res...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task="{"cron":"* * * * *","reso...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: 255 args: '.venv/bin/python -m scrapy runspider /usr/src...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1845, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
          │                    │          │        └ '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task="{"cron":"* * * * *","reso...
          │                    │          └ 'No such file or directory'
          │                    └ 2
          └ <class 'OSError'>

FileNotFoundError: [Errno 2] No such file or directory: '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task="{"cron":"* * * * *","resource":{"resource_name":"archi competition 2","resource_url":"https://archi.ru/contests","template":{"comp_card":{"lang":"ru","summary":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/div[@class=\\"text1\\"]/text()"},"constraints":{"required":"true"},"postprocessors":{"prefix":"","suffix":""}},"request":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/@href"},"constraints":{"required":"true"}},"title":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/text()"},"constraints":{"required":"true"}},"next_page":{"pagination_type":"","next_page_link":"","parameters":{"curr_page_number":""}},"block_type":"list"},"comp_item":{"meta":{"selectors":{"xpath":"(//td[@class=\\"rec_value_2 border_no\\"])[3]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"translate":"en","strip":"true"}},"register_date":{"selectors":{"xpath":"(//td[@class=\\"rec_value_1\\"])[1]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"strip":"true","initial_date_format":"%d.%m.%Y","new_date_format":"%Y|%m|%d"}}}}},"settings":{"max_items":10},"task_uuid":"d6618412-3d16-4d41-be5c-5b8995320845"}"'
2023-08-05 20:31:00.066 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 20:31:00.082 ERROR    :: Exception in callback _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5750>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7250>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02cb0>
    └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ FileNotFoundError(2, 'No such file or directory')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call(""".venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task="{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}\"""", shell=False)
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': False}
         │      └ ('.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task="{"cron":"* * * * *","res...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task="{"cron":"* * * * *","reso...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: 255 args: '.venv/bin/python -m scrapy runspider /usr/src...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1845, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
          │                    │          │        └ '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task="{"cron":"* * * * *","reso...
          │                    │          └ 'No such file or directory'
          │                    └ 2
          └ <class 'OSError'>

FileNotFoundError: [Errno 2] No such file or directory: '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task="{"cron":"* * * * *","resource":{"resource_name":"archi competition 2","resource_url":"https://archi.ru/contests","template":{"comp_card":{"lang":"ru","summary":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/div[@class=\\"text1\\"]/text()"},"constraints":{"required":"true"},"postprocessors":{"prefix":"","suffix":""}},"request":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/@href"},"constraints":{"required":"true"}},"title":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/text()"},"constraints":{"required":"true"}},"next_page":{"pagination_type":"","next_page_link":"","parameters":{"curr_page_number":""}},"block_type":"list"},"comp_item":{"meta":{"selectors":{"xpath":"(//td[@class=\\"rec_value_2 border_no\\"])[3]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"translate":"en","strip":"true"}},"register_date":{"selectors":{"xpath":"(//td[@class=\\"rec_value_1\\"])[1]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"strip":"true","initial_date_format":"%d.%m.%Y","new_date_format":"%Y|%m|%d"}}}}},"settings":{"max_items":10},"task_uuid":"d6618412-3d16-4d41-be5c-5b8995320845"}"'
2023-08-05 20:31:00.103 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-24' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=FileNotFoundError(2, 'No such file or directory')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.710b77a5b2ef4febb9ea2895330dc...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144b80>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call(""".venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task="{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}\"""", shell=False)
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': False}
         │      └ ('.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task="{"cron":"* * * * *","res...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task="{"cron":"* * * * *","reso...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: 255 args: '.venv/bin/python -m scrapy runspider /usr/src...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1845, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
          │                    │          │        └ '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task="{"cron":"* * * * *","reso...
          │                    │          └ 'No such file or directory'
          │                    └ 2
          └ <class 'OSError'>

FileNotFoundError: [Errno 2] No such file or directory: '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task="{"cron":"* * * * *","resource":{"resource_name":"archi competition 2","resource_url":"https://archi.ru/contests","template":{"comp_card":{"lang":"ru","summary":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/div[@class=\\"text1\\"]/text()"},"constraints":{"required":"true"},"postprocessors":{"prefix":"","suffix":""}},"request":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/@href"},"constraints":{"required":"true"}},"title":{"selectors":{"xpath":"//article[@class=\\"article1\\"]/header/a/text()"},"constraints":{"required":"true"}},"next_page":{"pagination_type":"","next_page_link":"","parameters":{"curr_page_number":""}},"block_type":"list"},"comp_item":{"meta":{"selectors":{"xpath":"(//td[@class=\\"rec_value_2 border_no\\"])[3]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"translate":"en","strip":"true"}},"register_date":{"selectors":{"xpath":"(//td[@class=\\"rec_value_1\\"])[1]/text()"},"constraints":{"required":"true","type":"list"},"postprocessors":{"strip":"true","initial_date_format":"%d.%m.%Y","new_date_format":"%Y|%m|%d"}}}}},"settings":{"max_items":10},"task_uuid":"d6618412-3d16-4d41-be5c-5b8995320845"}"'
2023-08-05 20:32:01.283 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 20:32:01.293 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 20:32:01.310 ERROR    :: Exception in callback _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5750>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7250>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02cb0>
    └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ FileNotFoundError(2, 'No such file or directory')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call(""".venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=\"\"""", shell=False)
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': False}
         │      └ ('.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""',)
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""'
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: 255 args: '.venv/bin/python -m scrapy runspider /usr/src...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1845, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
          │                    │          │        └ '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""'
          │                    │          └ 'No such file or directory'
          │                    └ 2
          └ <class 'OSError'>

FileNotFoundError: [Errno 2] No such file or directory: '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""'
2023-08-05 20:32:01.350 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-16' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=FileNotFoundError(2, 'No such file or directory')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.1efe240b29cd4f1098958f5618863...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144b80>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call(""".venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=\"\"""", shell=False)
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': False}
         │      └ ('.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""',)
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""'
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: 255 args: '.venv/bin/python -m scrapy runspider /usr/src...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1845, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
          │                    │          │        └ '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""'
          │                    │          └ 'No such file or directory'
          │                    └ 2
          └ <class 'OSError'>

FileNotFoundError: [Errno 2] No such file or directory: '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""'
2023-08-05 20:32:07.653 INFO     :: Связь с AMQP сервером установлена.
2023-08-05 20:33:00.085 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 20:33:00.106 ERROR    :: Exception in callback _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5750>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7250>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02cb0>
    └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ FileNotFoundError(2, 'No such file or directory')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call(""".venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=\"\"""", shell=False)
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': False}
         │      └ ('.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""',)
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""'
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: 255 args: '.venv/bin/python -m scrapy runspider /usr/src...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1845, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
          │                    │          │        └ '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""'
          │                    │          └ 'No such file or directory'
          │                    └ 2
          └ <class 'OSError'>

FileNotFoundError: [Errno 2] No such file or directory: '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""'
2023-08-05 20:33:00.147 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-20' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=FileNotFoundError(2, 'No such file or directory')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.2e5cfb4522a547ef84dae363796f0...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144b80>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call(""".venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=\"\"""", shell=False)
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': False}
         │      └ ('.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""',)
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""'
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: 255 args: '.venv/bin/python -m scrapy runspider /usr/src...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1845, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
          │                    │          │        └ '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""'
          │                    │          └ 'No such file or directory'
          │                    └ 2
          └ <class 'OSError'>

FileNotFoundError: [Errno 2] No such file or directory: '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""'
2023-08-05 20:34:00.080 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 20:34:00.093 ERROR    :: Exception in callback _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5750>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7250>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02cb0>
    └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ FileNotFoundError(2, 'No such file or directory')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call(""".venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=\"\"""", shell=False)
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': False}
         │      └ ('.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""',)
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""'
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: 255 args: '.venv/bin/python -m scrapy runspider /usr/src...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1845, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
          │                    │          │        └ '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""'
          │                    │          └ 'No such file or directory'
          │                    └ 2
          └ <class 'OSError'>

FileNotFoundError: [Errno 2] No such file or directory: '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""'
2023-08-05 20:34:00.112 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-24' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=FileNotFoundError(2, 'No such file or directory')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.2e5cfb4522a547ef84dae363796f0...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144b80>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call(""".venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=\"\"""", shell=False)
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': False}
         │      └ ('.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""',)
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""'
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: 255 args: '.venv/bin/python -m scrapy runspider /usr/src...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1845, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
          │                    │          │        └ '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""'
          │                    │          └ 'No such file or directory'
          │                    └ 2
          └ <class 'OSError'>

FileNotFoundError: [Errno 2] No such file or directory: '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""'
2023-08-05 20:35:00.090 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-05 20:35:00.108 ERROR    :: Exception in callback _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5750>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7250>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02cb0>
    └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...r directory')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ FileNotFoundError(2, 'No such file or directory')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call(""".venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=\"\"""", shell=False)
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': False}
         │      └ ('.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""',)
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""'
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: 255 args: '.venv/bin/python -m scrapy runspider /usr/src...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1845, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
          │                    │          │        └ '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""'
          │                    │          └ 'No such file or directory'
          │                    └ 2
          └ <class 'OSError'>

FileNotFoundError: [Errno 2] No such file or directory: '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""'
2023-08-05 20:35:00.128 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-28' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=FileNotFoundError(2, 'No such file or directory')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.2e5cfb4522a547ef84dae363796f0...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144b80>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call(""".venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=\"\"""", shell=False)
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': False}
         │      └ ('.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""',)
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""'
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: 255 args: '.venv/bin/python -m scrapy runspider /usr/src...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1845, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
          │                    │          │        └ '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""'
          │                    │          └ 'No such file or directory'
          │                    └ 2
          └ <class 'OSError'>

FileNotFoundError: [Errno 2] No such file or directory: '.venv/bin/python -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task=""'
2023-08-06 08:39:36.084 INFO     :: Связь с AMQP сервером установлена.
2023-08-06 08:39:43.138 INFO     :: Связь с AMQP сервером установлена.
2023-08-06 08:40:00.216 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-06 08:41:00.104 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-06 08:42:00.080 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-06 08:42:16.778 INFO     :: Связь с AMQP сервером установлена.
2023-08-06 08:42:22.979 INFO     :: Связь с AMQP сервером установлена.
2023-08-06 08:43:00.113 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-06 08:44:00.129 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-06 08:45:00.085 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-06 08:46:00.090 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-06 08:47:00.111 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-06 08:48:00.130 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-06 08:49:02.856 INFO     :: Связь с AMQP сервером установлена.
2023-08-06 08:49:02.867 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-06 08:49:09.194 INFO     :: Связь с AMQP сервером установлена.
2023-08-06 08:50:00.074 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-06 08:50:28.557 INFO     :: Связь с AMQP сервером установлена.
2023-08-06 08:50:34.860 INFO     :: Связь с AMQP сервером установлена.
2023-08-06 08:51:00.082 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-06 08:56:17.958 INFO     :: Связь с AMQP сервером установлена.
2023-08-06 08:56:24.631 INFO     :: Связь с AMQP сервером установлена.
2023-08-06 08:57:00.083 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-06 08:57:00.092 ERROR    :: Exception in callback _task_done(<Task finishe...ror('"cron"')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ror('"cron"')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5750>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7250>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02cb0>
    └ <Handle _task_done(<Task finishe...ror('"cron"')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ror('"cron"')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ror('"cron"')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ror('"cron"')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ KeyError('"cron"')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call("""{executable} -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'""".format(executable=sys.executable), shell=True)
    │          │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

KeyError: '"cron"'
2023-08-06 08:57:00.131 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-20' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=KeyError('"cron"')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.61cf71708bf74f949a45bbc535fef...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144b80>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call("""{executable} -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'""".format(executable=sys.executable), shell=True)
    │          │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

KeyError: '"cron"'
2023-08-06 08:58:00.075 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-06 08:58:00.082 ERROR    :: Exception in callback _task_done(<Task finishe...ror('"cron"')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ror('"cron"')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5750>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7250>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02cb0>
    └ <Handle _task_done(<Task finishe...ror('"cron"')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ror('"cron"')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ror('"cron"')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ror('"cron"')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ KeyError('"cron"')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call("""{executable} -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'""".format(executable=sys.executable), shell=True)
    │          │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

KeyError: '"cron"'
2023-08-06 08:58:00.100 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-24' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=KeyError('"cron"')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.61cf71708bf74f949a45bbc535fef...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144b80>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call("""{executable} -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'""".format(executable=sys.executable), shell=True)
    │          │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

KeyError: '"cron"'
2023-08-06 08:59:00.093 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-06 08:59:00.098 ERROR    :: Exception in callback _task_done(<Task finishe...ror('"cron"')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ror('"cron"')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5750>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7250>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02cb0>
    └ <Handle _task_done(<Task finishe...ror('"cron"')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ror('"cron"')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ror('"cron"')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ror('"cron"')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ KeyError('"cron"')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call("""{executable} -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'""".format(executable=sys.executable), shell=True)
    │          │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

KeyError: '"cron"'
2023-08-06 08:59:00.118 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-28' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=KeyError('"cron"')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.61cf71708bf74f949a45bbc535fef...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144b80>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call("""{executable} -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'""".format(executable=sys.executable), shell=True)
    │          │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

KeyError: '"cron"'
2023-08-06 09:00:00.108 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-06 09:00:00.116 ERROR    :: Exception in callback _task_done(<Task finishe...ror('"cron"')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ror('"cron"')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5750>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7250>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02cb0>
    └ <Handle _task_done(<Task finishe...ror('"cron"')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ror('"cron"')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ror('"cron"')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ror('"cron"')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ KeyError('"cron"')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call("""{executable} -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'""".format(executable=sys.executable), shell=True)
    │          │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

KeyError: '"cron"'
2023-08-06 09:00:00.131 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-32' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=KeyError('"cron"')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.61cf71708bf74f949a45bbc535fef...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144b80>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call("""{executable} -m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py -a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'""".format(executable=sys.executable), shell=True)
    │          │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

KeyError: '"cron"'
2023-08-06 09:00:21.328 INFO     :: Связь с AMQP сервером установлена.
2023-08-06 09:00:27.551 INFO     :: Связь с AMQP сервером установлена.
2023-08-06 09:01:00.088 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-06 09:01:11.337 ERROR    :: Unexpected connection close from remote "amqp://crwl:******@rabbitmq:5672/", Connection.Close(reply_code=320, reply_text="CONNECTION_FORCED - broker forced connection closure with reason 'shutdown'")
NoneType: None
2023-08-06 09:01:11.369 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-06 09:01:49.125 INFO     :: Связь с AMQP сервером установлена.
2023-08-06 09:02:00.092 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-06 09:02:22.117 ERROR    :: Unexpected connection close from remote "amqp://crwl:******@rabbitmq:5672/", Connection.Close(reply_code=320, reply_text="CONNECTION_FORCED - broker forced connection closure with reason 'shutdown'")
NoneType: None
2023-08-06 09:14:35.590 INFO     :: Связь с AMQP сервером установлена.
2023-08-06 09:14:42.096 INFO     :: Связь с AMQP сервером установлена.
2023-08-06 09:15:00.082 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-06 09:15:00.093 ERROR    :: Exception in callback _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5750>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7250>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02cb0>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError('expected str, bytes or os.PathLike object, not set')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call([{sys.executable}, " -m scrapy runspider ${SPIDER_SCRIPT_DIR}/spider.py -a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, ' -m scrapy runspider ${SPIDER_SCRIPT_DIR}/spider.py -a task=\'{"cron":"* * * * ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, ' -m scrapy runspider ${SPIDER_SCRIPT_DIR}/spider.py -a task=\'{"cron":"* * * * *...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-06 09:15:00.137 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-19' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError('expected str, bytes or os.PathLike object, not set')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.3c604db0716947388571f4223945b...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144b80>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call([{sys.executable}, " -m scrapy runspider ${SPIDER_SCRIPT_DIR}/spider.py -a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, ' -m scrapy runspider ${SPIDER_SCRIPT_DIR}/spider.py -a task=\'{"cron":"* * * * ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, ' -m scrapy runspider ${SPIDER_SCRIPT_DIR}/spider.py -a task=\'{"cron":"* * * * *...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-06 09:16:00.086 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-06 09:16:00.095 ERROR    :: Exception in callback _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5750>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7250>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02cb0>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError('expected str, bytes or os.PathLike object, not set')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call([{sys.executable}, " -m scrapy runspider ${SPIDER_SCRIPT_DIR}/spider.py -a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, ' -m scrapy runspider ${SPIDER_SCRIPT_DIR}/spider.py -a task=\'{"cron":"* * * * ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, ' -m scrapy runspider ${SPIDER_SCRIPT_DIR}/spider.py -a task=\'{"cron":"* * * * *...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-06 09:16:00.115 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-23' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError('expected str, bytes or os.PathLike object, not set')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.3c604db0716947388571f4223945b...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144b80>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call([{sys.executable}, " -m scrapy runspider ${SPIDER_SCRIPT_DIR}/spider.py -a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, ' -m scrapy runspider ${SPIDER_SCRIPT_DIR}/spider.py -a task=\'{"cron":"* * * * ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, ' -m scrapy runspider ${SPIDER_SCRIPT_DIR}/spider.py -a task=\'{"cron":"* * * * *...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-06 09:17:00.118 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-06 09:17:00.124 ERROR    :: Exception in callback _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5750>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7250>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02cb0>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError('expected str, bytes or os.PathLike object, not set')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call([{sys.executable}, " -m scrapy runspider ${SPIDER_SCRIPT_DIR}/spider.py -a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, ' -m scrapy runspider ${SPIDER_SCRIPT_DIR}/spider.py -a task=\'{"cron":"* * * * ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, ' -m scrapy runspider ${SPIDER_SCRIPT_DIR}/spider.py -a task=\'{"cron":"* * * * *...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-06 09:17:00.147 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-27' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError('expected str, bytes or os.PathLike object, not set')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.3c604db0716947388571f4223945b...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144b80>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call([{sys.executable}, " -m scrapy runspider ${SPIDER_SCRIPT_DIR}/spider.py -a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, ' -m scrapy runspider ${SPIDER_SCRIPT_DIR}/spider.py -a task=\'{"cron":"* * * * ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, ' -m scrapy runspider ${SPIDER_SCRIPT_DIR}/spider.py -a task=\'{"cron":"* * * * *...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-06 09:18:00.119 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-06 09:18:00.129 ERROR    :: Exception in callback _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5750>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7250>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02cb0>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError('expected str, bytes or os.PathLike object, not set')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call([{sys.executable}, " -m scrapy runspider ${SPIDER_SCRIPT_DIR}/spider.py -a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, ' -m scrapy runspider ${SPIDER_SCRIPT_DIR}/spider.py -a task=\'{"cron":"* * * * ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, ' -m scrapy runspider ${SPIDER_SCRIPT_DIR}/spider.py -a task=\'{"cron":"* * * * *...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-06 09:18:00.151 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-31' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError('expected str, bytes or os.PathLike object, not set')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.3c604db0716947388571f4223945b...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144b80>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call([{sys.executable}, " -m scrapy runspider ${SPIDER_SCRIPT_DIR}/spider.py -a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, ' -m scrapy runspider ${SPIDER_SCRIPT_DIR}/spider.py -a task=\'{"cron":"* * * * ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, ' -m scrapy runspider ${SPIDER_SCRIPT_DIR}/spider.py -a task=\'{"cron":"* * * * *...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-06 09:19:00.113 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-06 09:19:00.119 ERROR    :: Exception in callback _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5750>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7250>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02cb0>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError('expected str, bytes or os.PathLike object, not set')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call([{sys.executable}, " -m scrapy runspider ${SPIDER_SCRIPT_DIR}/spider.py -a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, ' -m scrapy runspider ${SPIDER_SCRIPT_DIR}/spider.py -a task=\'{"cron":"* * * * ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, ' -m scrapy runspider ${SPIDER_SCRIPT_DIR}/spider.py -a task=\'{"cron":"* * * * *...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-06 09:19:00.141 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-35' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError('expected str, bytes or os.PathLike object, not set')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.3c604db0716947388571f4223945b...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144b80>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call([{sys.executable}, " -m scrapy runspider ${SPIDER_SCRIPT_DIR}/spider.py -a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, ' -m scrapy runspider ${SPIDER_SCRIPT_DIR}/spider.py -a task=\'{"cron":"* * * * ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, ' -m scrapy runspider ${SPIDER_SCRIPT_DIR}/spider.py -a task=\'{"cron":"* * * * *...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-06 09:19:38.680 INFO     :: Связь с AMQP сервером установлена.
2023-08-06 09:19:45.106 INFO     :: Связь с AMQP сервером установлена.
2023-08-06 09:20:00.114 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-06 09:20:00.125 ERROR    :: Exception in callback _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5750>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7250>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02cb0>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError('expected str, bytes or os.PathLike object, not set')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005e4ec20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call([{sys.executable}, f"-m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py", "-a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a t...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-06 09:20:00.174 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-19' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError('expected str, bytes or os.PathLike object, not set')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.4e8329fe5b6645059a0e2e7d6ba7d...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144b80>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005e4ec20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call([{sys.executable}, f"-m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py", "-a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a t...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-06 09:20:30.250 ERROR    :: Unexpected connection close from remote "amqp://crwl:******@rabbitmq:5672/", Connection.Close(reply_code=320, reply_text="CONNECTION_FORCED - broker forced connection closure with reason 'shutdown'")
NoneType: None
2023-08-06 09:20:30.270 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-06 09:20:30.292 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-06 09:20:30.296 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno 111] Connect call failed ('172.22.0.3', 5672). Reconnecting after 5 seconds.
2023-08-06 09:20:35.330 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-06 09:20:35.333 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno 111] Connect call failed ('172.22.0.3', 5672). Reconnecting after 5 seconds.
2023-08-06 09:20:40.363 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-06 09:20:40.368 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-06 09:20:45.402 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-06 09:20:45.408 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-06 09:20:50.435 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-06 09:20:50.440 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-06 09:20:55.470 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-06 09:20:55.475 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-06 09:21:00.512 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-06 09:21:00.520 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-06 09:21:05.560 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-06 09:21:05.565 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-06 09:21:10.599 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-06 09:21:10.604 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-06 09:21:15.642 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-06 09:21:15.648 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-06 09:21:20.689 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-06 09:21:20.695 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-06 09:21:25.723 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-06 09:21:25.728 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-06 09:21:30.757 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-06 09:21:30.763 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno -2] Name or service not known. Reconnecting after 5 seconds.
2023-08-08 15:59:26.568 INFO     :: Связь с AMQP сервером установлена.
2023-08-08 15:59:34.016 INFO     :: Связь с AMQP сервером установлена.
2023-08-08 16:00:00.664 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-08 16:00:00.675 ERROR    :: Exception in callback _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError('expected str, bytes or os.PathLike object, not set')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2cb0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call([{sys.executable}, f"-m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py", f"-a task={new_task.model_dump_json}"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb1c0>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a t...
    │    └ <function Popen._execute_child at 0x4002814310>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-08 16:00:00.714 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-19' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError('expected str, bytes or os.PathLike object, not set')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.52965cbf8bc24062b43455d55700a...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2cb0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call([{sys.executable}, f"-m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py", f"-a task={new_task.model_dump_json}"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb1c0>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a t...
    │    └ <function Popen._execute_child at 0x4002814310>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-08 16:01:00.100 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-08 16:01:00.108 ERROR    :: Exception in callback _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError('expected str, bytes or os.PathLike object, not set')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2cb0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call([{sys.executable}, f"-m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py", f"-a task={new_task.model_dump_json}"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb1c0>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a t...
    │    └ <function Popen._execute_child at 0x4002814310>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-08 16:01:00.131 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-23' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError('expected str, bytes or os.PathLike object, not set')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.52965cbf8bc24062b43455d55700a...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2cb0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call([{sys.executable}, f"-m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py", f"-a task={new_task.model_dump_json}"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb1c0>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a t...
    │    └ <function Popen._execute_child at 0x4002814310>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-08 16:02:00.110 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-08 16:02:00.119 ERROR    :: Exception in callback _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError('expected str, bytes or os.PathLike object, not set')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2cb0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call([{sys.executable}, f"-m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py", f"-a task={new_task.model_dump_json}"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb1c0>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a t...
    │    └ <function Popen._execute_child at 0x4002814310>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-08 16:02:00.149 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-27' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError('expected str, bytes or os.PathLike object, not set')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.52965cbf8bc24062b43455d55700a...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2cb0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call([{sys.executable}, f"-m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py", f"-a task={new_task.model_dump_json}"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb1c0>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a t...
    │    └ <function Popen._execute_child at 0x4002814310>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-08 16:03:00.129 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='d6618412-3d16-4d41-be5c-5b8995320845'
2023-08-08 16:03:00.143 ERROR    :: Exception in callback _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa72e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02d40>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError('expected str, bytes or os.PathLike object, not set')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2cb0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call([{sys.executable}, f"-m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py", f"-a task={new_task.model_dump_json}"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb1c0>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a t...
    │    └ <function Popen._execute_child at 0x4002814310>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-08 16:03:00.175 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-31' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError('expected str, bytes or os.PathLike object, not set')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.52965cbf8bc24062b43455d55700a...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144c10>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2cb0>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call([{sys.executable}, f"-m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py", f"-a task={new_task.model_dump_json}"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb1c0>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a t...
    │    └ <function Popen._execute_child at 0x4002814310>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-08 16:03:09.168 ERROR    :: Unexpected connection close from remote "amqp://crwl:******@rabbitmq:5672/", Connection.Close(reply_code=320, reply_text="CONNECTION_FORCED - broker forced connection closure with reason 'shutdown'")
NoneType: None
2023-08-08 16:03:09.312 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-08 16:03:30.799 INFO     :: Связь с AMQP сервером установлена.
2023-08-08 16:03:37.737 INFO     :: Связь с AMQP сервером установлена.
2023-08-08 16:05:00.123 INFO     :: cron='* * * * *' resource=ResourceCreate(resource_name='archi competition 2', resource_url='https://archi.ru/contests', template={'comp_card': {'lang': 'ru', 'summary': {'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'constraints': {'required': 'true'}, 'postprocessors': {'prefix': '', 'suffix': ''}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'constraints': {'required': 'true'}}, 'title': {'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'constraints': {'required': 'true'}}, 'next_page': {'pagination_type': '', 'next_page_link': '', 'parameters': {'curr_page_number': ''}}, 'block_type': 'list'}, 'comp_item': {'meta': {'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'translate': 'en', 'strip': 'true'}}, 'register_date': {'selectors': {'xpath': "(//td[@class='rec_value_1'])[1]/text()"}, 'constraints': {'required': 'true', 'type': 'list'}, 'postprocessors': {'strip': 'true', 'initial_date_format': '%d.%m.%Y', 'new_date_format': '%Y|%m|%d'}}}}) settings=SpiderSettings(max_items=10) task_uuid='150a0433-5fd1-49a1-96bd-949bda022de4'
2023-08-08 16:05:00.152 ERROR    :: Exception in callback _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5750>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7250>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02cb0>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError('expected str, bytes or os.PathLike object, not set')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005e4ec20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call([{sys.executable}, f"-m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py", "-a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a t...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-08 16:05:00.209 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-21' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError('expected str, bytes or os.PathLike object, not set')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.263fbb4635c948f99ba9bc584a282...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144b80>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005e4ec20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call([{sys.executable}, f"-m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py", "-a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a t...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-08 16:05:58.507 INFO     :: Связь с AMQP сервером установлена.
2023-08-08 16:06:06.990 INFO     :: Связь с AMQP сервером установлена.
2023-08-08 16:06:07.002 INFO     :: /usr/src/spider_svc/src/spider/app/spiders
2023-08-08 16:06:07.013 ERROR    :: Exception in callback _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5750>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7250>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02cb0>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError('expected str, bytes or os.PathLike object, not set')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call([{sys.executable}, f"-m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py", "-a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a t...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-08 16:06:07.054 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-16' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError('expected str, bytes or os.PathLike object, not set')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.6c8994de008f4b61b8f0b4161f080...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144b80>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call([{sys.executable}, f"-m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py", "-a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a t...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-08 16:07:00.130 INFO     :: /usr/src/spider_svc/src/spider/app/spiders
2023-08-08 16:07:00.136 ERROR    :: Exception in callback _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5750>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7250>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02cb0>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError('expected str, bytes or os.PathLike object, not set')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call([{sys.executable}, f"-m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py", "-a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a t...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-08 16:07:00.154 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-22' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError('expected str, bytes or os.PathLike object, not set')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.6c8994de008f4b61b8f0b4161f080...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144b80>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call([{sys.executable}, f"-m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py", "-a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a t...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-08 16:08:00.183 INFO     :: /usr/src/spider_svc/src/spider/app/spiders
2023-08-08 16:08:00.190 ERROR    :: Exception in callback _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5750>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7250>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02cb0>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError('expected str, bytes or os.PathLike object, not set')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call([{sys.executable}, f"-m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py", "-a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a t...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-08 16:08:00.208 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-26' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError('expected str, bytes or os.PathLike object, not set')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.6c8994de008f4b61b8f0b4161f080...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144b80>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call([{sys.executable}, f"-m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py", "-a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a t...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-08 16:09:00.123 INFO     :: /usr/src/spider_svc/src/spider/app/spiders
2023-08-08 16:09:00.130 ERROR    :: Exception in callback _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5750>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7250>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02cb0>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError('expected str, bytes or os.PathLike object, not set')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call([{sys.executable}, f"-m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py", "-a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a t...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-08 16:09:00.151 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-30' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError('expected str, bytes or os.PathLike object, not set')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.6c8994de008f4b61b8f0b4161f080...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144b80>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005d62c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 89, in _start
    subprocess.call([{sys.executable}, f"-m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py", "-a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a t...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-08 16:09:31.694 INFO     :: Связь с AMQP сервером установлена.
2023-08-08 16:09:37.977 INFO     :: Связь с AMQP сервером установлена.
2023-08-08 16:10:00.081 INFO     :: /usr/src/spider_svc/src/spider/app/spiders
2023-08-08 16:10:00.083 INFO     :: /usr/src/spider_svc/.venv//bin/python
2023-08-08 16:11:00.077 INFO     :: /usr/src/spider_svc/src/spider/app/spiders
2023-08-08 16:11:00.080 INFO     :: /usr/src/spider_svc/.venv//bin/python
2023-08-08 16:11:40.420 INFO     :: Связь с AMQP сервером установлена.
2023-08-08 16:11:46.749 INFO     :: Связь с AMQP сервером установлена.
2023-08-08 16:12:00.078 INFO     :: /usr/src/spider_svc/src/spider/app/spiders
2023-08-08 16:12:00.081 INFO     :: /usr/src/spider_svc/.venv//bin/python
2023-08-08 16:12:00.087 ERROR    :: Exception in callback _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5750>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7250>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02cb0>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError('expected str, bytes or os.PathLike object, not set')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 90, in _start
    subprocess.call([{sys.executable}, f"-m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py", "-a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a t...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-08 16:12:00.136 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-19' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError('expected str, bytes or os.PathLike object, not set')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.8f79af89bd5d4c868a4e0c6f36cf4...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144b80>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 90, in _start
    subprocess.call([{sys.executable}, f"-m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py", "-a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a t...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-08 16:13:00.076 INFO     :: /usr/src/spider_svc/src/spider/app/spiders
2023-08-08 16:13:00.079 INFO     :: /usr/src/spider_svc/.venv//bin/python
2023-08-08 16:13:00.088 ERROR    :: Exception in callback _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43
handle: <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py:43>
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x4002aa5750>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x4002aa7250>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x4002a02cb0>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
> File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle _task_done(<Task finishe...ct, not set')>) at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.p...
  File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/tools.py", line 47, in _task_done
    raise exc
          └ TypeError('expected str, bytes or os.PathLike object, not set')

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 90, in _start
    subprocess.call([{sys.executable}, f"-m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py", "-a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a t...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-08 16:13:00.109 ERROR    :: Task exception was never retrieved
future: <Task finished name='Task-23' coro=<consumer() done, defined at /usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py:31> exception=TypeError('expected str, bytes or os.PathLike object, not set')>
Traceback (most recent call last):

> File "/usr/src/spider_svc/.venv/lib/python3.10/site-packages/aio_pika/queue.py", line 37, in consumer
    return await create_task(callback, message)
                 │           │         └ IncomingMessage:{'app_id': None,
                 │           │            'body_size': 1250,
                 │           │            'cluster_id': '',
                 │           │            'consumer_tag': 'ctag1.8f79af89bd5d4c868a4e0c6f36cf4...
                 │           └ <bound method SpiderAPI._process_message of <spider_api_svc.SpiderAPI object at 0x40026d0040>>
                 └ <function create_task at 0x4003144b80>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 68, in _process_message
    res = await self._start(mes)
                │    │      └ {'cron': '* * * * *', 'resource': {'resource_name': 'archi competition 2', 'resource_url': 'https://archi.ru/contests', 'temp...
                │    └ <function SpiderAPI._start at 0x4005ea2c20>
                └ <spider_api_svc.SpiderAPI object at 0x40026d0040>

  File "/usr/src/spider_svc/src/spider/api/spider_api_svc.py", line 90, in _start
    subprocess.call([{sys.executable}, f"-m scrapy runspider {os.environ.get('SPIDER_SCRIPT_DIR')}/spider.py", "-a task='{\"cron\":\"* * * * *\",\"resource\":{\"resource_name\":\"archi competition 2\",\"resource_url\":\"https://archi.ru/contests\",\"template\":{\"comp_card\":{\"lang\":\"ru\",\"summary\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/div[@class=\\\"text1\\\"]/text()\"},\"constraints\":{\"required\":\"true\"},\"postprocessors\":{\"prefix\":\"\",\"suffix\":\"\"}},\"request\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/@href\"},\"constraints\":{\"required\":\"true\"}},\"title\":{\"selectors\":{\"xpath\":\"//article[@class=\\\"article1\\\"]/header/a/text()\"},\"constraints\":{\"required\":\"true\"}},\"next_page\":{\"pagination_type\":\"\",\"next_page_link\":\"\",\"parameters\":{\"curr_page_number\":\"\"}},\"block_type\":\"list\"},\"comp_item\":{\"meta\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_2 border_no\\\"])[3]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"translate\":\"en\",\"strip\":\"true\"}},\"register_date\":{\"selectors\":{\"xpath\":\"(//td[@class=\\\"rec_value_1\\\"])[1]/text()\"},\"constraints\":{\"required\":\"true\",\"type\":\"list\"},\"postprocessors\":{\"strip\":\"true\",\"initial_date_format\":\"%d.%m.%Y\",\"new_date_format\":\"%Y|%m|%d\"}}}}},\"settings\":{\"max_items\":10},\"task_uuid\":\"d6618412-3d16-4d41-be5c-5b8995320845\"}'"], shell=True)
    │          │      │   └ '/usr/src/spider_svc/.venv//bin/python'
    │          │      └ <module 'sys' (built-in)>
    │          └ <function call at 0x40027fb130>
    └ <module 'subprocess' from '/usr/local/lib/python3.10/subprocess.py'>

  File "/usr/local/lib/python3.10/subprocess.py", line 345, in call
    with Popen(*popenargs, **kwargs) as p:
         │      │            └ {'shell': True}
         │      └ ([{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a ...
         └ <class 'subprocess.Popen'>
  File "/usr/local/lib/python3.10/subprocess.py", line 969, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    │    │              │     │           │           └ True
    │    │              │     │           └ None
    │    │              │     └ None
    │    │              └ [{'/usr/src/spider_svc/.venv//bin/python'}, '-m scrapy runspider /usr/src/spider_svc/src/spider/app/spiders/spider.py', '-a t...
    │    └ <function Popen._execute_child at 0x4002814280>
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>
  File "/usr/local/lib/python3.10/subprocess.py", line 1778, in _execute_child
    self.pid = _posixsubprocess.fork_exec(
    │    │     │                └ <built-in function fork_exec>
    │    │     └ <module '_posixsubprocess' from '/usr/local/lib/python3.10/lib-dynload/_posixsubprocess.cpython-310-x86_64-linux-gnu.so'>
    │    └ None
    └ <Popen: returncode: None args: [{'/usr/src/spider_svc/.venv//bin/python'}, '...>

TypeError: expected str, bytes or os.PathLike object, not set
2023-08-08 16:13:48.938 INFO     :: Связь с AMQP сервером установлена.
2023-08-08 16:13:55.285 INFO     :: Связь с AMQP сервером установлена.
2023-08-08 16:14:00.079 INFO     :: /usr/src/spider_svc/src/spider/app/spiders
2023-08-08 16:14:00.081 INFO     :: /usr/src/spider_svc/.venv//bin/python
2023-08-08 16:15:00.080 INFO     :: /usr/src/spider_svc/src/spider/app/spiders
2023-08-08 16:15:00.083 INFO     :: /usr/src/spider_svc/.venv//bin/python
2023-08-08 16:22:36.832 INFO     :: Связь с AMQP сервером установлена.
2023-08-08 16:22:43.429 INFO     :: Связь с AMQP сервером установлена.
2023-08-08 16:23:00.079 INFO     :: /usr/src/spider_svc/src/spider/app/spiders
2023-08-08 16:23:00.081 INFO     :: /usr/src/spider_svc/.venv//bin/python
2023-08-08 16:24:00.108 INFO     :: /usr/src/spider_svc/src/spider/app/spiders
2023-08-08 16:24:00.111 INFO     :: /usr/src/spider_svc/.venv//bin/python
2023-08-08 16:25:00.128 INFO     :: /usr/src/spider_svc/src/spider/app/spiders
2023-08-08 16:25:00.132 INFO     :: /usr/src/spider_svc/.venv//bin/python
2023-08-08 16:26:00.142 INFO     :: /usr/src/spider_svc/src/spider/app/spiders
2023-08-08 16:26:00.145 INFO     :: /usr/src/spider_svc/.venv//bin/python
2023-08-08 16:27:00.120 INFO     :: /usr/src/spider_svc/src/spider/app/spiders
2023-08-08 16:27:00.123 INFO     :: /usr/src/spider_svc/.venv//bin/python
2023-08-08 16:27:15.563 INFO     :: Связь с AMQP сервером установлена.
2023-08-08 16:27:21.749 INFO     :: Связь с AMQP сервером установлена.
2023-08-08 16:28:00.118 INFO     :: /usr/src/spider_svc/src/spider/app/spiders
2023-08-08 16:28:00.121 INFO     :: /usr/src/spider_svc/.venv//bin/python
2023-08-08 16:29:00.092 INFO     :: /usr/src/spider_svc/src/spider/app/spiders
2023-08-08 16:29:00.094 INFO     :: /usr/src/spider_svc/.venv//bin/python
2023-08-08 16:29:18.391 INFO     :: Связь с AMQP сервером установлена.
2023-08-08 16:29:24.626 INFO     :: Связь с AMQP сервером установлена.
2023-08-08 16:30:00.102 INFO     :: /usr/src/spider_svc/src/spider/app/spiders
2023-08-08 16:30:00.106 INFO     :: /usr/src/spider_svc/.venv//bin/python
2023-08-08 16:30:44.265 INFO     :: Связь с AMQP сервером установлена.
2023-08-08 16:30:50.547 INFO     :: Связь с AMQP сервером установлена.
2023-08-08 16:31:00.099 INFO     :: /usr/src/spider_svc/src/spider/app/spiders
2023-08-08 16:31:00.102 INFO     :: /usr/src/spider_svc/.venv//bin/python
2023-08-08 16:31:22.453 INFO     :: Связь с AMQP сервером установлена.
2023-08-08 16:31:28.793 INFO     :: Связь с AMQP сервером установлена.
2023-08-08 16:32:00.094 INFO     :: /usr/src/spider_svc/src/spider/app/spiders
2023-08-08 16:32:00.097 INFO     :: /usr/src/spider_svc/.venv//bin/python
2023-08-24 15:53:10.886 INFO     :: Связь с AMQP сервером установлена.
2023-08-24 15:53:14.709 INFO     :: Связь с AMQP сервером установлена.
2023-08-24 21:24:37.607 INFO     :: Связь с AMQP сервером установлена.
2023-08-24 21:24:41.804 INFO     :: Связь с AMQP сервером установлена.
2023-08-24 21:37:40.614 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-24 21:37:40.631 ERROR    :: Ошибка связи с брокером: [Errno 111] Connection refused
2023-08-24 21:37:45.693 INFO     :: Связь с AMQP сервером установлена.
2023-08-24 21:37:50.750 INFO     :: Связь с AMQP сервером установлена.
2023-08-24 21:47:06.215 ERROR    :: Unexpected connection close from remote "amqp://crwl:******@rabbitmq:5672/", Connection.Close(reply_code=320, reply_text="CONNECTION_FORCED - broker forced connection closure with reason 'shutdown'")
NoneType: None
2023-08-24 21:47:06.268 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-24 21:47:06.291 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-24 21:47:06.298 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno 111] Connection refused. Reconnecting after 5 seconds.
2023-08-24 21:47:11.315 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-24 21:47:11.318 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno 111] Connection refused. Reconnecting after 5 seconds.
2023-08-24 21:47:16.338 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-24 21:47:16.342 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno 111] Connection refused. Reconnecting after 5 seconds.
2023-08-24 22:03:44.331 ERROR    :: Unexpected connection close from remote "amqp://crwl:******@rabbitmq:5672/", Connection.Close(reply_code=320, reply_text="CONNECTION_FORCED - broker forced connection closure with reason 'shutdown'")
NoneType: None
2023-08-24 22:03:44.420 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-24 22:03:44.495 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-24 22:03:44.513 WARNING  :: Connection attempt to "amqp://crwl:******@rabbitmq/" failed: [Errno 111] Connection refused. Reconnecting after 5 seconds.
2023-08-24 22:20:32.582 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-08-24 22:20:32.624 ERROR    :: Ошибка связи с брокером: [Errno 111] Connection refused
2023-08-24 22:20:37.729 INFO     :: Связь с AMQP сервером установлена.
2023-08-24 22:20:42.886 INFO     :: Связь с AMQP сервером установлена.
2023-08-24 22:26:51.782 ERROR    :: В сообщении {'test': 'test'} не указано действие.
2023-08-24 22:32:03.541 INFO     :: Связь с AMQP сервером установлена.
2023-08-24 22:32:58.608 INFO     :: Связь с AMQP сервером установлена.
2023-08-24 22:33:02.302 INFO     :: {'action': 'spider.start', 'data': {'cron': '* * * * *', 'resource_url': 'https://archi.ru/contests', 'language': 'ru', 'schema_uuid': '6d3754bf-378b-48b8-9ca5-25a5ee08b396', 'settings': {'max_items': 10}, 'item_collection_uuid': '6d3754bf-378b-48b8-9ca5-25a5ee08b396', 'schema': {'schema': {'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'translate': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'translate': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'block_type': 'list', 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': None}, 'pagination': {'pagination_type': None, 'pagination_link': None}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'translate': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}}, 'task_uuid': '38b59df0-c4cb-4071-903e-35e401d6e4a0'}}
2023-08-24 22:36:53.868 INFO     :: {'action': 'spider.start', 'data': {'cron': '* * * * *', 'resource_url': 'https://archi.ru/contests', 'language': 'ru', 'schema_uuid': '6d3754bf-378b-48b8-9ca5-25a5ee08b396', 'settings': {'max_items': 10}, 'item_collection_uuid': '6d3754bf-378b-48b8-9ca5-25a5ee08b396', 'schema': {'schema': {'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'translate': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'translate': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'block_type': 'list', 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': None}, 'pagination': {'pagination_type': None, 'pagination_link': None}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'translate': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}}, 'task_uuid': '38b59df0-c4cb-4071-903e-35e401d6e4a0'}}
2023-08-24 22:36:53.889 INFO     :: {'action': 'spider.start', 'data': {'cron': '* * * * *', 'resource_url': 'https://archi.ru/contests', 'language': 'ru', 'schema_uuid': '6d3754bf-378b-48b8-9ca5-25a5ee08b396', 'settings': {'max_items': 10}, 'item_collection_uuid': '6d3754bf-378b-48b8-9ca5-25a5ee08b396', 'schema': {'schema': {'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'translate': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'translate': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'block_type': 'list', 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': None}, 'pagination': {'pagination_type': None, 'pagination_link': None}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'translate': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}}, 'task_uuid': '38b59df0-c4cb-4071-903e-35e401d6e4a0'}}
2023-08-24 22:36:53.898 INFO     :: {'action': 'spider.start', 'data': {'cron': '* * * * *', 'resource_url': 'https://archi.ru/contests', 'language': 'ru', 'schema_uuid': '6d3754bf-378b-48b8-9ca5-25a5ee08b396', 'settings': {'max_items': 10}, 'item_collection_uuid': '6d3754bf-378b-48b8-9ca5-25a5ee08b396', 'schema': {'schema': {'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'translate': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'translate': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'block_type': 'list', 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': None}, 'pagination': {'pagination_type': None, 'pagination_link': None}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'translate': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}}, 'task_uuid': '38b59df0-c4cb-4071-903e-35e401d6e4a0'}}
2023-08-24 22:36:53.904 INFO     :: Связь с AMQP сервером установлена.
2023-08-24 22:36:57.647 INFO     :: Связь с AMQP сервером установлена.
2023-08-24 22:37:00.082 INFO     :: {'action': 'spider.start', 'data': {'cron': '* * * * *', 'resource_url': 'https://archi.ru/contests', 'language': 'ru', 'schema_uuid': '6d3754bf-378b-48b8-9ca5-25a5ee08b396', 'settings': {'max_items': 10}, 'item_collection_uuid': '6d3754bf-378b-48b8-9ca5-25a5ee08b396', 'schema': {'schema': {'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'translate': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'translate': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'block_type': 'list', 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': None}, 'pagination': {'pagination_type': None, 'pagination_link': None}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'translate': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}}, 'task_uuid': '38b59df0-c4cb-4071-903e-35e401d6e4a0'}}
2023-09-01 14:35:34.253 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-09-01 14:35:34.273 ERROR    :: Ошибка связи с брокером: [Errno 111] Connection refused
2023-09-01 14:35:39.338 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 14:35:45.105 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 14:46:36.676 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-09-01 14:46:36.688 ERROR    :: Ошибка связи с брокером: [Errno 111] Connection refused
2023-09-01 14:46:41.753 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 14:46:47.154 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 14:59:13.538 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 14:59:19.622 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 15:07:41.160 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 15:07:45.044 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 15:10:45.901 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 15:10:49.757 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 15:16:45.027 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 15:16:49.042 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 15:17:32.472 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 15:17:36.590 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 15:18:45.489 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 15:18:49.448 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 15:19:00.079 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='78897c66-d6a6-4c39-9623-060b3ed66ac0' settings=SpiderSettings(max_items=10) task_uuid='05b159db-e94b-4a30-bc46-150eda545581' schema_for_spider={'schema': {'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': ''}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}}
2023-09-01 15:20:00.080 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='78897c66-d6a6-4c39-9623-060b3ed66ac0' settings=SpiderSettings(max_items=10) task_uuid='05b159db-e94b-4a30-bc46-150eda545581' schema_for_spider={'schema': {'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': ''}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}}
2023-09-01 15:21:00.077 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='78897c66-d6a6-4c39-9623-060b3ed66ac0' settings=SpiderSettings(max_items=10) task_uuid='05b159db-e94b-4a30-bc46-150eda545581' schema_for_spider={'schema': {'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': ''}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}}
2023-09-01 15:22:00.072 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='78897c66-d6a6-4c39-9623-060b3ed66ac0' settings=SpiderSettings(max_items=10) task_uuid='05b159db-e94b-4a30-bc46-150eda545581' schema_for_spider={'schema': {'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': ''}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}}
2023-09-01 15:23:00.103 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='78897c66-d6a6-4c39-9623-060b3ed66ac0' settings=SpiderSettings(max_items=10) task_uuid='05b159db-e94b-4a30-bc46-150eda545581' schema_for_spider={'schema': {'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': ''}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}}
2023-09-01 15:25:00.092 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='78897c66-d6a6-4c39-9623-060b3ed66ac0' settings=SpiderSettings(max_items=10) task_uuid='ae8617d0-d9ed-4a37-bf71-f5c75ef4aea7' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': ''}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-01 15:25:56.033 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 15:25:59.914 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 15:26:00.062 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='78897c66-d6a6-4c39-9623-060b3ed66ac0' settings=SpiderSettings(max_items=10) task_uuid='ae8617d0-d9ed-4a37-bf71-f5c75ef4aea7' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': ''}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-01 15:27:00.095 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='78897c66-d6a6-4c39-9623-060b3ed66ac0' settings=SpiderSettings(max_items=10) task_uuid='ae8617d0-d9ed-4a37-bf71-f5c75ef4aea7' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': ''}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-01 15:28:00.083 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='78897c66-d6a6-4c39-9623-060b3ed66ac0' settings=SpiderSettings(max_items=10) task_uuid='ae8617d0-d9ed-4a37-bf71-f5c75ef4aea7' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': ''}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-01 15:29:00.085 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='78897c66-d6a6-4c39-9623-060b3ed66ac0' settings=SpiderSettings(max_items=10) task_uuid='ae8617d0-d9ed-4a37-bf71-f5c75ef4aea7' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': ''}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-01 15:29:57.059 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 15:30:01.197 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='78897c66-d6a6-4c39-9623-060b3ed66ac0' settings=SpiderSettings(max_items=10) task_uuid='ae8617d0-d9ed-4a37-bf71-f5c75ef4aea7' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': ''}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-01 15:30:05.726 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 15:31:00.140 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='78897c66-d6a6-4c39-9623-060b3ed66ac0' settings=SpiderSettings(max_items=10) task_uuid='ae8617d0-d9ed-4a37-bf71-f5c75ef4aea7' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': ''}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-01 15:31:44.464 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 15:31:48.405 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 15:32:00.071 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='78897c66-d6a6-4c39-9623-060b3ed66ac0' settings=SpiderSettings(max_items=10) task_uuid='ae8617d0-d9ed-4a37-bf71-f5c75ef4aea7' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': ''}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-01 15:33:00.094 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='78897c66-d6a6-4c39-9623-060b3ed66ac0' settings=SpiderSettings(max_items=10) task_uuid='ae8617d0-d9ed-4a37-bf71-f5c75ef4aea7' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': ''}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-01 15:34:00.106 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='78897c66-d6a6-4c39-9623-060b3ed66ac0' settings=SpiderSettings(max_items=10) task_uuid='ae8617d0-d9ed-4a37-bf71-f5c75ef4aea7' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': ''}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-01 15:34:13.871 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 15:34:17.798 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 15:35:00.081 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='78897c66-d6a6-4c39-9623-060b3ed66ac0' settings=SpiderSettings(max_items=10) task_uuid='ae8617d0-d9ed-4a37-bf71-f5c75ef4aea7' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': ''}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-01 15:36:00.082 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='78897c66-d6a6-4c39-9623-060b3ed66ac0' settings=SpiderSettings(max_items=10) task_uuid='ae8617d0-d9ed-4a37-bf71-f5c75ef4aea7' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': ''}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-01 15:37:00.087 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='78897c66-d6a6-4c39-9623-060b3ed66ac0' settings=SpiderSettings(max_items=10) task_uuid='ae8617d0-d9ed-4a37-bf71-f5c75ef4aea7' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': ''}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-01 15:37:32.791 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 15:37:36.846 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 15:38:00.082 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='78897c66-d6a6-4c39-9623-060b3ed66ac0' settings=SpiderSettings(max_items=10) task_uuid='ae8617d0-d9ed-4a37-bf71-f5c75ef4aea7' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': ''}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-01 15:39:00.096 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='78897c66-d6a6-4c39-9623-060b3ed66ac0' settings=SpiderSettings(max_items=10) task_uuid='ae8617d0-d9ed-4a37-bf71-f5c75ef4aea7' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': ''}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-01 15:40:00.097 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='78897c66-d6a6-4c39-9623-060b3ed66ac0' settings=SpiderSettings(max_items=10) task_uuid='ae8617d0-d9ed-4a37-bf71-f5c75ef4aea7' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': ''}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-01 15:41:00.072 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='78897c66-d6a6-4c39-9623-060b3ed66ac0' settings=SpiderSettings(max_items=10) task_uuid='ae8617d0-d9ed-4a37-bf71-f5c75ef4aea7' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': ''}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-01 15:42:00.121 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='78897c66-d6a6-4c39-9623-060b3ed66ac0' settings=SpiderSettings(max_items=10) task_uuid='ae8617d0-d9ed-4a37-bf71-f5c75ef4aea7' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': ''}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-01 15:43:00.065 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='78897c66-d6a6-4c39-9623-060b3ed66ac0' settings=SpiderSettings(max_items=10) task_uuid='ae8617d0-d9ed-4a37-bf71-f5c75ef4aea7' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': ''}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-01 15:44:00.077 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='78897c66-d6a6-4c39-9623-060b3ed66ac0' settings=SpiderSettings(max_items=10) task_uuid='ae8617d0-d9ed-4a37-bf71-f5c75ef4aea7' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': ''}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-01 15:44:42.919 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 15:44:46.825 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 15:45:00.081 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='78897c66-d6a6-4c39-9623-060b3ed66ac0' settings=SpiderSettings(max_items=10) task_uuid='ae8617d0-d9ed-4a37-bf71-f5c75ef4aea7' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': ''}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-01 15:45:25.194 ERROR    :: Unexpected connection close from remote "amqp://crwl:******@rabbitmq:5672/", Connection.Close(reply_code=320, reply_text="CONNECTION_FORCED - broker forced connection closure with reason 'shutdown'")
NoneType: None
2023-09-01 15:45:25.277 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-09-01 16:07:00.939 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-09-01 16:07:00.959 ERROR    :: Ошибка связи с брокером: [Errno 111] Connection refused
2023-09-01 16:07:06.025 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 16:07:11.400 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 16:12:54.433 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 16:12:59.894 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 20:44:13.147 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 20:44:18.873 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 21:03:10.486 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 21:03:16.397 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 21:04:23.740 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 21:04:29.204 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 21:06:26.825 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 21:06:33.015 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 21:42:23.358 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 21:42:30.287 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 21:46:44.497 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 21:46:50.328 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 21:58:32.187 INFO     :: Связь с AMQP сервером установлена.
2023-09-01 21:58:37.944 INFO     :: Связь с AMQP сервером установлена.
2023-09-02 00:06:15.617 INFO     :: Связь с AMQP сервером установлена.
2023-09-02 00:06:21.314 INFO     :: Связь с AMQP сервером установлена.
2023-09-02 00:16:33.100 INFO     :: Связь с AMQP сервером установлена.
2023-09-02 00:31:55.294 INFO     :: Связь с AMQP сервером установлена.
2023-09-02 19:59:44.060 INFO     :: Связь с AMQP сервером установлена.
2023-09-02 19:59:49.646 INFO     :: Связь с AMQP сервером установлена.
2023-09-02 20:04:00.086 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='a3dc169f-84b2-49a5-9a1b-26f2d1de5f72' settings=SpiderSettings(max_items=10) task_uuid='edf60edb-627d-4c17-ac37-9edce9b2a17e' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-02 20:05:00.073 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='a3dc169f-84b2-49a5-9a1b-26f2d1de5f72' settings=SpiderSettings(max_items=10) task_uuid='edf60edb-627d-4c17-ac37-9edce9b2a17e' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-02 20:06:00.068 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='a3dc169f-84b2-49a5-9a1b-26f2d1de5f72' settings=SpiderSettings(max_items=10) task_uuid='edf60edb-627d-4c17-ac37-9edce9b2a17e' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-02 20:07:00.067 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='a3dc169f-84b2-49a5-9a1b-26f2d1de5f72' settings=SpiderSettings(max_items=10) task_uuid='edf60edb-627d-4c17-ac37-9edce9b2a17e' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-02 20:07:23.263 INFO     :: Связь с AMQP сервером установлена.
2023-09-02 20:08:00.069 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='a3dc169f-84b2-49a5-9a1b-26f2d1de5f72' settings=SpiderSettings(max_items=10) task_uuid='edf60edb-627d-4c17-ac37-9edce9b2a17e' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-02 20:12:41.491 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='a3dc169f-84b2-49a5-9a1b-26f2d1de5f72' settings=SpiderSettings(max_items=10) task_uuid='edf60edb-627d-4c17-ac37-9edce9b2a17e' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-02 20:12:47.667 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='a3dc169f-84b2-49a5-9a1b-26f2d1de5f72' settings=SpiderSettings(max_items=10) task_uuid='edf60edb-627d-4c17-ac37-9edce9b2a17e' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-02 20:12:54.559 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='a3dc169f-84b2-49a5-9a1b-26f2d1de5f72' settings=SpiderSettings(max_items=10) task_uuid='edf60edb-627d-4c17-ac37-9edce9b2a17e' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-02 20:13:01.201 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='a3dc169f-84b2-49a5-9a1b-26f2d1de5f72' settings=SpiderSettings(max_items=10) task_uuid='edf60edb-627d-4c17-ac37-9edce9b2a17e' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-02 20:13:06.721 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='a3dc169f-84b2-49a5-9a1b-26f2d1de5f72' settings=SpiderSettings(max_items=10) task_uuid='edf60edb-627d-4c17-ac37-9edce9b2a17e' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-02 20:13:13.763 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='a3dc169f-84b2-49a5-9a1b-26f2d1de5f72' settings=SpiderSettings(max_items=10) task_uuid='edf60edb-627d-4c17-ac37-9edce9b2a17e' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-02 20:13:19.875 INFO     :: Связь с AMQP сервером установлена.
2023-09-02 20:13:23.761 INFO     :: Связь с AMQP сервером установлена.
2023-09-02 20:14:00.072 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='a3dc169f-84b2-49a5-9a1b-26f2d1de5f72' settings=SpiderSettings(max_items=10) task_uuid='edf60edb-627d-4c17-ac37-9edce9b2a17e' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-02 20:15:00.065 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='a3dc169f-84b2-49a5-9a1b-26f2d1de5f72' settings=SpiderSettings(max_items=10) task_uuid='edf60edb-627d-4c17-ac37-9edce9b2a17e' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-02 20:16:00.067 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='a3dc169f-84b2-49a5-9a1b-26f2d1de5f72' settings=SpiderSettings(max_items=10) task_uuid='edf60edb-627d-4c17-ac37-9edce9b2a17e' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-02 20:56:20.900 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-09-02 20:56:20.918 ERROR    :: Ошибка связи с брокером: [Errno 111] Connection refused
2023-09-02 20:56:26.026 INFO     :: Связь с AMQP сервером установлена.
2023-09-02 20:56:31.190 INFO     :: Связь с AMQP сервером установлена.
2023-09-02 21:07:29.882 INFO     :: Связь с AMQP сервером установлена.
2023-09-02 21:07:33.751 INFO     :: Связь с AMQP сервером установлена.
2023-09-02 21:11:00.052 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='0e0a282b-c8f1-42de-a10e-ad69673a3aae' settings=SpiderSettings(max_items=10) task_uuid='dd1dc4c2-2822-4256-ab83-2d6f80277339' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-02 21:12:00.082 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='0e0a282b-c8f1-42de-a10e-ad69673a3aae' settings=SpiderSettings(max_items=10) task_uuid='dd1dc4c2-2822-4256-ab83-2d6f80277339' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-03 11:51:19.043 INFO     :: Connection to amqp://crwl:******@rabbitmq/ closed. Reconnecting after 5 seconds.
2023-09-03 11:51:19.059 ERROR    :: Ошибка связи с брокером: [Errno 111] Connection refused
2023-09-03 11:51:24.128 INFO     :: Связь с AMQP сервером установлена.
2023-09-03 11:52:00.115 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='0e0a282b-c8f1-42de-a10e-ad69673a3aae' settings=SpiderSettings(max_items=10) task_uuid='dd1dc4c2-2822-4256-ab83-2d6f80277339' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-03 11:53:00.112 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='0e0a282b-c8f1-42de-a10e-ad69673a3aae' settings=SpiderSettings(max_items=10) task_uuid='dd1dc4c2-2822-4256-ab83-2d6f80277339' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-03 11:54:00.106 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='0e0a282b-c8f1-42de-a10e-ad69673a3aae' settings=SpiderSettings(max_items=10) task_uuid='dd1dc4c2-2822-4256-ab83-2d6f80277339' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-03 11:55:00.078 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='0e0a282b-c8f1-42de-a10e-ad69673a3aae' settings=SpiderSettings(max_items=10) task_uuid='dd1dc4c2-2822-4256-ab83-2d6f80277339' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-03 11:56:00.082 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='0e0a282b-c8f1-42de-a10e-ad69673a3aae' settings=SpiderSettings(max_items=10) task_uuid='dd1dc4c2-2822-4256-ab83-2d6f80277339' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-03 11:57:00.064 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='0e0a282b-c8f1-42de-a10e-ad69673a3aae' settings=SpiderSettings(max_items=10) task_uuid='dd1dc4c2-2822-4256-ab83-2d6f80277339' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-03 11:58:00.081 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='0e0a282b-c8f1-42de-a10e-ad69673a3aae' settings=SpiderSettings(max_items=10) task_uuid='dd1dc4c2-2822-4256-ab83-2d6f80277339' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-03 11:59:00.052 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='0e0a282b-c8f1-42de-a10e-ad69673a3aae' settings=SpiderSettings(max_items=10) task_uuid='dd1dc4c2-2822-4256-ab83-2d6f80277339' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-03 12:00:00.085 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='0e0a282b-c8f1-42de-a10e-ad69673a3aae' settings=SpiderSettings(max_items=10) task_uuid='dd1dc4c2-2822-4256-ab83-2d6f80277339' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-03 12:01:00.085 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='0e0a282b-c8f1-42de-a10e-ad69673a3aae' settings=SpiderSettings(max_items=10) task_uuid='dd1dc4c2-2822-4256-ab83-2d6f80277339' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-03 12:02:00.086 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='0e0a282b-c8f1-42de-a10e-ad69673a3aae' settings=SpiderSettings(max_items=10) task_uuid='dd1dc4c2-2822-4256-ab83-2d6f80277339' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-03 12:03:00.087 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='0e0a282b-c8f1-42de-a10e-ad69673a3aae' settings=SpiderSettings(max_items=10) task_uuid='dd1dc4c2-2822-4256-ab83-2d6f80277339' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-03 12:04:00.102 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='0e0a282b-c8f1-42de-a10e-ad69673a3aae' settings=SpiderSettings(max_items=10) task_uuid='dd1dc4c2-2822-4256-ab83-2d6f80277339' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-03 12:05:00.089 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='0e0a282b-c8f1-42de-a10e-ad69673a3aae' settings=SpiderSettings(max_items=10) task_uuid='dd1dc4c2-2822-4256-ab83-2d6f80277339' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-03 12:06:00.125 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='0e0a282b-c8f1-42de-a10e-ad69673a3aae' settings=SpiderSettings(max_items=10) task_uuid='dd1dc4c2-2822-4256-ab83-2d6f80277339' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-03 12:07:00.085 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='0e0a282b-c8f1-42de-a10e-ad69673a3aae' settings=SpiderSettings(max_items=10) task_uuid='dd1dc4c2-2822-4256-ab83-2d6f80277339' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-03 12:08:00.083 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='0e0a282b-c8f1-42de-a10e-ad69673a3aae' settings=SpiderSettings(max_items=10) task_uuid='dd1dc4c2-2822-4256-ab83-2d6f80277339' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-03 12:09:00.091 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='0e0a282b-c8f1-42de-a10e-ad69673a3aae' settings=SpiderSettings(max_items=10) task_uuid='dd1dc4c2-2822-4256-ab83-2d6f80277339' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-03 12:10:00.049 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='0e0a282b-c8f1-42de-a10e-ad69673a3aae' settings=SpiderSettings(max_items=10) task_uuid='dd1dc4c2-2822-4256-ab83-2d6f80277339' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-03 12:11:00.068 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='0e0a282b-c8f1-42de-a10e-ad69673a3aae' settings=SpiderSettings(max_items=10) task_uuid='dd1dc4c2-2822-4256-ab83-2d6f80277339' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-03 12:12:00.079 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='0e0a282b-c8f1-42de-a10e-ad69673a3aae' settings=SpiderSettings(max_items=10) task_uuid='dd1dc4c2-2822-4256-ab83-2d6f80277339' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-03 12:13:00.071 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='0e0a282b-c8f1-42de-a10e-ad69673a3aae' settings=SpiderSettings(max_items=10) task_uuid='dd1dc4c2-2822-4256-ab83-2d6f80277339' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-03 12:14:00.065 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='0e0a282b-c8f1-42de-a10e-ad69673a3aae' settings=SpiderSettings(max_items=10) task_uuid='dd1dc4c2-2822-4256-ab83-2d6f80277339' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-03 12:15:00.047 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='0e0a282b-c8f1-42de-a10e-ad69673a3aae' settings=SpiderSettings(max_items=10) task_uuid='dd1dc4c2-2822-4256-ab83-2d6f80277339' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-03 12:16:00.047 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='0e0a282b-c8f1-42de-a10e-ad69673a3aae' settings=SpiderSettings(max_items=10) task_uuid='dd1dc4c2-2822-4256-ab83-2d6f80277339' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-03 12:17:00.039 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='0e0a282b-c8f1-42de-a10e-ad69673a3aae' settings=SpiderSettings(max_items=10) task_uuid='dd1dc4c2-2822-4256-ab83-2d6f80277339' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-03 12:18:00.641 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='0e0a282b-c8f1-42de-a10e-ad69673a3aae' settings=SpiderSettings(max_items=10) task_uuid='dd1dc4c2-2822-4256-ab83-2d6f80277339' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
2023-09-03 12:19:00.041 ERROR    :: cron='* * * * *' resource_url='https://archi.ru/contests' language='ru' schema_uuid='0e0a282b-c8f1-42de-a10e-ad69673a3aae' settings=SpiderSettings(max_items=10) task_uuid='dd1dc4c2-2822-4256-ab83-2d6f80277339' schema_for_spider={'competition_card': {'about': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/div[@class="text1"]/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'request': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/@href'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': None, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'title': {'constraints': {'required': True, 'data_type': 'array', 'internal_type': 'str', 'max_length': 30, 'group': False}, 'selectors': {'xpath': '//article[@class="article1"]/header/a/text()'}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}, 'pagination': {}}, 'competition_item': {'meta': {'constraints': {'required': True, 'data_type': 'str', 'max_length': 500, 'index': False}, 'selectors': {'xpath': "(//td[@class='rec_value_2 border_no'])[3]/text()"}, 'postprocessors': {'geocode': None, 'source_lang': None, 'target_lang': None, 'strip': True, 'prefix': None, 'suffix': None, 'initial_date_format': None, 'new_date_format': None}}}}
